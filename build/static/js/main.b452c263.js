/*! For license information please see main.b452c263.js.LICENSE.txt */
!function(){var e={694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a)if(n.toString===Object.prototype.toString)for(var u in n)r.call(n,u)&&n[u]&&e.push(u);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},176:function(e){"use strict";e.exports=function(e,t,n,r,i,a,o,u){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,u],l=0;(s=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw s.framesToPop=1,s}}},573:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];function r(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,n);null!=t&&(i=t)}})),i}return(0,a.default)(r)};var r,i=n(54),a=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},54:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,i,a,o){var u=i||"<<anonymous>>",s=o||r;if(null==n[r])return t?new Error("Required "+a+" `"+s+"` was not specified in `"+u+"`."):null;for(var c=arguments.length,l=Array(c>6?c-6:0),f=6;f<c;f++)l[f-6]=arguments[f];return e.apply(void 0,[n,r,u,a,s].concat(l))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),_=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function z(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case x:return"Portal";case I:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){Y(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ee=null,Se=null;function Ie(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Te(e){Ee?Se?Se.push(e):Se=[e]:Ee=e}function _e(){if(Ee){var e=Ee,t=Se;if(Se=Ee=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Ae=!1;function Oe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==Ee||null!==Se)&&(Ne(),_e())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Pe=!1;if(l)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(le){Pe=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,je=!1,Ue=null,Ve={onError:function(e){Me=!0,Fe=e}};function ze(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Ye=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,Et,St,It,Tt=!1,_t=[],Ct=null,Nt=null,At=null,Ot=new Map,Dt=new Map,Pt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void It(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function Vt(){Tt=!1,null!==Ct&&jt(Ct)&&(Ct=null),null!==Nt&&jt(Nt)&&(Nt=null),null!==At&&jt(At)&&(At=null),Ot.forEach(Ut),Dt.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<_t.length){zt(_t[0],e);for(var n=1;n<_t.length;n++){var r=_t[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==Nt&&zt(Nt,e),null!==At&&zt(At,e),Ot.forEach(t),Dt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Pt.shift()}var qt=b.ReactCurrentBatchConfig,Ht=!0;function Kt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Wt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Gt(e,t,n,r){if(Ht){var i=$t(e,t,n,r);if(null===i)Hr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ot.set(a,Mt(Ot.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Dt.set(a,Mt(Dt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=$t(e,t,n,r))&&Hr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function In(){return Sn}var Tn=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_n=an(Tn),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),An=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=an(On),Pn=[9,13,27,32],Rn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!Rn||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){Te(r),0<(t=Wr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Gn=null;function Qn(e){jr(e,0)}function $n(e){if(G(bi(e)))return e}function Xn(e,t){if("change"===e)return t}var Yn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Yn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Gn=Wn=null)}function nr(e){if("value"===e.propertyName&&$n(Gn)){var t=[];Kn(t,Gn,e,we(e)),Oe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Gn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Wr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Er={},Sr={};function Ir(e){if(Er[e])return Er[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Er[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Tr=Ir("animationend"),_r=Ir("animationiteration"),Cr=Ir("animationstart"),Nr=Ir("transitionend"),Ar=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Ar.set(e,t),s(t,[e])}for(var Pr=0;Pr<Or.length;Pr++){var Rr=Or[Pr];Dr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Dr(Tr,"onAnimationEnd"),Dr(_r,"onAnimationIteration"),Dr(Cr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,je||(je=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var i=Kt;break;case 4:i=Wt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Oe((function(){var r=a,i=we(n),o=[];e:{var u=Ar.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=_n;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Nn;break;case Tr:case _r:case Cr:s=yn;break;case Nr:s=An;break;case"scroll":s=hn;break;case"wheel":s=Dn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=De(p,h))&&l.push(Kr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Xn;else if(Hn(u))if(Yn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Kn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?bi(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Rn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(g=en()):(Jt="value"in(Yt=i)?Yt.value:Yt.textContent,Bn=!0)),0<(y=Wr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=zn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Rn&&Vn(e,t)?(e=en(),Zt=Jt=Yt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}jr(o,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=De(e,n))&&r.unshift(Kr(e,a,i)),null!=(a=De(e,t))&&r.push(Kr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=De(n,a))&&o.unshift(Kr(n,s,u)):i||null!=(s=De(n,a))&&o.push(Kr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],Ei=-1;function Si(e){return{current:e}}function Ii(e){0>Ei||(e.current=xi[Ei],xi[Ei]=null,Ei--)}function Ti(e,t){Ei++,xi[Ei]=e.current,e.current=t}var _i={},Ci=Si(_i),Ni=Si(!1),Ai=_i;function Oi(e,t){var n=e.type.contextTypes;if(!n)return _i;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Ii(Ni),Ii(Ci)}function Ri(e,t,n){if(Ci.current!==_i)throw Error(a(168));Ti(Ci,t),Ti(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_i,Ai=Ci.current,Ti(Ci,e),Ti(Ni,Ni.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ii(Ni),Ii(Ci),Ti(Ci,e)):Ii(Ni),Ti(Ni,n)}var ji=null,Ui=!1,Vi=!1;function zi(e){null===ji?ji=[e]:ji.push(e)}function Bi(){if(!Vi&&null!==ji){Vi=!0;var e=0,t=kt;try{var n=ji;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ge(Ze,Bi),i}finally{kt=t,Vi=!1}}return null}var qi=[],Hi=0,Ki=null,Wi=0,Gi=[],Qi=0,$i=null,Xi=1,Yi="";function Ji(e,t){qi[Hi++]=Wi,qi[Hi++]=Ki,Ki=e,Wi=t}function Zi(e,t,n){Gi[Qi++]=Xi,Gi[Qi++]=Yi,Gi[Qi++]=$i,$i=e;var r=Xi;e=Yi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-ot(t)+i|n<<i|r,Yi=a+e}else Xi=1<<a|n<<i|r,Yi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Ki;)Ki=qi[--Hi],qi[Hi]=null,Wi=qi[--Hi],qi[Hi]=null;for(;e===$i;)$i=Gi[--Qi],Gi[Qi]=null,Yi=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Xi,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Si(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function xa(e){var t=ya.current;Ii(ya),e._currentValue=t}function Ea(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Ia(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ta=null;function _a(e){null===Ta?Ta=[e]:Ta.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,_a(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function Oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Da(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ra(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cs)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,_a(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Aa=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ms|=o,e.lanes=o,e.memoizedState=f}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Pa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Pa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Pa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ra(e,i,r))&&(nc(t,e,r,n),La(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=_i,a=t.contextType;return"object"===typeof a&&null!==a?a=Ia(a):(i=Di(t)?Ai:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):_i),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Ka(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Oa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ia(a):(a=Di(t)?Ai:Ci.current,i.context=Oi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Wa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function $a(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===E?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===D&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Wa(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=Wa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=Wa(e,null,t),n.return=e,n;case x:return(t=jc(t,e.mode,n)).return=e,t;case D:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case D:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===E){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Wa(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===E?((a=Lc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Rc(o.type,o.key,o.props,null,r.mode,s)).ref=Wa(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=jc(o,r.mode,s)).return=r,r=a}return u(r);case D:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Xa=$a(!0),Ya=$a(!1),Ja={},Za=Si(Ja),eo=Si(Ja),to=Si(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ti(to,t),Ti(eo,e),Ti(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii(Za),Ti(Za,t)}function io(){Ii(Za),Ii(eo),Ii(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Ti(eo,e),Ti(Za,n))}function oo(e){eo.current===e&&(Ii(Za),Ii(eo))}var uo=Si(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function Eo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Io(){var e=0!==bo;return bo=0,e}function To(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function _o(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function No(e){var t=_o(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Ms|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Ms|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=_o(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Oo(){}function Do(e,t){var n=vo,r=_o(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Ho(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Uo(9,Ro.bind(null,n,r,i,t),void 0,null),null===Ns)throw Error(a(349));0!==(30&po)||Po(n,t,i)}return i}function Po(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ro(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Na(e,1);null!==t&&nc(t,e,1,-1)}function jo(e){var t=To();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return _o().memoizedState}function zo(e,t,n,r){var i=To();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=_o();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&Eo(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function qo(e,t){return zo(8390656,8,e,t)}function Ho(e,t){return Bo(2048,8,e,t)}function Ko(e,t){return Bo(4,2,e,t)}function Wo(e,t){return Bo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Go.bind(null,t,e),n)}function $o(){}function Xo(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yo(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Ms|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return _o().memoizedState}function tu(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){nc(n,e,r,ec()),au(n,t,r)}}function nu(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,_a(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(nc(n,e,r,i=ec()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ia,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Ia,useCallback:function(e,t){return To().memoizedState=[e,void 0===t?null:t],e},useContext:Ia,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=To();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=To();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},To().memoizedState=e},useState:jo,useDebugValue:$o,useDeferredValue:function(e){return To().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Zo.bind(null,e[1]),To().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=To();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ns)throw Error(a(349));0!==(30&po)||Po(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Ro.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=To(),t=Ns.identifierPrefix;if(ia){var n=Yi;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ia,useCallback:Xo,useContext:Ia,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Wo,useMemo:Yo,useReducer:No,useRef:Vo,useState:function(){return No(Co)},useDebugValue:$o,useDeferredValue:function(e){return Jo(_o(),mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],_o().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Do,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ia,useCallback:Xo,useContext:Ia,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Wo,useMemo:Yo,useReducer:Ao,useRef:Vo,useState:function(){return Ao(Co)},useDebugValue:$o,useDeferredValue:function(e){var t=_o();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],_o().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Do,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Pa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hs||(Hs=!0,Ks=r),hu(0,t)},n}function vu(e,t,n){(n=Pa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Ws?Ws=new Set([this]):Ws.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Pa(-1,1)).tag=2,Ra(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Ya(t,null,n,r):Xa(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=Io(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hu(e,t,i))}function Eu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Dc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Su(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Hu(e,t,i)}return t.flags|=1,(e=Pc(a,r)).ref=t.ref,e.return=t,t.child=e}function Su(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hu(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return _u(e,t,n,r,i)}function Iu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Ps,Ds),Ds|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Ps,Ds),Ds|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ti(Ps,Ds),Ds|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ti(Ps,Ds),Ds|=r;return wu(e,t,i,n),t.child}function Tu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _u(e,t,n,r,i){var a=Di(n)?Ai:Ci.current;return a=Oi(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=Io(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hu(e,t,i))}function Cu(e,t,n,r,i){if(Di(n)){var a=!0;Mi(t)}else a=!1;if(Sa(t,i),null===t.stateNode)qu(e,t),qa(t,n,r),Ka(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ia(c):c=Oi(t,c=Di(n)?Ai:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Ha(t,o,r,c),Aa=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ni.current||Aa?("function"===typeof l&&(Va(t,n,l,r),s=t.memoizedState),(u=Aa||Ba(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Da(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ia(s):s=Oi(t,s=Di(n)?Ai:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Ha(t,o,r,s),Aa=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ni.current||Aa?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Aa||Ba(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Nu(e,t,n,r,a,i)}function Nu(e,t,n,r,i,a){Tu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Hu(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Xa(t,e.child,null,a),t.child=Xa(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Au(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),ro(e,t.containerInfo)}function Ou(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Du,Pu,Ru,Lu={dehydrated:null,treeContext:null,retryLane:0};function Mu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ti(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Mc(s,i,0,null),e=Lc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Mu(n),t.memoizedState=Lu,e):ju(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Uu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Xa(t,e.child,null,u),t.child.memoizedState=Mu(u),t.memoizedState=Lu,o);if(0===(1&t.mode))return Uu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Uu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=Ns)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),nc(r,e,i,-1))}return vc(),Uu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=_c.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Qi++]=Xi,Gi[Qi++]=Yi,Gi[Qi++]=$i,Xi=e.id,Yi=e.overflow,$i=t),(t=ju(t,r.children)).flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Pc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Pc(r,u):(u=Lc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Mu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Lu,i}return e=(u=e.child).sibling,i=Pc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function ju(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uu(e,t,n,r){return null!==r&&pa(r),Xa(t,e.child,null,n),(e=ju(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ea(e.return,t,n)}function zu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Bu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vu(e,n,t);else if(19===e.tag)Vu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zu(t,!0,n,null,a);break;case"together":zu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ms|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ku(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wu(t),null;case 1:case 17:return Di(t.type)&&Pi(),Wu(t),null;case 3:return r=t.stateNode,io(),Ii(Ni),Ii(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Wu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Pu(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Wu(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":X(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Ur("scroll",r)}switch(n){case"input":W(r),Z(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Du(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":X(e,r),i=$(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wu(t),null;case 6:if(e&&null!=t.stateNode)Ru(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Wu(t),null;case 13:if(Ii(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wu(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Rs&&(Rs=3):vc())),null!==t.updateQueue&&(t.flags|=4),Wu(t),null);case 4:return io(),null===e&&Br(t.stateNode.containerInfo),Wu(t),null;case 10:return xa(t.type._context),Wu(t),null;case 19:if(Ii(uo),null===(o=t.memoizedState))return Wu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Ku(o,!1);else{if(0!==Rs||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Ku(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>Bs&&(t.flags|=128,r=!0,Ku(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ku(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Wu(t),null}else 2*Ye()-o.renderingStartTime>Bs&&1073741824!==n&&(t.flags|=128,r=!0,Ku(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=uo.current,Ti(uo,r?1&n|2:1&n),t):(Wu(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ds)&&(Wu(t),6&t.subtreeFlags&&(t.flags|=8192)):Wu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qu(e,t){switch(ta(t),t.tag){case 1:return Di(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ii(Ni),Ii(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ii(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Du=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pu=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ru=function(e,t,n,r){n!==r&&(t.flags|=4)};var $u=!1,Xu=!1,Yu="function"===typeof WeakSet?WeakSet:Set,Ju=null;function Zu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ls=null,fs=!1;function hs(e,t,n){for(n=n.child;null!==n;)ds(e,t,n),n=n.sibling}function ds(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Xu||Zu(n,t);case 6:var r=ls,i=fs;ls=null,hs(e,t,n),fs=i,null!==(ls=r)&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Bt(e)):si(ls,n.stateNode));break;case 4:r=ls,i=fs,ls=n.stateNode.containerInfo,fs=!0,hs(e,t,n),ls=r,fs=i;break;case 0:case 11:case 14:case 15:if(!Xu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!Xu&&(Zu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Sc(n,t,u)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?(Xu=(r=Xu)||null!==n.memoizedState,hs(e,t,n),Xu=r):hs(e,t,n);break;default:hs(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Yu),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ls)throw Error(a(160));ds(o,u,i),ls=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Sc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ms(t,e),t=t.sibling}function ms(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),ys(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(m){Sc(e,e.return,m)}try{ns(5,e,e.return)}catch(m){Sc(e,e.return,m)}}break;case 1:vs(t,e),ys(e),512&r&&null!==n&&Zu(n,n.return);break;case 5:if(vs(t,e),ys(e),512&r&&null!==n&&Zu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Sc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&Y(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Sc(e,e.return,m)}}break;case 6:if(vs(t,e),ys(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Sc(e,e.return,m)}}break;case 3:if(vs(t,e),ys(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Sc(e,e.return,m)}break;case 4:default:vs(t,e),ys(e);break;case 13:vs(t,e),ys(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zs=Ye())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xu=(l=Xu)||f,vs(t,e),Xu=l):vs(t,e),ys(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Ju=e,f=e.child;null!==f;){for(h=Ju=f;null!==Ju;){switch(p=(d=Ju).child,d.tag){case 0:case 11:case 14:case 15:ns(4,d,d.return);break;case 1:Zu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Sc(r,n,m)}}break;case 5:Zu(d,d.return);break;case 22:if(null!==d.memoizedState){ws(h);continue}}null!==p?(p.return=d,Ju=p):ws(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Sc(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Sc(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vs(t,e),ys(e),4&r&&ps(e);case 21:}}function ys(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cs(e,us(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){Sc(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){Ju=e,ks(e,t,n)}function ks(e,t,n){for(var r=0!==(1&e.mode);null!==Ju;){var i=Ju,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$u;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Xu;u=$u;var c=Xu;if($u=o,(Xu=s)&&!c)for(Ju=i;null!==Ju;)s=(o=Ju).child,22===o.tag&&null!==o.memoizedState?xs(i):null!==s?(s.return=o,Ju=s):xs(i);for(;null!==a;)Ju=a,ks(a,t,n),a=a.sibling;Ju=i,$u=u,Xu=c}bs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Ju=a):bs(e)}}function bs(e){for(;null!==Ju;){var t=Ju;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xu||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}Xu||512&t.flags&&is(t)}catch(d){Sc(t,t.return,d)}}if(t===e){Ju=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ju=n;break}Ju=t.return}}function ws(e){for(;null!==Ju;){var t=Ju;if(t===e){Ju=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ju=n;break}Ju=t.return}}function xs(e){for(;null!==Ju;){var t=Ju;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){Sc(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Sc(t,i,s)}}var a=t.return;try{is(t)}catch(s){Sc(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){Sc(t,o,s)}}}catch(s){Sc(t,t.return,s)}if(t===e){Ju=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Ju=u;break}Ju=t.return}}var Es,Ss=Math.ceil,Is=b.ReactCurrentDispatcher,Ts=b.ReactCurrentOwner,_s=b.ReactCurrentBatchConfig,Cs=0,Ns=null,As=null,Os=0,Ds=0,Ps=Si(0),Rs=0,Ls=null,Ms=0,Fs=0,js=0,Us=null,Vs=null,zs=0,Bs=1/0,qs=null,Hs=!1,Ks=null,Ws=null,Gs=!1,Qs=null,$s=0,Xs=0,Ys=null,Js=-1,Zs=0;function ec(){return 0!==(6&Cs)?Ye():-1!==Js?Js:Js=Ye()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cs)&&0!==Os?Os&-Os:null!==va.transition?(0===Zs&&(Zs=vt()),Zs):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,n,r){if(50<Xs)throw Xs=0,Ys=null,Error(a(185));yt(e,n,r),0!==(2&Cs)&&e===Ns||(e===Ns&&(0===(2&Cs)&&(Fs|=n),4===Rs&&uc(e,Os)),rc(e,r),1===n&&0===Cs&&0===(1&t.mode)&&(Bs=Ye()+500,Ui&&Bi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Ns?Os:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(sc.bind(null,e)):zi(sc.bind(null,e)),oi((function(){0===(6&Cs)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Js=-1,Zs=0,0!==(6&Cs))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===Ns?Os:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Cs;Cs|=2;var o=pc();for(Ns===e&&Os===t||(qs=null,Bs=Ye()+500,hc(e,t));;)try{gc();break}catch(s){dc(e,s)}wa(),Is.current=o,Cs=i,null!==As?t=0:(Ns=null,Os=0,t=Rs)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ls,hc(e,0),uc(e,r),rc(e,Ye()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Ls,hc(e,0),uc(e,r),rc(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Vs,qs);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=zs+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Vs,qs),t);break}wc(e,Vs,qs);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ss(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Vs,qs),r);break}wc(e,Vs,qs);break;default:throw Error(a(329))}}}return rc(e,Ye()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Us;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Vs,Vs=n,null!==t&&oc(t)),e}function oc(e){null===Vs?Vs=e:Vs.push.apply(Vs,e)}function uc(e,t){for(t&=~js,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Cs))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return rc(e,Ye()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ls,hc(e,0),uc(e,t),rc(e,Ye()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Vs,qs),rc(e,Ye()),null}function cc(e,t){var n=Cs;Cs|=1;try{return e(t)}finally{0===(Cs=n)&&(Bs=Ye()+500,Ui&&Bi())}}function lc(e){null!==Qs&&0===Qs.tag&&0===(6&Cs)&&xc();var t=Cs;Cs|=1;var n=_s.transition,r=kt;try{if(_s.transition=null,kt=1,e)return e()}finally{kt=r,_s.transition=n,0===(6&(Cs=t))&&Bi()}}function fc(){Ds=Ps.current,Ii(Ps)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==As)for(n=As.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:io(),Ii(Ni),Ii(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ii(uo);break;case 10:xa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Ns=e,As=e=Pc(e.current,null),Os=Ds=t,Rs=0,Ls=null,js=Fs=Ms=0,Vs=Us=null,null!==Ta){for(t=0;t<Ta.length;t++)if(null!==(r=(n=Ta[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ta=null}return e}function dc(e,t){for(;;){var n=As;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Ts.current=null,null===n||null===n.return){Rs=1,Ls=t,As=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Os,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Rs&&(Rs=2),null===Us?Us=[o]:Us.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ws||!Ws.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,As===n&&null!==n&&(As=n=n.return);continue}break}}function pc(){var e=Is.current;return Is.current=ou,null===e?ou:e}function vc(){0!==Rs&&3!==Rs&&2!==Rs||(Rs=4),null===Ns||0===(268435455&Ms)&&0===(268435455&Fs)||uc(Ns,Os)}function mc(e,t){var n=Cs;Cs|=2;var r=pc();for(Ns===e&&Os===t||(qs=null,hc(e,t));;)try{yc();break}catch(i){dc(e,i)}if(wa(),Cs=n,Is.current=r,null!==As)throw Error(a(261));return Ns=null,Os=0,Rs}function yc(){for(;null!==As;)kc(As)}function gc(){for(;null!==As&&!$e();)kc(As)}function kc(e){var t=Es(e.alternate,e,Ds);e.memoizedProps=e.pendingProps,null===t?bc(e):As=t,Ts.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gu(n,t,Ds)))return void(As=n)}else{if(null!==(n=Qu(n,t)))return n.flags&=32767,void(As=n);if(null===e)return Rs=6,void(As=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(As=t);As=t=e}while(null!==t);0===Rs&&(Rs=5)}function wc(e,t,n){var r=kt,i=_s.transition;try{_s.transition=null,kt=1,function(e,t,n,r){do{xc()}while(null!==Qs);if(0!==(6&Cs))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ns&&(As=Ns=null,Os=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gs||(Gs=!0,Nc(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=_s.transition,_s.transition=null;var u=kt;kt=1;var s=Cs;Cs|=4,Ts.current=null,function(e,t){if(ei=Ht,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Ju=t;null!==Ju;)if(e=(t=Ju).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ju=e;else for(;null!==Ju;){t=Ju;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Sc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ju=e;break}Ju=t.return}v=ts,ts=!1}(e,n),ms(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,gs(n,e,i),Xe(),Cs=s,kt=u,_s.transition=o}else e.current=n;if(Gs&&(Gs=!1,Qs=e,$s=i),0===(o=e.pendingLanes)&&(Ws=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Hs)throw Hs=!1,e=Ks,Ks=null,e;0!==(1&$s)&&0!==e.tag&&xc(),0!==(1&(o=e.pendingLanes))?e===Ys?Xs++:(Xs=0,Ys=e):Xs=0,Bi()}(e,t,n,r)}finally{_s.transition=i,kt=r}return null}function xc(){if(null!==Qs){var e=bt($s),t=_s.transition,n=kt;try{if(_s.transition=null,kt=16>e?16:e,null===Qs)var r=!1;else{if(e=Qs,Qs=null,$s=0,0!==(6&Cs))throw Error(a(331));var i=Cs;for(Cs|=4,Ju=e.current;null!==Ju;){var o=Ju,u=o.child;if(0!==(16&Ju.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Ju=l;null!==Ju;){var f=Ju;switch(f.tag){case 0:case 11:case 15:ns(8,f,o)}var h=f.child;if(null!==h)h.return=f,Ju=h;else for(;null!==Ju;){var d=(f=Ju).sibling,p=f.return;if(as(f),f===l){Ju=null;break}if(null!==d){d.return=p,Ju=d;break}Ju=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Ju=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Ju=u;else e:for(;null!==Ju;){if(0!==(2048&(o=Ju).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Ju=g;break e}Ju=o.return}}var k=e.current;for(Ju=k;null!==Ju;){var b=(u=Ju).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Ju=b;else e:for(u=k;null!==Ju;){if(0!==(2048&(s=Ju).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(x){Sc(s,s.return,x)}if(s===u){Ju=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Ju=w;break e}Ju=s.return}}if(Cs=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,_s.transition=t}}return!1}function Ec(e,t,n){e=Ra(e,t=pu(0,t=lu(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ws||!Ws.has(r))){t=Ra(t,e=vu(t,e=lu(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Ns===e&&(Os&n)===n&&(4===Rs||3===Rs&&(130023424&Os)===Os&&500>Ye()-zs?hc(e,0):js|=n),rc(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Na(e,t))&&(yt(e,t,n),rc(e,n))}function _c(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tc(e,n)}function Nc(e,t){return Ge(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Ac(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Dc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case E:return Lc(n.children,i,o,t);case S:u=8,i|=8;break;case I:return(e=Oc(12,n,t,2|i)).elementType=I,e.lanes=o,e;case N:return(e=Oc(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Oc(19,n,t,i)).elementType=A,e.lanes=o,e;case P:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:u=10;break e;case _:u=9;break e;case C:u=11;break e;case O:u=14;break e;case D:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Oc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,a,o,u,s){return e=new Uc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Oc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oa(a),e}function zc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Bc(e){if(!e)return _i;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Di(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=Vc(n,r,!0,e,0,a,0,u,s)).context=Bc(null),n=e.current,(a=Pa(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Ra(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Hc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Pa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ra(i,t,o))&&(nc(e,i,o,a),La(e,i,o)),o}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}Es=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Au(t),da();break;case 5:ao(t);break;case 1:Di(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fu(e,t,n):(Ti(uo,1&uo.current),null!==(e=Hu(e,t,n))?e.sibling:null);Ti(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Iu(e,t,n)}return Hu(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qu(e,t),e=t.pendingProps;var i=Oi(t,Ci.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=Io();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oa(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Ka(t,r,e,n),t=Nu(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===O)return 14}return 2}(r),e=ma(r,e),i){case 0:t=_u(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=Eu(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,_u(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Au(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Da(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ou(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Ou(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ya(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Hu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Tu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xa(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ti(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ni.current){t=Hu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Pa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ea(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Ea(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ia(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),Eu(e,t,r,i=ma(r.type,i),n);case 15:return Su(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),qu(e,t),t.tag=1,Di(r)?(e=!0,Mi(t)):e=!1,Sa(t,n),qa(t,r,i),Ka(t,r,i,n),Nu(null,t,r,!0,e,n);case 19:return Bu(e,t,n);case 22:return Iu(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Kc(o);u.call(e)}}Hc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Kc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Kc(s);u.call(e)}}var s=Vc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),lc((function(){Hc(t,s,n,r)})),s}(n,t,e,i,r);return Kc(o)}Xc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hc(e,t,null,null)},Xc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Hc(null,e,null,null)})),t[pi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Ye()),0===(6&Cs)&&(Bs=Ye()+500,Bi()))}break;case 13:lc((function(){var t=Na(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Gc(e,1)}},xt=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},Et=function(e){if(13===e.tag){var t=tc(e),n=Na(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},St=function(){return kt},It=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ne=lc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Te,_e,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(a(200));return zc(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,E={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:E.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(_,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(_,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=N(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=N(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},P={transition:null},R={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:P,ReactCurrentOwner:E};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,P(x);else{var t=r(l);null!==t&&R(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(T),T=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&R(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,S=!1,I=null,T=-1,_=5,C=-1;function N(){return!(t.unstable_now()-C<_)}function A(){if(null!==I){var e=t.unstable_now();C=e;var n=!0;try{n=I(!0,e)}finally{n?E():(S=!1,I=null)}}else S=!1}if("function"===typeof k)E=function(){k(A)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,D=O.port2;O.port1.onmessage=A,E=function(){D.postMessage(null)}}else E=function(){y(A,0)};function P(e){I=e,S||(S=!0,E())}function R(e,n){T=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,P(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(T),T=-1):m=!0,R(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,P(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},391:function(e){"use strict";var t=function(){};e.exports=t}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".85e54fb8.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="lunchee:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="./",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunklunchee=self.webpackChunklunchee||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e=n(791),t=n(250);n.p;function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function u(e,t){if(null==e)return{};var n,r,i=o(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=n(694),c=n.n(s),l=n(184),f=["xxl","xl","lg","md","sm","xs"],h=e.createContext({prefixes:{},breakpoints:f,minBreakpoint:"xs"});h.Consumer,h.Provider;function d(t,n){var r=(0,e.useContext)(h).prefixes;return t||r[n]||n}var p=["bsPrefix","fluid","as","className"],v=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.fluid,i=e.as,o=void 0===i?"div":i,s=e.className,f=u(e,p),h=d(n,"container"),v="string"===typeof r?"-".concat(r):"-fluid";return(0,l.jsx)(o,a(a({ref:t},f),{},{className:c()(s,r?"".concat(h).concat(v):h)}))}));v.displayName="Container",v.defaultProps={fluid:!1};var m=v;n(573);function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y.apply(this,arguments)}n(176);function g(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function k(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function b(t,n){return Object.keys(n).reduce((function(r,i){var a,u=r,s=u[g(i)],c=u[i],l=o(u,[g(i),i].map(k)),f=n[i],h=function(t,n,r){var i=(0,e.useRef)(void 0!==t),a=(0,e.useState)(n),o=a[0],u=a[1],s=void 0!==t,c=i.current;return i.current=s,!s&&c&&o!==n&&u(n),[s?t:o,(0,e.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r&&r.apply(void 0,[e].concat(n)),u(e)}),[r])]}(c,s,t[f]),d=h[0],p=h[1];return y({},l,((a={})[i]=d,a[f]=p,a))}),t)}function w(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function x(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function E(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}w.__suppressDeprecationWarning=!0,x.__suppressDeprecationWarning=!0,E.__suppressDeprecationWarning=!0;var S=Function.prototype.bind.call(Function.prototype.call,[].slice);function I(e,t){return S(e.querySelectorAll(t))}var T=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var _=function(t,n){return(0,e.useMemo)((function(){return function(e,t){var n=T(e),r=T(t);return function(e){n&&n(e),r&&r(e)}}(t,n)}),[t,n])},C=e.createContext(null);C.displayName="NavContext";var N=C,A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},O=e.createContext(null),D=e.createContext(null);function P(e){return"".concat("data-rr-ui-").concat(e)}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t){if(e){if("string"===typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||L(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var F=function(t){var n=(0,e.useRef)(t);return(0,e.useEffect)((function(){n.current=t}),[t]),n};function j(t){var n=F(t);return(0,e.useCallback)((function(){return n.current&&n.current.apply(n,arguments)}),[n])}var U=["as","disabled"];function V(e){var t=e.tagName,n=e.disabled,r=e.href,i=e.target,a=e.rel,o=e.role,u=e.onClick,s=e.tabIndex,c=void 0===s?0:s,l=e.type;t||(t=null!=r||null!=i||null!=a?"a":"button");var f={tagName:t};if("button"===t)return[{type:l||"button",disabled:n},f];var h=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==u||u(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=o?o:"button",disabled:void 0,tabIndex:n?void 0:c,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?a:void 0,onClick:h,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),h(e))}},f]}var z=e.forwardRef((function(e,t){var n=e.as,r=e.disabled,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,U),a=M(V(Object.assign({tagName:n,disabled:r},i)),2),o=a[0],u=a[1].tagName;return(0,l.jsx)(u,Object.assign({},i,o,{ref:t}))}));z.displayName="Button";var B=z,q=["as","active","eventKey"];function H(t){var n=t.key,r=t.onClick,i=t.active,a=t.id,o=t.role,u=t.disabled,s=(0,e.useContext)(O),c=(0,e.useContext)(N),l=(0,e.useContext)(D),f=i,h={role:o};if(c){o||"tablist"!==c.role||(h.role="tab");var d=c.getControllerId(null!=n?n:null),p=c.getControlledId(null!=n?n:null);h[P("event-key")]=n,h.id=d||a,!(f=null==i&&null!=n?c.activeKey===n:i)&&(null!=l&&l.unmountOnExit||null!=l&&l.mountOnEnter)||(h["aria-controls"]=p)}return"tab"===h.role&&(h["aria-selected"]=f,f||(h.tabIndex=-1),u&&(h.tabIndex=-1,h["aria-disabled"]=!0)),h.onClick=j((function(e){u||(null==r||r(e),null!=n&&s&&!e.isPropagationStopped()&&s(n,e))})),[h,{isActive:f}]}var K=e.forwardRef((function(e,t){var n=e.as,r=void 0===n?B:n,i=e.active,a=e.eventKey,o=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,q),u=M(H(Object.assign({key:A(a,o.href),active:i},o)),2),s=u[0],c=u[1];return s[P("active")]=c.isActive,(0,l.jsx)(r,Object.assign({},o,s,{ref:t}))}));K.displayName="NavItem";var W=K,G=["as","onSelect","activeKey","role","onKeyDown"];var Q=function(){},$=P("event-key"),X=e.forwardRef((function(t,n){var r,i,a=t.as,o=void 0===a?"div":a,u=t.onSelect,s=t.activeKey,c=t.role,f=t.onKeyDown,h=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,G),d=(0,e.useReducer)((function(e){return!e}),!1)[1],p=(0,e.useRef)(!1),v=(0,e.useContext)(O),m=(0,e.useContext)(D);m&&(c=c||"tablist",s=m.activeKey,r=m.getControlledId,i=m.getControllerId);var y=(0,e.useRef)(null),g=function(e){var t=y.current;if(!t)return null;var n=I(t,"[".concat($,"]:not([aria-disabled=true])")),r=t.querySelector("[aria-selected=true]");if(!r||r!==document.activeElement)return null;var i=n.indexOf(r);if(-1===i)return null;var a=i+e;return a>=n.length&&(a=0),a<0&&(a=n.length-1),n[a]},k=function(e,t){null!=e&&(null==u||u(e,t),null==v||v(e,t))};(0,e.useEffect)((function(){if(y.current&&p.current){var e=y.current.querySelector("[".concat($,"][aria-selected=true]"));null==e||e.focus()}p.current=!1}));var b=_(n,y);return(0,l.jsx)(O.Provider,{value:k,children:(0,l.jsx)(N.Provider,{value:{role:c,activeKey:A(s),getControlledId:r||Q,getControllerId:i||Q},children:(0,l.jsx)(o,Object.assign({},h,{onKeyDown:function(e){if(null==f||f(e),m){var t,n;switch(e.key){case"ArrowLeft":case"ArrowUp":t=g(-1);break;case"ArrowRight":case"ArrowDown":t=g(1);break;default:return}if(t)e.preventDefault(),k(t.dataset[(n="EventKey","".concat("rrUi").concat(n))]||null,e),p.current=!0,d()}},ref:b,role:c}))})})}));X.displayName="Nav";var Y=Object.assign(X,{Item:W}),J=e.createContext(null);J.displayName="NavbarContext";var Z=J,ee=e.createContext(null);ee.displayName="CardHeaderContext";var te=ee,ne=/-(.)/g;var re=["className","bsPrefix","as"],ie=function(e){return e[0].toUpperCase()+(t=e,t.replace(ne,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function ae(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.displayName,i=void 0===r?ie(t):r,o=n.Component,s=n.defaultProps,f=e.forwardRef((function(e,n){var r=e.className,i=e.bsPrefix,s=e.as,f=void 0===s?o||"div":s,h=u(e,re),p=d(i,t);return(0,l.jsx)(f,a({ref:n,className:c()(r,p)},h))}));return f.defaultProps=s,f.displayName=i,f}var oe=ae("nav-item");var ue="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,se="undefined"!==typeof document||ue?e.useLayoutEffect:e.useEffect;new WeakMap;var ce=["onKeyDown"];var le=e.forwardRef((function(e,t){var n,r=e.onKeyDown,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,ce),a=M(V(Object.assign({tagName:"a"},i)),1)[0],o=j((function(e){a.onKeyDown(e),null==r||r(e)}));return(n=i.href)&&"#"!==n.trim()&&"button"!==i.role?(0,l.jsx)("a",Object.assign({ref:t},i,{onKeyDown:r})):(0,l.jsx)("a",Object.assign({ref:t},i,a,{onKeyDown:o}))}));le.displayName="Anchor";var fe=le,he=["bsPrefix","className","as","active","eventKey"],de=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,o=void 0===i?fe:i,s=e.active,f=e.eventKey,h=u(e,he);n=d(n,"nav-link");var p=M(H(a({key:A(f,h.href),active:s},h)),2),v=p[0],m=p[1];return(0,l.jsx)(o,a(a(a({},h),v),{},{ref:t,className:c()(r,n,h.disabled&&"disabled",m.isActive&&"active")}))}));de.displayName="NavLink",de.defaultProps={disabled:!1};var pe=de,ve=["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","activeKey"],me=e.forwardRef((function(t,n){var i,o,s,f=b(t,{activeKey:"onSelect"}),h=f.as,p=void 0===h?"div":h,v=f.bsPrefix,m=f.variant,y=f.fill,g=f.justify,k=f.navbar,w=f.navbarScroll,x=f.className,E=f.activeKey,S=u(f,ve),I=d(v,"nav"),T=!1,_=(0,e.useContext)(Z),C=(0,e.useContext)(te);return _?(o=_.bsPrefix,T=null==k||k):C&&(s=C.cardHeaderBsPrefix),(0,l.jsx)(Y,a({as:p,ref:n,activeKey:E,className:c()(x,(i={},r(i,I,!T),r(i,"".concat(o,"-nav"),T),r(i,"".concat(o,"-nav-scroll"),T&&w),r(i,"".concat(s,"-").concat(m),!!s),r(i,"".concat(I,"-").concat(m),!!m),r(i,"".concat(I,"-fill"),y),r(i,"".concat(I,"-justified"),g),i))},S))}));me.displayName="Nav",me.defaultProps={justify:!1,fill:!1};var ye=Object.assign(me,{Item:oe,Link:pe}),ge=["bsPrefix","className","as"],ke=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,o=u(e,ge);n=d(n,"navbar-brand");var s=i||(o.href?"a":"span");return(0,l.jsx)(s,a(a({},o),{},{ref:t,className:c()(r,n)}))}));ke.displayName="NavbarBrand";var be=ke;function we(e){return e&&e.ownerDocument||document}function xe(e,t){return function(e){var t=we(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var Ee=/([A-Z])/g;var Se=/^ms-/;function Ie(e){return function(e){return e.replace(Ee,"-$1").toLowerCase()}(e).replace(Se,"-ms-")}var Te=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var _e=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(Ie(t))||xe(e).getPropertyValue(Ie(t));Object.keys(t).forEach((function(i){var a=t[i];a||0===a?!function(e){return!(!e||!Te.test(e))}(i)?n+=Ie(i)+": "+a+";":r+=i+"("+a+") ":e.style.removeProperty(Ie(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};function Ce(e,t){return Ce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ce(e,t)}var Ne=n(164),Ae=!1,Oe=e.createContext(null),De="unmounted",Pe="exited",Re="entering",Le="entered",Me="exiting",Fe=function(t){var n,r;function i(e,n){var r;r=t.call(this,e,n)||this;var i,a=n&&!n.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?a?(i=Pe,r.appearStatus=Re):i=Le:i=e.unmountOnExit||e.mountOnEnter?De:Pe,r.state={status:i},r.nextCallback=null,r}r=t,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,Ce(n,r),i.getDerivedStateFromProps=function(e,t){return e.in&&t.status===De?{status:Pe}:null};var a=i.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Re&&n!==Le&&(t=Re):n!==Re&&n!==Le||(t=Me)}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},a.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Re){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:Ne.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Pe&&this.setState({status:De})},a.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[Ne.findDOMNode(this),r],a=i[0],o=i[1],u=this.getTimeouts(),s=r?u.appear:u.enter;!e&&!n||Ae?this.safeSetState({status:Le},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:Re},(function(){t.props.onEntering(a,o),t.onTransitionEnd(s,(function(){t.safeSetState({status:Le},(function(){t.props.onEntered(a,o)}))}))})))},a.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:Ne.findDOMNode(this);t&&!Ae?(this.props.onExit(r),this.safeSetState({status:Me},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Pe},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Pe},(function(){e.props.onExited(r)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:Ne.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},a.render=function(){var t=this.state.status;if(t===De)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,o(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return e.createElement(Oe.Provider,{value:null},"function"===typeof r?r(t,i):e.cloneElement(e.Children.only(r),i))},i}(e.Component);function je(){}Fe.contextType=Oe,Fe.propTypes={},Fe.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:je,onEntering:je,onEntered:je,onExit:je,onExiting:je,onExited:je},Fe.UNMOUNTED=De,Fe.EXITED=Pe,Fe.ENTERING=Re,Fe.ENTERED=Le,Fe.EXITING=Me;var Ue=Fe,Ve=!("undefined"===typeof window||!window.document||!window.document.createElement),ze=!1,Be=!1;try{var qe={get passive(){return ze=!0},get once(){return Be=ze=!0}};Ve&&(window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,!0))}catch(UI){}var He=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!Be){var i=r.once,a=r.capture,o=n;!Be&&i&&(o=n.__once||function e(r){this.removeEventListener(t,e,a),n.call(this,r)},n.__once=o),e.addEventListener(t,o,ze?r:a)}e.addEventListener(t,n,r)};var Ke=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};var We=function(e,t,n,r){return He(e,t,n,r),function(){Ke(e,t,n,r)}};function Ge(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),a=We(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),a()}}function Qe(e,t,n,r){null==n&&(n=function(e){var t=_e(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=Ge(e,n,r),a=We(e,"transitionend",t);return function(){i(),a()}}function $e(e,t){var n=_e(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function Xe(e,t){var n=$e(e,"transitionDuration"),r=$e(e,"transitionDelay"),i=Qe(e,(function(n){n.target===e&&(i(),t(n))}),n+r)}var Ye=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)};function Je(e){e.offsetHeight}var Ze,et=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],tt=e.forwardRef((function(t,n){var r=t.onEnter,i=t.onEntering,o=t.onEntered,s=t.onExit,c=t.onExiting,f=t.onExited,h=t.addEndListener,d=t.children,p=t.childRef,v=u(t,et),m=(0,e.useRef)(null),y=_(m,p),g=function(e){var t;y((t=e)&&"setState"in t?Ne.findDOMNode(t):null!=t?t:null)},k=function(e){return function(t){e&&m.current&&e(m.current,t)}},b=(0,e.useCallback)(k(r),[r]),w=(0,e.useCallback)(k(i),[i]),x=(0,e.useCallback)(k(o),[o]),E=(0,e.useCallback)(k(s),[s]),S=(0,e.useCallback)(k(c),[c]),I=(0,e.useCallback)(k(f),[f]),T=(0,e.useCallback)(k(h),[h]);return(0,l.jsx)(Ue,a(a({ref:n},v),{},{onEnter:b,onEntered:x,onEntering:w,onExit:E,onExited:I,onExiting:S,addEndListener:T,nodeRef:m,children:"function"===typeof d?function(e,t){return d(e,a(a({},t),{},{ref:g}))}:e.cloneElement(d,{ref:g})}))})),nt=tt,rt=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"],it={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function at(e,t){var n=t["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],r=it[e];return n+parseInt(_e(t,r[0]),10)+parseInt(_e(t,r[1]),10)}var ot=(r(Ze={},Pe,"collapse"),r(Ze,Me,"collapsing"),r(Ze,Re,"collapsing"),r(Ze,Le,"collapse show"),Ze),ut={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:at},st=e.forwardRef((function(t,n){var r=t.onEnter,i=t.onEntering,o=t.onEntered,s=t.onExit,f=t.onExiting,h=t.className,d=t.children,p=t.dimension,v=void 0===p?"height":p,m=t.getDimensionValue,y=void 0===m?at:m,g=u(t,rt),k="function"===typeof v?v():v,b=(0,e.useMemo)((function(){return Ye((function(e){e.style[k]="0"}),r)}),[k,r]),w=(0,e.useMemo)((function(){return Ye((function(e){var t="scroll".concat(k[0].toUpperCase()).concat(k.slice(1));e.style[k]="".concat(e[t],"px")}),i)}),[k,i]),x=(0,e.useMemo)((function(){return Ye((function(e){e.style[k]=null}),o)}),[k,o]),E=(0,e.useMemo)((function(){return Ye((function(e){e.style[k]="".concat(y(k,e),"px"),Je(e)}),s)}),[s,y,k]),S=(0,e.useMemo)((function(){return Ye((function(e){e.style[k]=null}),f)}),[k,f]);return(0,l.jsx)(nt,a(a({ref:n,addEndListener:Xe},g),{},{"aria-expanded":g.role?g.in:null,onEnter:b,onEntering:w,onEntered:x,onExit:E,onExiting:S,childRef:d.ref,children:function(t,n){return e.cloneElement(d,a(a({},n),{},{className:c()(h,d.props.className,ot[t],"width"===k&&"collapse-horizontal")}))}}))}));st.defaultProps=ut;var ct=st,lt=["children","bsPrefix"],ft=e.forwardRef((function(t,n){var r=t.children,i=t.bsPrefix,o=u(t,lt);i=d(i,"navbar-collapse");var s=(0,e.useContext)(Z);return(0,l.jsx)(ct,a(a({in:!(!s||!s.expanded)},o),{},{children:(0,l.jsx)("div",{ref:n,className:i,children:r})}))}));ft.displayName="NavbarCollapse";var ht=ft,dt=["bsPrefix","className","children","label","as","onClick"],pt=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,o=t.children,s=t.label,f=t.as,h=void 0===f?"button":f,p=t.onClick,v=u(t,dt);r=d(r,"navbar-toggler");var m=(0,e.useContext)(Z)||{},y=m.onToggle,g=m.expanded,k=j((function(e){p&&p(e),y&&y()}));return"button"===h&&(v.type="button"),(0,l.jsx)(h,a(a({},v),{},{ref:n,onClick:k,"aria-label":s,className:c()(i,r,!g&&"collapsed"),children:o||(0,l.jsx)("span",{className:"".concat(r,"-icon")})}))}));pt.displayName="NavbarToggle",pt.defaultProps={label:"Toggle navigation"};var vt=pt,mt=new WeakMap,yt=function(e,t){if(e&&t){var n=mt.get(t)||new Map;mt.set(t,n);var r=n.get(e);return r||((r=t.matchMedia(e)).refCount=0,n.set(r.media,r)),r}};function gt(t,n){void 0===n&&(n="undefined"===typeof window?void 0:window);var r=yt(t,n),i=(0,e.useState)((function(){return!!r&&r.matches})),a=i[0],o=i[1];return se((function(){var e=yt(t,n);if(!e)return o(!1);var r=mt.get(n),i=function(){o(e.matches)};return e.refCount++,e.addListener(i),i(),function(){e.removeListener(i),e.refCount--,e.refCount<=0&&(null==r||r.delete(e.media)),e=void 0}}),[t]),a}var kt=function(t){var n=Object.keys(t);function r(e,t){return e===t?t:e?e+" and "+t:t}function i(e){var r=function(e){return n[Math.min(n.indexOf(e)+1,n.length-1)]}(e),i=t[r];return"(max-width: "+(i="number"===typeof i?i-.2+"px":"calc("+i+" - 0.2px)")+")"}return function(n,a,o){var u,s;"object"===typeof n?(u=n,o=a,a=!0):((s={})[n]=a=a||!0,u=s);var c=(0,e.useMemo)((function(){return Object.entries(u).reduce((function(e,n){var a=n[0],o=n[1];return"up"!==o&&!0!==o||(e=r(e,function(e){var n=t[e];return"number"===typeof n&&(n+="px"),"(min-width: "+n+")"}(a))),"down"!==o&&!0!==o||(e=r(e,i(a))),e}),"")}),[JSON.stringify(u)]);return gt(c,o)}}({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});function bt(e){void 0===e&&(e=we());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(UI){return e.body}}function wt(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function xt(t){var n=function(t){var n=(0,e.useRef)(t);return n.current=t,n}(t);(0,e.useEffect)((function(){return function(){return n.current()}}),[])}function Et(e){return function(e){if(Array.isArray(e))return R(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||L(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function St(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function It(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tt(e,t,n){return t&&It(e.prototype,t),n&&It(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var _t=P("modal-open"),Ct=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.ownerDocument,r=t.handleContainerOverflow,i=void 0===r||r,a=t.isRTL,o=void 0!==a&&a;St(this,e),this.handleContainerOverflow=i,this.isRTL=o,this.modals=[],this.ownerDocument=n}return Tt(e,[{key:"getScrollbarWidth",value:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}},{key:"getElement",value:function(){return(this.ownerDocument||document).body}},{key:"setModalAttributes",value:function(e){}},{key:"removeModalAttributes",value:function(e){}},{key:"setContainerStyle",value:function(e){var t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style=r({overflow:i.style.overflow},n,i.style[n]),e.scrollBarWidth&&(t[n]="".concat(parseInt(_e(i,n)||"0",10)+e.scrollBarWidth,"px")),i.setAttribute(_t,""),_e(i,t)}},{key:"reset",value:function(){var e=this;Et(this.modals).forEach((function(t){return e.remove(t)}))}},{key:"removeContainerStyle",value:function(e){var t=this.getElement();t.removeAttribute(_t),Object.assign(t.style,e.style)}},{key:"add",value:function(e){var t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}},{key:"isTopModal",value:function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}]),e}(),Nt=Ct,At=(0,e.createContext)(Ve?window:void 0);At.Provider;function Ot(){return(0,e.useContext)(At)}var Dt=function(e,t){var n;return Ve?null==e?(t||we()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),null!=(n=e)&&n.nodeType&&e||null):null};var Pt,Rt=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function Lt(t){var n=Ot(),r=t||function(e){return Pt||(Pt=new Nt({ownerDocument:null==e?void 0:e.document})),Pt}(n),i=(0,e.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:function(){return r.add(i.current)},remove:function(){return r.remove(i.current)},isTopModal:function(){return r.isTopModal(i.current)},setDialogRef:(0,e.useCallback)((function(e){i.current.dialog=e}),[]),setBackdropRef:(0,e.useCallback)((function(e){i.current.backdrop=e}),[])})}var Mt=(0,e.forwardRef)((function(t,n){var r=t.show,i=void 0!==r&&r,a=t.role,o=void 0===a?"dialog":a,u=t.className,s=t.style,c=t.children,f=t.backdrop,h=void 0===f||f,d=t.keyboard,p=void 0===d||d,v=t.onBackdropClick,m=t.onEscapeKeyDown,y=t.transition,g=t.backdropTransition,k=t.autoFocus,b=void 0===k||k,w=t.enforceFocus,x=void 0===w||w,E=t.restoreFocus,S=void 0===E||E,I=t.restoreFocusOptions,T=t.renderDialog,_=t.renderBackdrop,C=void 0===_?function(e){return(0,l.jsx)("div",Object.assign({},e))}:_,N=t.manager,A=t.container,O=t.onShow,D=t.onHide,P=void 0===D?function(){}:D,R=t.onExit,L=t.onExited,F=t.onExiting,U=t.onEnter,V=t.onEntering,z=t.onEntered,B=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,Rt),q=function(t,n){var r=Ot(),i=M((0,e.useState)((function(){return Dt(t,null==r?void 0:r.document)})),2),a=i[0],o=i[1];if(!a){var u=Dt(t);u&&o(u)}return(0,e.useEffect)((function(){n&&a&&n(a)}),[n,a]),(0,e.useEffect)((function(){var e=Dt(t);e!==a&&o(e)}),[t,a]),a}(A),H=Lt(N),K=function(){var t=(0,e.useRef)(!0),n=(0,e.useRef)((function(){return t.current}));return(0,e.useEffect)((function(){return t.current=!0,function(){t.current=!1}}),[]),n.current}(),W=function(t){var n=(0,e.useRef)(null);return(0,e.useEffect)((function(){n.current=t})),n.current}(i),G=M((0,e.useState)(!i),2),Q=G[0],$=G[1],X=(0,e.useRef)(null);(0,e.useImperativeHandle)(n,(function(){return H}),[H]),Ve&&!W&&i&&(X.current=bt()),y||i||Q?i&&Q&&$(!1):$(!0);var Y=j((function(){if(H.add(),re.current=We(document,"keydown",te),ne.current=We(document,"focus",(function(){return setTimeout(Z)}),!0),O&&O(),b){var e=bt(document);H.dialog&&e&&!wt(H.dialog,e)&&(X.current=e,H.dialog.focus())}})),J=j((function(){var e;(H.remove(),null==re.current||re.current(),null==ne.current||ne.current(),S)&&(null==(e=X.current)||null==e.focus||e.focus(I),X.current=null)}));(0,e.useEffect)((function(){i&&q&&Y()}),[i,q,Y]),(0,e.useEffect)((function(){Q&&J()}),[Q,J]),xt((function(){J()}));var Z=j((function(){if(x&&K()&&H.isTopModal()){var e=bt();H.dialog&&e&&!wt(H.dialog,e)&&H.dialog.focus()}})),ee=j((function(e){e.target===e.currentTarget&&(null==v||v(e),!0===h&&P())})),te=j((function(e){p&&27===e.keyCode&&H.isTopModal()&&(null==m||m(e),e.defaultPrevented||P())})),ne=(0,e.useRef)(),re=(0,e.useRef)(),ie=y;if(!q||!(i||ie&&!Q))return null;var ae=Object.assign({role:o,ref:H.setDialogRef,"aria-modal":"dialog"===o||void 0},B,{style:s,className:u,tabIndex:-1}),oe=T?T(ae):(0,l.jsx)("div",Object.assign({},ae,{children:e.cloneElement(c,{role:"document"})}));ie&&(oe=(0,l.jsx)(ie,{appear:!0,unmountOnExit:!0,in:!!i,onExit:R,onExiting:F,onExited:function(){$(!0),null==L||L.apply(void 0,arguments)},onEnter:U,onEntering:V,onEntered:z,children:oe}));var ue=null;if(h){var se=g;ue=C({ref:H.setBackdropRef,onClick:ee}),se&&(ue=(0,l.jsx)(se,{appear:!0,in:!!i,children:ue}))}return(0,l.jsx)(l.Fragment,{children:Ne.createPortal((0,l.jsxs)(l.Fragment,{children:[ue,oe]}),q)})}));Mt.displayName="Modal";var Ft,jt=Object.assign(Mt,{Manager:Nt}),Ut=["className","children","transitionClasses"],Vt=(r(Ft={},Re,"show"),r(Ft,Le,"show"),Ft),zt=e.forwardRef((function(t,n){var r=t.className,i=t.children,o=t.transitionClasses,s=void 0===o?{}:o,f=u(t,Ut),h=(0,e.useCallback)((function(e,t){Je(e),null==f.onEnter||f.onEnter(e,t)}),[f]);return(0,l.jsx)(nt,a(a({ref:n,addEndListener:Xe},f),{},{onEnter:h,childRef:i.ref,children:function(t,n){return e.cloneElement(i,a(a({},n),{},{className:c()("fade",r,i.props.className,Vt[t],s[t])}))}}))}));zt.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},zt.displayName="Fade";var Bt,qt=zt,Ht=ae("offcanvas-body"),Kt=["bsPrefix","className","children"],Wt=(r(Bt={},Re,"show"),r(Bt,Le,"show"),Bt),Gt=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,o=t.children,s=u(t,Kt);return r=d(r,"offcanvas"),(0,l.jsx)(nt,a(a({ref:n,addEndListener:Xe},s),{},{childRef:o.ref,children:function(t,n){return e.cloneElement(o,a(a({},n),{},{className:c()(i,o.props.className,(t===Re||t===Me)&&"".concat(r,"-toggling"),Wt[t])}))}}))}));Gt.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1},Gt.displayName="OffcanvasToggling";var Qt=Gt,$t=e.createContext({onHide:function(){}}),Xt=n(7),Yt=n.n(Xt),Jt=["className","variant"],Zt={"aria-label":Yt().string,onClick:Yt().func,variant:Yt().oneOf(["white"])},en=e.forwardRef((function(e,t){var n=e.className,r=e.variant,i=u(e,Jt);return(0,l.jsx)("button",a({ref:t,type:"button",className:c()("btn-close",r&&"btn-close-".concat(r),n)},i))}));en.displayName="CloseButton",en.propTypes=Zt,en.defaultProps={"aria-label":"Close"};var tn=en,nn=["closeLabel","closeVariant","closeButton","onHide","children"],rn=e.forwardRef((function(t,n){var r=t.closeLabel,i=t.closeVariant,o=t.closeButton,s=t.onHide,c=t.children,f=u(t,nn),h=(0,e.useContext)($t),d=j((function(){null==h||h.onHide(),null==s||s()}));return(0,l.jsxs)("div",a(a({ref:n},f),{},{children:[c,o&&(0,l.jsx)(tn,{"aria-label":r,variant:i,onClick:d})]}))}));rn.defaultProps={closeLabel:"Close",closeButton:!1};var an=rn,on=["bsPrefix","className"],un=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=u(e,on);return n=d(n,"offcanvas-header"),(0,l.jsx)(an,a(a({ref:t},i),{},{className:c()(r,n)}))}));un.displayName="OffcanvasHeader",un.defaultProps={closeLabel:"Close",closeButton:!1};var sn=un,cn=function(t){return e.forwardRef((function(e,n){return(0,l.jsx)("div",a(a({},e),{},{ref:n,className:c()(e.className,t)}))}))},ln=ae("offcanvas-title",{Component:cn("h5")});function fn(e){return fn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fn(e)}function hn(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=fn(e)););return e}function dn(){return dn="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=hn(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},dn.apply(this,arguments)}function pn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ce(e,t)}function vn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(UI){return!1}}function mn(e){return mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mn(e)}function yn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gn(e,t){if(t&&("object"===mn(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return yn(e)}function kn(e){var t=vn();return function(){var n,r=fn(e);if(t){var i=fn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return gn(this,n)}}function bn(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var wn,xn=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",En=".sticky-top",Sn=".navbar-toggler",In=function(e){pn(n,e);var t=kn(n);function n(){return St(this,n),t.apply(this,arguments)}return Tt(n,[{key:"adjustAndStore",value:function(e,t,n){var i=t.style[e];t.dataset[e]=i,_e(t,r({},e,"".concat(parseFloat(_e(t,e))+n,"px")))}},{key:"restore",value:function(e,t){var n=t.dataset[e];void 0!==n&&(delete t.dataset[e],_e(t,r({},e,n)))}},{key:"setContainerStyle",value:function(e){var t=this;dn(fn(n.prototype),"setContainerStyle",this).call(this,e);var r,i,a=this.getElement();if(i="modal-open",(r=a).classList?r.classList.add(i):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(r,i)||("string"===typeof r.className?r.className=r.className+" "+i:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+i)),e.scrollBarWidth){var o=this.isRTL?"paddingLeft":"paddingRight",u=this.isRTL?"marginLeft":"marginRight";I(a,xn).forEach((function(n){return t.adjustAndStore(o,n,e.scrollBarWidth)})),I(a,En).forEach((function(n){return t.adjustAndStore(u,n,-e.scrollBarWidth)})),I(a,Sn).forEach((function(n){return t.adjustAndStore(u,n,e.scrollBarWidth)}))}}},{key:"removeContainerStyle",value:function(e){var t=this;dn(fn(n.prototype),"removeContainerStyle",this).call(this,e);var r,i,a=this.getElement();i="modal-open",(r=a).classList?r.classList.remove(i):"string"===typeof r.className?r.className=bn(r.className,i):r.setAttribute("class",bn(r.className&&r.className.baseVal||"",i));var o=this.isRTL?"paddingLeft":"paddingRight",u=this.isRTL?"marginLeft":"marginRight";I(a,xn).forEach((function(e){return t.restore(o,e)})),I(a,En).forEach((function(e){return t.restore(u,e)})),I(a,Sn).forEach((function(e){return t.restore(u,e)}))}}]),n}(Nt);var Tn=In,_n=["bsPrefix","className","children","aria-labelledby","placement","responsive","show","backdrop","keyboard","scroll","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager","renderStaticNode"];function Cn(e){return(0,l.jsx)(Qt,a({},e))}function Nn(e){return(0,l.jsx)(qt,a({},e))}var An=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,o=t.children,s=t["aria-labelledby"],f=t.placement,h=t.responsive,p=t.show,v=t.backdrop,m=t.keyboard,y=t.scroll,g=t.onEscapeKeyDown,k=t.onShow,b=t.onHide,w=t.container,x=t.autoFocus,E=t.enforceFocus,S=t.restoreFocus,I=t.restoreFocusOptions,T=t.onEntered,_=t.onExit,C=t.onExiting,N=t.onEnter,A=t.onEntering,O=t.onExited,D=t.backdropClassName,P=t.manager,R=t.renderStaticNode,L=u(t,_n),F=(0,e.useRef)();r=d(r,"offcanvas");var U=((0,e.useContext)(Z)||{}).onToggle,V=M((0,e.useState)(!1),2),z=V[0],B=V[1],q=kt(h||"xs","up");(0,e.useEffect)((function(){B(h?p&&!q:p)}),[p,h,q]);var H=j((function(){null==U||U(),null==b||b()})),K=(0,e.useMemo)((function(){return{onHide:H}}),[H]);var W=(0,e.useCallback)((function(e){return(0,l.jsx)("div",a(a({},e),{},{className:c()("".concat(r,"-backdrop"),D)}))}),[D,r]),G=function(e){return(0,l.jsx)("div",a(a(a({},e),L),{},{className:c()(i,h?"".concat(r,"-").concat(h):r,"".concat(r,"-").concat(f)),"aria-labelledby":s,children:o}))};return(0,l.jsxs)(l.Fragment,{children:[!z&&(h||R)&&G({}),(0,l.jsx)($t.Provider,{value:K,children:(0,l.jsx)(jt,{show:z,ref:n,backdrop:v,container:w,keyboard:m,autoFocus:x,enforceFocus:E&&!y,restoreFocus:S,restoreFocusOptions:I,onEscapeKeyDown:g,onShow:k,onHide:H,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==N||N.apply(void 0,[e].concat(n))},onEntering:A,onEntered:T,onExit:_,onExiting:C,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==O||O.apply(void 0,n)},manager:P||(y?(F.current||(F.current=new Tn({handleContainerOverflow:!1})),F.current):function(e){return wn||(wn=new In(e)),wn}()),transition:Cn,backdropTransition:Nn,renderBackdrop:W,renderDialog:G})})]})}));An.displayName="Offcanvas",An.defaultProps={show:!1,backdrop:!0,keyboard:!0,scroll:!1,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,placement:"start",renderStaticNode:!1};var On=Object.assign(An,{Body:Ht,Header:sn,Title:ln}),Dn=e.forwardRef((function(t,n){var r=(0,e.useContext)(Z);return(0,l.jsx)(On,a(a({ref:n,show:!(null==r||!r.expanded)},t),{},{renderStaticNode:!0}))}));Dn.displayName="NavbarOffcanvas";var Pn=Dn,Rn=["bsPrefix","expand","variant","bg","fixed","sticky","className","as","expanded","onToggle","onSelect","collapseOnSelect"],Ln=ae("navbar-text",{Component:"span"}),Mn=e.forwardRef((function(t,n){var r=b(t,{expanded:"onToggle"}),i=r.bsPrefix,o=r.expand,s=r.variant,f=r.bg,h=r.fixed,p=r.sticky,v=r.className,m=r.as,y=void 0===m?"nav":m,g=r.expanded,k=r.onToggle,w=r.onSelect,x=r.collapseOnSelect,E=u(r,Rn),S=d(i,"navbar"),I=(0,e.useCallback)((function(){null==w||w.apply(void 0,arguments),x&&g&&(null==k||k(!1))}),[w,x,g,k]);void 0===E.role&&"nav"!==y&&(E.role="navigation");var T="".concat(S,"-expand");"string"===typeof o&&(T="".concat(T,"-").concat(o));var _=(0,e.useMemo)((function(){return{onToggle:function(){return null==k?void 0:k(!g)},bsPrefix:S,expanded:!!g,expand:o}}),[S,g,o,k]);return(0,l.jsx)(Z.Provider,{value:_,children:(0,l.jsx)(O.Provider,{value:I,children:(0,l.jsx)(y,a(a({ref:n},E),{},{className:c()(v,S,o&&T,s&&"".concat(S,"-").concat(s),f&&"bg-".concat(f),p&&"sticky-".concat(p),h&&"fixed-".concat(h))}))})})}));Mn.defaultProps={expand:!0,variant:"light",collapseOnSelect:!1},Mn.displayName="Navbar";var Fn=Object.assign(Mn,{Brand:be,Collapse:ht,Offcanvas:Pn,Text:Ln,Toggle:vt});function jn(){jn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(T){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new E(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return I()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=b(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};u(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(S([])));m&&m!==t&&n.call(m,i)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==mn(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,u)}),(function(e){r("throw",e,o,u)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function S(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:I}}function I(){return{value:void 0,done:!0}}return h.prototype=d,u(y,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(k.prototype),u(k.prototype,a,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(y),u(y,o,"Generator"),u(y,i,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function Un(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Vn(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Un(a,r,i,o,u,"next",e)}function u(e){Un(a,r,i,o,u,"throw",e)}o(void 0)}))}}function zn(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=L(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function Bn(e,t,n){return Bn=vn()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Ce(i,n.prototype),i},Bn.apply(null,arguments)}function qn(e){var t="function"===typeof Map?new Map:void 0;return qn=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Bn(e,arguments,fn(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Ce(n,e)},qn(e)}var Hn=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Kn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Hn(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Wn=function(e){return function(e){var t=Hn(e);return Kn.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Gn=function(e){try{return Kn.decodeString(e,!0)}catch(UI){console.error("base64Decode failed: ",UI)}return null};var Qn=function(){function e(){var t=this;St(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Tt(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function $n(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Xn(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($n())}function Yn(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Jn(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Zn(){var e=$n();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function er(){return"object"===typeof indexedDB}function tr(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}}))}var nr=function(e){pn(n,e);var t=kn(n);function n(e,r,i){var a;return St(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(yn(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(yn(a),rr.prototype.create),a}return Tt(n)}(qn(Error)),rr=function(){function e(t,n,r){St(this,e),this.service=t,this.serviceName=n,this.errors=r}return Tt(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?ir(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new nr(n,a,t);return o}}]),e}();function ir(e,t){return e.replace(ar,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var ar=/\{\$([^}]+)}/g;function or(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(ur(u)&&ur(s)){if(!or(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function ur(e){return null!==e&&"object"===typeof e}function sr(e){for(var t=[],n=function(){var e=M(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function cr(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=M(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function lr(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var fr=function(){function e(t,n){var r=this;St(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Tt(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=zn(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=hr),void 0===r.error&&(r.error=hr),void 0===r.complete&&(r.complete=hr);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(UI){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(UI){"undefined"!==typeof console&&console.error&&console.error(UI)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function hr(){}var dr=144e5;function pr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(dr,r+i)}function vr(e){return e&&e._delegate?e._delegate:e}var mr=function(){function e(t,n,r){St(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Tt(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),yr="[DEFAULT]",gr=function(){function e(t,n){St(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Tt(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Qn;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(UI){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(UI){if(r)return null;throw UI}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:yr})}catch(UI){}var t,n=zn(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=M(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(UI){}}}catch(s){n.e(s)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yr;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Vn(jn().mark((function e(){var t;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Et(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Et(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yr;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yr;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=zn(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=M(i.value,2),s=u[0],c=u[1],l=this.normalizeInstanceIdentifier(s);r===l&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=zn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(u){i.e(u)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===yr?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yr;return this.component?this.component.multipleInstances?e:yr:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var kr,br,wr=function(){function e(t){St(this,e),this.name=t,this.providers=new Map}return Tt(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new gr(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),xr=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(br||(br={}));var Er={debug:br.DEBUG,verbose:br.VERBOSE,info:br.INFO,warn:br.WARN,error:br.ERROR,silent:br.SILENT},Sr=br.INFO,Ir=(r(kr={},br.DEBUG,"log"),r(kr,br.VERBOSE,"log"),r(kr,br.INFO,"info"),r(kr,br.WARN,"warn"),r(kr,br.ERROR,"error"),kr),Tr=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Ir[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},_r=function(){function e(t){St(this,e),this.name=t,this._logLevel=Sr,this._logHandler=Tr,this._userLogHandler=null,xr.push(this)}return Tt(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in br))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Er[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,br.DEBUG].concat(t)),this._logHandler.apply(this,[this,br.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,br.VERBOSE].concat(t)),this._logHandler.apply(this,[this,br.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,br.INFO].concat(t)),this._logHandler.apply(this,[this,br.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,br.WARN].concat(t)),this._logHandler.apply(this,[this,br.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,br.ERROR].concat(t)),this._logHandler.apply(this,[this,br.ERROR].concat(t))}}]),e}();var Cr,Nr;var Ar=new WeakMap,Or=new WeakMap,Dr=new WeakMap,Pr=new WeakMap,Rr=new WeakMap;var Lr={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Or.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Dr.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jr(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Mr(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Nr||(Nr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Ur(this),n),jr(Ar.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return jr(e.apply(Ur(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Ur(this),t].concat(r));return Dr.set(a,t.sort?t.sort():[t]),jr(a)}}function Fr(e){return"function"===typeof e?Mr(e):(e instanceof IDBTransaction&&function(e){if(!Or.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Or.set(e,t)}}(e),t=e,(Cr||(Cr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Lr):e);var t}function jr(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(jr(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Ar.set(t,e)})).catch((function(){})),Rr.set(t,e),t}(e);if(Pr.has(e))return Pr.get(e);var t=Fr(e);return t!==e&&(Pr.set(e,t),Rr.set(t,e)),t}var Ur=function(e){return Rr.get(e)};var Vr,zr,Br=["get","getKey","getAll","getAllKeys","count"],qr=["put","add","delete","clear"],Hr=new Map;function Kr(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Hr.get(t))return Hr.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=qr.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Br.includes(n))){var a=function(){var e=Vn(jn().mark((function e(t){var a,o,u,s,c,l,f=arguments;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Hr.set(t,a),a}}}Lr=function(e){return a(a({},e),{},{get:function(t,n,r){return Kr(t,n)||e.get(t,n,r)},has:function(t,n){return!!Kr(t,n)||e.has(t,n)}})}(Lr);var Wr=function(){function e(t){St(this,e),this.container=t}return Tt(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Gr="@firebase/app",Qr="0.7.31",$r=new _r("@firebase/app"),Xr="[DEFAULT]",Yr=(r(Vr={},Gr,"fire-core"),r(Vr,"@firebase/app-compat","fire-core-compat"),r(Vr,"@firebase/analytics","fire-analytics"),r(Vr,"@firebase/analytics-compat","fire-analytics-compat"),r(Vr,"@firebase/app-check","fire-app-check"),r(Vr,"@firebase/app-check-compat","fire-app-check-compat"),r(Vr,"@firebase/auth","fire-auth"),r(Vr,"@firebase/auth-compat","fire-auth-compat"),r(Vr,"@firebase/database","fire-rtdb"),r(Vr,"@firebase/database-compat","fire-rtdb-compat"),r(Vr,"@firebase/functions","fire-fn"),r(Vr,"@firebase/functions-compat","fire-fn-compat"),r(Vr,"@firebase/installations","fire-iid"),r(Vr,"@firebase/installations-compat","fire-iid-compat"),r(Vr,"@firebase/messaging","fire-fcm"),r(Vr,"@firebase/messaging-compat","fire-fcm-compat"),r(Vr,"@firebase/performance","fire-perf"),r(Vr,"@firebase/performance-compat","fire-perf-compat"),r(Vr,"@firebase/remote-config","fire-rc"),r(Vr,"@firebase/remote-config-compat","fire-rc-compat"),r(Vr,"@firebase/storage","fire-gcs"),r(Vr,"@firebase/storage-compat","fire-gcs-compat"),r(Vr,"@firebase/firestore","fire-fst"),r(Vr,"@firebase/firestore-compat","fire-fst-compat"),r(Vr,"fire-js","fire-js"),r(Vr,"firebase","fire-js-all"),Vr),Jr=new Map,Zr=new Map;function ei(e,t){try{e.container.addComponent(t)}catch(UI){$r.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),UI)}}function ti(e){var t=e.name;if(Zr.has(t))return $r.debug("There were multiple attempts to register component ".concat(t,".")),!1;Zr.set(t,e);var n,r=zn(Jr.values());try{for(r.s();!(n=r.n()).done;){ei(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function ni(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var ri=(r(zr={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),r(zr,"bad-app-name","Illegal App name: '{$appName}"),r(zr,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),r(zr,"app-deleted","Firebase App named '{$appName}' already deleted"),r(zr,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),r(zr,"invalid-log-argument","First argument to `onLog` must be null or a function."),r(zr,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),r(zr,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),r(zr,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),r(zr,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),zr),ii=new rr("app","Firebase",ri),ai=function(){function e(t,n,r){var i=this;St(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mr("app",(function(){return i}),"PUBLIC"))}return Tt(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw ii.create("app-deleted",{appName:this._name})}}]),e}(),oi="9.9.3";function ui(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xr,t=Jr.get(e);if(!t)throw ii.create("no-app",{appName:e});return t}function si(e,t,n){var r,i=null!==(r=Yr[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void $r.warn(u.join(" "))}ti(new mr("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var ci="firebase-heartbeat-store",li=null;function fi(){return li||(li=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=jr(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(jr(u.result),e.oldVersion,e.newVersion,jr(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(ci)}}).catch((function(e){throw ii.create("idb-open",{originalErrorMessage:e.message})}))),li}function hi(e){return di.apply(this,arguments)}function di(){return di=Vn(jn().mark((function e(t){var n,r,i;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fi();case 3:return r=e.sent,e.abrupt("return",r.transaction(ci).objectStore(ci).get(mi(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof nr?$r.warn(e.t0.message):(i=ii.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),$r.warn(i.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),di.apply(this,arguments)}function pi(e,t){return vi.apply(this,arguments)}function vi(){return vi=Vn(jn().mark((function e(t,n){var r,i,a,o,u;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fi();case 3:return i=e.sent,a=i.transaction(ci,"readwrite"),o=a.objectStore(ci),e.next=8,o.put(n,mi(t));case 8:return e.abrupt("return",a.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof nr?$r.warn(e.t0.message):(u=ii.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),$r.warn(u.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),vi.apply(this,arguments)}function mi(e){return"".concat(e.name,"!").concat(e.options.appId)}var yi=function(){function e(t){var n=this;St(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new wi(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Tt(e,[{key:"triggerHeartbeat",value:function(){var e=Vn(jn().mark((function e(){var t,n,r;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=gi(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Vn(jn().mark((function e(){var t,n,r,i,a;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=gi(),n=ki(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Wn(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function gi(){return(new Date).toISOString().substring(0,10)}function ki(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=zn(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),xi(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),xi(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var bi,wi=function(){function e(t){St(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Tt(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Vn(jn().mark((function e(){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(er()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",tr().then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Vn(jn().mark((function e(){var t;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,hi(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Vn(jn().mark((function e(t){var n,r;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",pi(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Vn(jn().mark((function e(t){var n,r;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",pi(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(Et(r.heartbeats),Et(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function xi(e){return Wn(JSON.stringify({version:2,heartbeats:e})).length}bi="",ti(new mr("platform-logger",(function(e){return new Wr(e)}),"PRIVATE")),ti(new mr("heartbeat",(function(e){return new yi(e)}),"PRIVATE")),si(Gr,Qr,bi),si(Gr,Qr,"esm2017"),si("fire-js","");si("firebase","9.9.3","app");var Ei,Si;var Ii=new WeakMap,Ti=new WeakMap,_i=new WeakMap,Ci=new WeakMap,Ni=new WeakMap;var Ai={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ti.get(e);if("objectStoreNames"===t)return e.objectStoreNames||_i.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pi(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Oi(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Si||(Si=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Ri(this),n),Pi(Ii.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Pi(e.apply(Ri(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Ri(this),t].concat(r));return _i.set(a,t.sort?t.sort():[t]),Pi(a)}}function Di(e){return"function"===typeof e?Oi(e):(e instanceof IDBTransaction&&function(e){if(!Ti.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Ti.set(e,t)}}(e),t=e,(Ei||(Ei=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Ai):e);var t}function Pi(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Pi(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Ii.set(t,e)})).catch((function(){})),Ni.set(t,e),t}(e);if(Ci.has(e))return Ci.get(e);var t=Di(e);return t!==e&&(Ci.set(e,t),Ni.set(t,e)),t}var Ri=function(e){return Ni.get(e)};var Li,Mi=["get","getKey","getAll","getAllKeys","count"],Fi=["put","add","delete","clear"],ji=new Map;function Ui(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(ji.get(t))return ji.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Fi.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Mi.includes(n))){var a=function(){var e=Vn(jn().mark((function e(t){var a,o,u,s,c,l,f=arguments;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return ji.set(t,a),a}}}!function(e){Ai=e(Ai)}((function(e){return a(a({},e),{},{get:function(t,n,r){return Ui(t,n)||e.get(t,n,r)},has:function(t,n){return!!Ui(t,n)||e.has(t,n)}})}));var Vi="@firebase/installations",zi="0.5.12",Bi=1e4,qi="w:".concat(zi),Hi="FIS_v2",Ki=36e5,Wi=(r(Li={},"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),r(Li,"not-registered","Firebase Installation is not registered."),r(Li,"installation-not-found","Firebase Installation not found."),r(Li,"request-failed",'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"'),r(Li,"app-offline","Could not process request. Application offline."),r(Li,"delete-pending-registration","Can't delete installation while there is a pending registration request."),Li),Gi=new rr("installations","Installations",Wi);function Qi(e){return e instanceof nr&&e.code.includes("request-failed")}function $i(e){var t=e.projectId;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function Xi(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function Yi(e,t){return Ji.apply(this,arguments)}function Ji(){return(Ji=Vn(jn().mark((function e(t,n){var r,i;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return r=e.sent,i=r.error,e.abrupt("return",Gi.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zi(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function ea(e,t){var n=t.refreshToken,r=Zi(e);return r.append("Authorization",function(e){return"".concat(Hi," ").concat(e)}(n)),r}function ta(e){return na.apply(this,arguments)}function na(){return na=Vn(jn().mark((function e(t){var n;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:if(!((n=e.sent).status>=500&&n.status<600)){e.next=5;break}return e.abrupt("return",t());case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),na.apply(this,arguments)}function ra(e,t){return ia.apply(this,arguments)}function ia(){return(ia=Vn(jn().mark((function e(t,n){var r,i,a,o,u,s,c,l,f,h,d,p;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=n.fid,o=$i(r),u=Zi(r),!(s=i.getImmediate({optional:!0}))){e.next=10;break}return e.next=8,s.getHeartbeatsHeader();case 8:(c=e.sent)&&u.append("x-firebase-client",c);case 10:return l={fid:a,authVersion:Hi,appId:r.appId,sdkVersion:qi},f={method:"POST",headers:u,body:JSON.stringify(l)},e.next=14,ta((function(){return fetch(o,f)}));case 14:if(!(h=e.sent).ok){e.next=23;break}return e.next=18,h.json();case 18:return d=e.sent,p={fid:d.fid||a,registrationStatus:2,refreshToken:d.refreshToken,authToken:Xi(d.authToken)},e.abrupt("return",p);case 23:return e.next=25,Yi("Create Installation",h);case 25:throw e.sent;case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function aa(e){return new Promise((function(t){setTimeout(t,e)}))}var oa=/^[cdef][\w-]{21}$/;function ua(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,Et(t))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return oa.test(t)?t:""}catch(n){return""}}function sa(e){return"".concat(e.appName,"!").concat(e.appId)}var ca=new Map;function la(e,t){var n=sa(e);fa(n,t),function(e,t){var n=da();n&&n.postMessage({key:e,fid:t});pa()}(n,t)}function fa(e,t){var n=ca.get(e);if(n){var r,i=zn(n);try{for(i.s();!(r=i.n()).done;){(0,r.value)(t)}}catch(a){i.e(a)}finally{i.f()}}}var ha=null;function da(){return!ha&&"BroadcastChannel"in self&&((ha=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){fa(e.data.key,e.data.fid)}),ha}function pa(){0===ca.size&&ha&&(ha.close(),ha=null)}var va="firebase-installations-store",ma=null;function ya(){return ma||(ma=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Pi(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Pi(u.result),e.oldVersion,e.newVersion,Pi(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-installations-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(va)}})),ma}function ga(e,t){return ka.apply(this,arguments)}function ka(){return ka=Vn(jn().mark((function e(t,n){var r,i,a,o,u;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=sa(t),e.next=3,ya();case 3:return i=e.sent,a=i.transaction(va,"readwrite"),o=a.objectStore(va),e.next=8,o.get(r);case 8:return u=e.sent,e.next=11,o.put(n,r);case 11:return e.next=13,a.done;case 13:return u&&u.fid===n.fid||la(t,n.fid),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)}))),ka.apply(this,arguments)}function ba(e){return wa.apply(this,arguments)}function wa(){return wa=Vn(jn().mark((function e(t){var n,r,i;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=sa(t),e.next=3,ya();case 3:return r=e.sent,i=r.transaction(va,"readwrite"),e.next=7,i.objectStore(va).delete(n);case 7:return e.next=9,i.done;case 9:case"end":return e.stop()}}),e)}))),wa.apply(this,arguments)}function xa(e,t){return Ea.apply(this,arguments)}function Ea(){return Ea=Vn(jn().mark((function e(t,n){var r,i,a,o,u,s;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=sa(t),e.next=3,ya();case 3:return i=e.sent,a=i.transaction(va,"readwrite"),o=a.objectStore(va),e.next=8,o.get(r);case 8:if(u=e.sent,void 0!==(s=n(u))){e.next=15;break}return e.next=13,o.delete(r);case 13:e.next=17;break;case 15:return e.next=17,o.put(s,r);case 17:return e.next=19,a.done;case 19:return!s||u&&u.fid===s.fid||la(t,s.fid),e.abrupt("return",s);case 21:case"end":return e.stop()}}),e)}))),Ea.apply(this,arguments)}function Sa(e){return Ia.apply(this,arguments)}function Ia(){return(Ia=Vn(jn().mark((function e(t){var n,r;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xa(t.appConfig,(function(e){var r=Ta(e),i=_a(t,r);return n=i.registrationPromise,i.installationEntry}));case 2:if(""!==(r=e.sent).fid){e.next=8;break}return e.next=6,n;case 6:return e.t0=e.sent,e.abrupt("return",{installationEntry:e.t0});case 8:return e.abrupt("return",{installationEntry:r,registrationPromise:n});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ta(e){return Da(e||{fid:ua(),registrationStatus:0})}function _a(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(Gi.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return Ca.apply(this,arguments)}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Na(e)}:{installationEntry:t}}function Ca(){return(Ca=Vn(jn().mark((function e(t,n){var r;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ra(t,n);case 3:return r=e.sent,e.abrupt("return",ga(t.appConfig,r));case 7:if(e.prev=7,e.t0=e.catch(0),!Qi(e.t0)||409!==e.t0.customData.serverCode){e.next=14;break}return e.next=12,ba(t.appConfig);case 12:e.next=16;break;case 14:return e.next=16,ga(t.appConfig,{fid:n.fid,registrationStatus:0});case 16:throw e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Na(e){return Aa.apply(this,arguments)}function Aa(){return(Aa=Vn(jn().mark((function e(t){var n,r,i,a;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oa(t.appConfig);case 2:n=e.sent;case 3:if(1!==n.registrationStatus){e.next=11;break}return e.next=6,aa(100);case 6:return e.next=8,Oa(t.appConfig);case 8:n=e.sent,e.next=3;break;case 11:if(0!==n.registrationStatus){e.next=22;break}return e.next=14,Sa(t);case 14:if(r=e.sent,i=r.installationEntry,!(a=r.registrationPromise)){e.next=21;break}return e.abrupt("return",a);case 21:return e.abrupt("return",i);case 22:return e.abrupt("return",n);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oa(e){return xa(e,(function(e){if(!e)throw Gi.create("installation-not-found");return Da(e)}))}function Da(e){return 1===(t=e).registrationStatus&&t.registrationTime+Bi<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function Pa(e,t){return Ra.apply(this,arguments)}function Ra(){return(Ra=Vn(jn().mark((function e(t,n){var r,i,a,o,u,s,c,l,f,h,d;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=La(r,n),o=ea(r,n),!(u=i.getImmediate({optional:!0}))){e.next=9;break}return e.next=7,u.getHeartbeatsHeader();case 7:(s=e.sent)&&o.append("x-firebase-client",s);case 9:return c={installation:{sdkVersion:qi,appId:r.appId}},l={method:"POST",headers:o,body:JSON.stringify(c)},e.next=13,ta((function(){return fetch(a,l)}));case 13:if(!(f=e.sent).ok){e.next=22;break}return e.next=17,f.json();case 17:return h=e.sent,d=Xi(h),e.abrupt("return",d);case 22:return e.next=24,Yi("Generate Auth Token",f);case 24:throw e.sent;case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function La(e,t){var n=t.fid;return"".concat($i(e),"/").concat(n,"/authTokens:generate")}function Ma(e){return Fa.apply(this,arguments)}function Fa(){return Fa=Vn(jn().mark((function e(t){var n,r,i,a,o=arguments;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],e.next=3,xa(t.appConfig,(function(e){if(!qa(e))throw Gi.create("not-registered");var i=e.authToken;if(!n&&Ha(i))return e;if(1===i.requestStatus)return r=ja(t,n),e;if(!navigator.onLine)throw Gi.create("app-offline");var a=Ka(e);return r=za(t,a),a}));case 3:if(i=e.sent,!r){e.next=10;break}return e.next=7,r;case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=i.authToken;case 11:return a=e.t0,e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Fa.apply(this,arguments)}function ja(e,t){return Ua.apply(this,arguments)}function Ua(){return(Ua=Vn(jn().mark((function e(t,n){var r,i;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Va(t.appConfig);case 2:r=e.sent;case 3:if(1!==r.authToken.requestStatus){e.next=11;break}return e.next=6,aa(100);case 6:return e.next=8,Va(t.appConfig);case 8:r=e.sent,e.next=3;break;case 11:if(0!==(i=r.authToken).requestStatus){e.next=16;break}return e.abrupt("return",Ma(t,n));case 16:return e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Va(e){return xa(e,(function(e){if(!qa(e))throw Gi.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+Bi<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e}))}function za(e,t){return Ba.apply(this,arguments)}function Ba(){return(Ba=Vn(jn().mark((function e(t,n){var r,i,a;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pa(t,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{authToken:r}),e.next=7,ga(t.appConfig,i);case 7:return e.abrupt("return",r);case 10:if(e.prev=10,e.t0=e.catch(0),!Qi(e.t0)||401!==e.t0.customData.serverCode&&404!==e.t0.customData.serverCode){e.next=17;break}return e.next=15,ba(t.appConfig);case 15:e.next=20;break;case 17:return a=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}),e.next=20,ga(t.appConfig,a);case 20:throw e.t0;case 21:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function qa(e){return void 0!==e&&2===e.registrationStatus}function Ha(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Ki}(e)}function Ka(e){var t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function Wa(){return(Wa=Vn(jn().mark((function e(t){var n,r,i,a;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,Sa(n);case 3:return r=e.sent,i=r.installationEntry,(a=r.registrationPromise)?a.catch(console.error):Ma(n).catch(console.error),e.abrupt("return",i.fid);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ga(){return Ga=Vn(jn().mark((function e(t){var n,r,i,a=arguments;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],r=t,e.next=4,Qa(r);case 4:return e.next=6,Ma(r,n);case 6:return i=e.sent,e.abrupt("return",i.token);case 8:case"end":return e.stop()}}),e)}))),Ga.apply(this,arguments)}function Qa(e){return $a.apply(this,arguments)}function $a(){return($a=Vn(jn().mark((function e(t){var n,r;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sa(t);case 2:if(n=e.sent,!(r=n.registrationPromise)){e.next=7;break}return e.next=7,r;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xa(e){return Gi.create("missing-app-config-values",{valueName:e})}var Ya,Ja="installations",Za=function(e){var t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Xa("App Configuration");if(!e.name)throw Xa("App Name");for(var t=0,n=["projectId","apiKey","appId"];t<n.length;t++){var r=n[t];if(!e.options[r])throw Xa(r)}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:ni(t,"heartbeat"),_delete:function(){return Promise.resolve()}}},eo=function(e){var t=ni(e.getProvider("app").getImmediate(),Ja).getImmediate(),n={getId:function(){return function(e){return Wa.apply(this,arguments)}(t)},getToken:function(e){return function(e){return Ga.apply(this,arguments)}(t,e)}};return n};ti(new mr(Ja,Za,"PUBLIC")),ti(new mr("installations-internal",eo,"PRIVATE")),si(Vi,zi),si(Vi,zi,"esm2017");var to="analytics",no=6e4,ro="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",io="https://www.googletagmanager.com/gtag/js",ao=new _r("@firebase/analytics");function oo(e){return Promise.all(e.map((function(e){return e.catch((function(e){return e}))})))}function uo(e,t){var n=document.createElement("script");n.src="".concat(io,"?l=").concat(e,"&id=").concat(t),n.async=!0,document.head.appendChild(n)}function so(e,t,n,r,i,a){return co.apply(this,arguments)}function co(){return co=Vn(jn().mark((function e(t,n,r,i,a,o){var u,s,c;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=i[a],e.prev=1,!u){e.next=7;break}return e.next=5,n[u];case 5:e.next=14;break;case 7:return e.next=9,oo(r);case 9:if(s=e.sent,c=s.find((function(e){return e.measurementId===a})),!c){e.next=14;break}return e.next=14,n[c.appId];case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),ao.error(e.t0);case 19:t("config",a,o);case 20:case"end":return e.stop()}}),e,null,[[1,16]])}))),co.apply(this,arguments)}function lo(e,t,n,r,i){return fo.apply(this,arguments)}function fo(){return fo=Vn(jn().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=[],!a||!a.send_to){e.next=26;break}return u=a.send_to,Array.isArray(u)||(u=[u]),e.next=7,oo(r);case 7:s=e.sent,c=zn(u),e.prev=9,f=function(){var e=l.value,t=s.find((function(t){return t.measurementId===e})),r=t&&n[t.appId];if(!r)return o=[],"break";o.push(r)},c.s();case 12:if((l=c.n()).done){e.next=18;break}if("break"!==f()){e.next=16;break}return e.abrupt("break",18);case 16:e.next=12;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(9),c.e(e.t0);case 23:return e.prev=23,c.f(),e.finish(23);case 26:return 0===o.length&&(o=Object.values(n)),e.next=29,Promise.all(o);case 29:t("event",i,a||{}),e.next=35;break;case 32:e.prev=32,e.t1=e.catch(0),ao.error(e.t1);case 35:case"end":return e.stop()}}),e,null,[[0,32],[9,20,23,26]])}))),fo.apply(this,arguments)}function ho(e,t,n,r,i){var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(a=window[i]),window[i]=function(e,t,n,r){function i(){return(i=Vn(jn().mark((function i(a,o,u){return jn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,"event"!==a){i.next=6;break}return i.next=4,lo(e,t,n,o,u);case 4:i.next=12;break;case 6:if("config"!==a){i.next=11;break}return i.next=9,so(e,t,n,r,o,u);case 9:i.next=12;break;case 11:"consent"===a?e("consent","update",u):e("set",o);case 12:i.next=17;break;case 14:i.prev=14,i.t0=i.catch(0),ao.error(i.t0);case 17:case"end":return i.stop()}}),i,null,[[0,14]])})))).apply(this,arguments)}return function(e,t,n){return i.apply(this,arguments)}}(a,e,t,n),{gtagCore:a,wrappedGtag:window[i]}}function po(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(io))return r}return null}var vo=(r(Ya={},"already-exists","A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId."),r(Ya,"already-initialized","initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance."),r(Ya,"already-initialized-settings","Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect."),r(Ya,"interop-component-reg-failed","Firebase Analytics Interop Component failed to instantiate: {$reason}"),r(Ya,"invalid-analytics-context","Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),r(Ya,"indexeddb-unavailable","IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),r(Ya,"fetch-throttle","The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}."),r(Ya,"config-fetch-failed","Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}"),r(Ya,"no-api-key",'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.'),r(Ya,"no-app-id",'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'),Ya),mo=new rr("analytics","Analytics",vo),yo=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;St(this,e),this.throttleMetadata=t,this.intervalMillis=n}return Tt(e,[{key:"getThrottleMetadata",value:function(e){return this.throttleMetadata[e]}},{key:"setThrottleMetadata",value:function(e,t){this.throttleMetadata[e]=t}},{key:"deleteThrottleMetadata",value:function(e){delete this.throttleMetadata[e]}}]),e}(),go=new yo;function ko(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function bo(e){return wo.apply(this,arguments)}function wo(){return wo=Vn(jn().mark((function e(t){var n,r,i,a,o,u,s,c;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.appId,i=t.apiKey,a={method:"GET",headers:ko(i)},o=ro.replace("{app-id}",r),e.next=5,fetch(o,a);case 5:if(200===(u=e.sent).status||304===u.status){e.next=18;break}return s="",e.prev=8,e.next=11,u.json();case 11:c=e.sent,(null===(n=c.error)||void 0===n?void 0:n.message)&&(s=c.error.message),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(8);case 17:throw mo.create("config-fetch-failed",{httpStatus:u.status,responseMessage:s});case 18:return e.abrupt("return",u.json());case 19:case"end":return e.stop()}}),e,null,[[8,15]])}))),wo.apply(this,arguments)}function xo(e){return Eo.apply(this,arguments)}function Eo(){return Eo=Vn(jn().mark((function e(t){var n,r,i,a,o,u,s,c,l=arguments;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>1&&void 0!==l[1]?l[1]:go,r=l.length>2?l[2]:void 0,i=t.options,a=i.appId,o=i.apiKey,u=i.measurementId,a){e.next=5;break}throw mo.create("no-app-id");case 5:if(o){e.next=9;break}if(!u){e.next=8;break}return e.abrupt("return",{measurementId:u,appId:a});case 8:throw mo.create("no-api-key");case 9:return s=n.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new Ao,setTimeout(Vn(jn().mark((function e(){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.abort();case 1:case"end":return e.stop()}}),e)}))),void 0!==r?r:no),e.abrupt("return",So({appId:a,apiKey:o,measurementId:u},s,c,n));case 13:case"end":return e.stop()}}),e)}))),Eo.apply(this,arguments)}function So(e,t,n){return Io.apply(this,arguments)}function Io(){return Io=Vn(jn().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.throttleEndTimeMillis,a=n.backoffCount,o=v.length>3&&void 0!==v[3]?v[3]:go,c=t.appId,l=t.measurementId,e.prev=3,e.next=6,To(r,i);case 6:e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(3),!l){e.next=13;break}return ao.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===(u=e.t0)||void 0===u?void 0:u.message,"]")),e.abrupt("return",{appId:c,measurementId:l});case 13:throw e.t0;case 14:return e.prev=14,e.next=17,bo(t);case 17:return f=e.sent,o.deleteThrottleMetadata(c),e.abrupt("return",f);case 22:if(e.prev=22,e.t1=e.catch(14),_o(h=e.t1)){e.next=33;break}if(o.deleteThrottleMetadata(c),!l){e.next=32;break}return ao.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===h||void 0===h?void 0:h.message,"]")),e.abrupt("return",{appId:c,measurementId:l});case 32:throw e.t1;case 33:return d=503===Number(null===(s=null===h||void 0===h?void 0:h.customData)||void 0===s?void 0:s.httpStatus)?pr(a,o.intervalMillis,30):pr(a,o.intervalMillis),p={throttleEndTimeMillis:Date.now()+d,backoffCount:a+1},o.setThrottleMetadata(c,p),ao.debug("Calling attemptFetch again in ".concat(d," millis")),e.abrupt("return",So(t,p,r,o));case 38:case"end":return e.stop()}}),e,null,[[3,8],[14,22]])}))),Io.apply(this,arguments)}function To(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener((function(){clearTimeout(a),r(mo.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}function _o(e){if(!(e instanceof nr)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}var Co,No,Ao=function(){function e(){St(this,e),this.listeners=[]}return Tt(e,[{key:"addEventListener",value:function(e){this.listeners.push(e)}},{key:"abort",value:function(){this.listeners.forEach((function(e){return e()}))}}]),e}();function Oo(){return Oo=Vn(jn().mark((function e(t,n,r,i,a){var o,u;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||!a.global){e.next=5;break}return t("event",r,i),e.abrupt("return");case 5:return e.next=7,n;case 7:o=e.sent,u=Object.assign(Object.assign({},i),{send_to:o}),t("event",r,u);case 10:case"end":return e.stop()}}),e)}))),Oo.apply(this,arguments)}function Do(e){No=e}function Po(e){Co=e}function Ro(){return Lo.apply(this,arguments)}function Lo(){return Lo=Vn(jn().mark((function e(){var t;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(er()){e.next=5;break}return ao.warn(mo.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),e.abrupt("return",!1);case 5:return e.prev=5,e.next=8,tr();case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(5),ao.warn(mo.create("indexeddb-unavailable",{errorInfo:null===(t=e.t0)||void 0===t?void 0:t.toString()}).message),e.abrupt("return",!1);case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,null,[[5,10]])}))),Lo.apply(this,arguments)}function Mo(){return Mo=Vn(jn().mark((function e(t,n,r,i,a,o,u){var s,c,l,f,h,d,p,v;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=xo(t)).then((function(e){r[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&ao.warn("The measurement ID in the local Firebase config (".concat(t.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(e.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return ao.error(e)})),n.push(c),l=Ro().then((function(e){return e?i.getId():void 0})),e.next=6,Promise.all([c,l]);case 6:return f=e.sent,h=M(f,2),d=h[0],p=h[1],po()||uo(o,d.measurementId),No&&(a("consent","default",No),Do(void 0)),a("js",new Date),(v=null!==(s=null===u||void 0===u?void 0:u.config)&&void 0!==s?s:{}).origin="firebase",v.update=!0,null!=p&&(v.firebase_id=p),a("config",d.measurementId,v),Co&&(a("set",Co),Po(void 0)),e.abrupt("return",d.measurementId);case 20:case"end":return e.stop()}}),e)}))),Mo.apply(this,arguments)}var Fo,jo,Uo=function(){function e(t){St(this,e),this.app=t}return Tt(e,[{key:"_delete",value:function(){return delete Vo[this.app.options.appId],Promise.resolve()}}]),e}(),Vo={},zo=[],Bo={},qo="dataLayer",Ho="gtag",Ko=!1;function Wo(){var e=[];if(Yn()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"(".concat(t+1,") ").concat(e)})).join(" "),n=mo.create("invalid-analytics-context",{errorInfo:t});ao.warn(n.message)}}function Go(e,t,n){Wo();var r=e.options.appId;if(!r)throw mo.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw mo.create("no-api-key");ao.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Vo[r])throw mo.create("already-exists",{id:r});if(!Ko){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(qo);var i=ho(Vo,zo,Bo,qo,Ho),a=i.wrappedGtag,o=i.gtagCore;jo=a,Fo=o,Ko=!0}return Vo[r]=function(e,t,n,r,i,a,o){return Mo.apply(this,arguments)}(e,zo,Bo,t,Fo,qo,n),new Uo(e)}function Qo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=ni(e,to);if(n.isInitialized()){var r=n.getImmediate();if(or(t,n.getOptions()))return r;throw mo.create("already-initialized")}var i=n.initialize({options:t});return i}function $o(e,t,n,r){e=vr(e),function(e,t,n,r,i){return Oo.apply(this,arguments)}(jo,Vo[e.app.options.appId],t,n,r).catch((function(e){return ao.error(e)}))}var Xo="@firebase/analytics",Yo="0.8.0";ti(new mr(to,(function(e,t){var n=t.options;return Go(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),ti(new mr("analytics-internal",(function(e){try{var t=e.getProvider(to).getImmediate();return{logEvent:function(e,n,r){return $o(t,e,n,r)}}}catch(UI){throw mo.create("interop-component-reg-failed",{reason:UI})}}),"PRIVATE")),si(Xo,Yo),si(Xo,Yo,"esm2017");function Jo(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Zo;Object.create;function eu(){return r({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var tu=eu,nu=new rr("auth","Firebase",eu()),ru=new _r("@firebase/auth");function iu(e){if(ru.logLevel<=br.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ru.error.apply(ru,["Auth (".concat(oi,"): ").concat(e)].concat(n))}}function au(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw cu.apply(void 0,[e].concat(n))}function ou(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return cu.apply(void 0,[e].concat(n))}function uu(e,t,n){var i=Object.assign(Object.assign({},tu()),r({},t,n));return new rr("auth","Firebase",i).create(t,{appName:e.name})}function su(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&au(e,"argument-error"),uu(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function cu(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Et(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Et(o)))}return nu.create.apply(nu,[e].concat(n))}function lu(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw cu.apply(void 0,[t].concat(r))}}function fu(e){var t="INTERNAL ASSERTION FAILED: "+e;throw iu(t),new Error(t)}function hu(e,t){e||fu(t)}var du=new Map;function pu(e){hu(e instanceof Function,"Expected a class definition");var t=du.get(e);return t?(hu(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,du.set(e,t),t)}function vu(e,t){var n=ni(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(or(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;au(r,"already-initialized")}return n.initialize({options:t})}function mu(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function yu(){return"http:"===gu()||"https:"===gu()}function gu(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var ku=function(){function e(t,n){St(this,e),this.shortDelay=t,this.longDelay=n,hu(n>t,"Short delay should be less than long delay!"),this.isMobile=Xn()||Jn()}return Tt(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(yu()||Yn()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function bu(e,t){hu(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var wu=function(){function e(){St(this,e)}return Tt(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void fu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void fu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void fu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),xu=(r(Zo={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),r(Zo,"MISSING_CUSTOM_TOKEN","internal-error"),r(Zo,"INVALID_IDENTIFIER","invalid-email"),r(Zo,"MISSING_CONTINUE_URI","internal-error"),r(Zo,"INVALID_PASSWORD","wrong-password"),r(Zo,"MISSING_PASSWORD","internal-error"),r(Zo,"EMAIL_EXISTS","email-already-in-use"),r(Zo,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),r(Zo,"INVALID_IDP_RESPONSE","invalid-credential"),r(Zo,"INVALID_PENDING_TOKEN","invalid-credential"),r(Zo,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),r(Zo,"MISSING_REQ_TYPE","internal-error"),r(Zo,"EMAIL_NOT_FOUND","user-not-found"),r(Zo,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),r(Zo,"EXPIRED_OOB_CODE","expired-action-code"),r(Zo,"INVALID_OOB_CODE","invalid-action-code"),r(Zo,"MISSING_OOB_CODE","internal-error"),r(Zo,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),r(Zo,"INVALID_ID_TOKEN","invalid-user-token"),r(Zo,"TOKEN_EXPIRED","user-token-expired"),r(Zo,"USER_NOT_FOUND","user-token-expired"),r(Zo,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),r(Zo,"INVALID_CODE","invalid-verification-code"),r(Zo,"INVALID_SESSION_INFO","invalid-verification-id"),r(Zo,"INVALID_TEMPORARY_PROOF","invalid-credential"),r(Zo,"MISSING_SESSION_INFO","missing-verification-id"),r(Zo,"SESSION_EXPIRED","code-expired"),r(Zo,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),r(Zo,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),r(Zo,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),r(Zo,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),r(Zo,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),r(Zo,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),r(Zo,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),r(Zo,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),r(Zo,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),r(Zo,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),r(Zo,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Zo),Eu=new ku(3e4,6e4);function Su(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Iu(e,t,n,r){return Tu.apply(this,arguments)}function Tu(){return Tu=Vn(jn().mark((function e(t,n,r,i){var a,o=arguments;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",_u(t,a,Vn(jn().mark((function e(){var a,o,u,s;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=sr(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",wu.fetch()(Ou(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Tu.apply(this,arguments)}function _u(e,t,n){return Cu.apply(this,arguments)}function Cu(){return Cu=Vn(jn().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},xu),n),e.prev=2,a=new Du(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Pu(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=M(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw Pu(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw Pu(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw Pu(t,"user-disabled",u);case 29:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw uu(t,d,h);case 34:au(t,d);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof nr)){e.next=41;break}throw e.t0;case 41:au(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Cu.apply(this,arguments)}function Nu(e,t,n,r){return Au.apply(this,arguments)}function Au(){return Au=Vn(jn().mark((function e(t,n,r,i){var a,o,u=arguments;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Iu(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&au(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Au.apply(this,arguments)}function Ou(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?bu(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Du=function(){function e(t){var n=this;St(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(ou(n.auth,"network-request-failed"))}),Eu.get())}))}return Tt(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Pu(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=ou(e,t,r);return i.customData._tokenResponse=n,i}function Ru(e,t){return Lu.apply(this,arguments)}function Lu(){return Lu=Vn(jn().mark((function e(t,n){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Iu(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Lu.apply(this,arguments)}function Mu(e,t){return Fu.apply(this,arguments)}function Fu(){return Fu=Vn(jn().mark((function e(t,n){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Iu(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Fu.apply(this,arguments)}function ju(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(UI){}}function Uu(){return Uu=Vn(jn().mark((function e(t){var n,r,i,a,o,u,s=arguments;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=vr(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,lu((a=zu(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:ju(Vu(a.auth_time)),issuedAtTime:ju(Vu(a.iat)),expirationTime:ju(Vu(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Uu.apply(this,arguments)}function Vu(e){return 1e3*Number(e)}function zu(e){var t,n=M(e.split("."),3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return iu("JWT malformed, contained fewer than 3 sections"),null;try{var o=Gn(i);return o?JSON.parse(o):(iu("Failed to decode base64 JWT payload"),null)}catch(UI){return iu("Caught error parsing JWT payload as JSON",null===(t=UI)||void 0===t?void 0:t.toString()),null}}function Bu(e,t){return qu.apply(this,arguments)}function qu(){return qu=Vn(jn().mark((function e(t,n){var r=arguments;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof nr&&Hu(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),qu.apply(this,arguments)}function Hu(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Ku=function(){function e(t){St(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Tt(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Vn(jn().mark((function t(){return jn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Vn(jn().mark((function e(){var t;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Wu=function(){function e(t,n){St(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Tt(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=ju(this.lastLoginAt),this.creationTime=ju(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Gu(e){return Qu.apply(this,arguments)}function Qu(){return Qu=Vn(jn().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Bu(t,Mu(r,{idToken:i}));case 6:lu(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Yu(o.providerUserInfo):[],s=Xu(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Wu(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Qu.apply(this,arguments)}function $u(){return($u=Vn(jn().mark((function e(t){var n;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=vr(t),e.next=3,Gu(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xu(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Et(n),Et(t))}function Yu(e){return e.map((function(e){var t=e.providerId,n=Jo(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Ju(e,t){return Zu.apply(this,arguments)}function Zu(){return Zu=Vn(jn().mark((function e(t,n){var r;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_u(t,{},Vn(jn().mark((function e(){var r,i,a,o,u,s;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=sr({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Ou(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",wu.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Zu.apply(this,arguments)}var es=function(){function e(){St(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Tt(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){lu(e.idToken,"internal-error"),lu("undefined"!==typeof e.idToken,"internal-error"),lu("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=zu(e);return lu(t,"internal-error"),lu("undefined"!==typeof t.exp,"internal-error"),lu("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Vn(jn().mark((function e(t){var n,r=arguments;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],lu(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Vn(jn().mark((function e(t,n){var r,i,a,o;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ju(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return fu("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(lu("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(lu("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(lu("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function ts(e,t){lu("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var ns=function(){function e(t){St(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Jo(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ku(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?Et(a.providerData):[],this.metadata=new Wu(a.createdAt||void 0,a.lastLoginAt||void 0)}return Tt(e,[{key:"getIdToken",value:function(){var e=Vn(jn().mark((function e(t){var n;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bu(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(lu(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Uu.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return $u.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(lu(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){lu(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Vn(jn().mark((function e(t){var n,r,i=arguments;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Gu(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Vn(jn().mark((function e(){var t;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Bu(this,Ru(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,E=n.stsTokenManager;lu(k&&E,t,"internal-error");var S=es.fromJSON(this.name,E);lu("string"===typeof k,t,"internal-error"),ts(f,t.name),ts(h,t.name),lu("boolean"===typeof b,t,"internal-error"),lu("boolean"===typeof w,t,"internal-error"),ts(d,t.name),ts(p,t.name),ts(v,t.name),ts(m,t.name),ts(y,t.name),ts(g,t.name);var I=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(I.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=Vn(jn().mark((function t(n,r){var i,a,o,u=arguments;return jn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new es).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Gu(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),rs=function(){function e(){St(this,e),this.type="NONE",this.storage={}}return Tt(e,[{key:"_isAvailable",value:function(){var e=Vn(jn().mark((function e(){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Vn(jn().mark((function e(t,n){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Vn(jn().mark((function e(t){var n;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Vn(jn().mark((function e(t){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();rs.type="NONE";var is=rs;function as(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var os=function(){function e(t,n,r){St(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=as(this.userKey,a.apiKey,o),this.fullPersistenceKey=as("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Tt(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Vn(jn().mark((function e(){var t;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?ns._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Vn(jn().mark((function e(t){var n;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Vn(jn().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return jn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(pu(is),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Vn(jn().mark((function e(t){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||pu(is),u=as(i,n.config.apiKey,n.name),s=null,c=zn(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=ns._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Vn(jn().mark((function e(t){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function us(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(fs(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ss(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ds(t))return"Blackberry";if(ps(t))return"Webos";if(cs(t))return"Safari";if((t.includes("chrome/")||ls(t))&&!t.includes("edge/"))return"Chrome";if(hs(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function ss(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$n();return/firefox\//i.test(e)}function cs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$n(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ls(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$n();return/crios\//i.test(e)}function fs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$n();return/iemobile/i.test(e)}function hs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$n();return/android/i.test(e)}function ds(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$n();return/blackberry/i.test(e)}function ps(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$n();return/webos/i.test(e)}function vs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$n();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ms(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$n();return vs(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function ys(){return Zn()&&10===document.documentMode}function gs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$n();return vs(e)||hs(e)||ps(e)||ds(e)||/windows phone/i.test(e)||fs(e)}function ks(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=us($n());break;case"Worker":t="".concat(us($n()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(oi,"/").concat(r)}var bs=function(){function e(t){St(this,e),this.auth=t,this.queue=[]}return Tt(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(UI){r(UI)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Vn(jn().mark((function e(t){var n,r,i,a,o,u,s,c;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=zn(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),u=zn(r);try{for(u.s();!(s=u.n()).done;){c=s.value;try{c()}catch(l){}}}catch(f){u.e(f)}finally{u.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ws=function(){function e(t,n,r){St(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Es(this),this.idTokenSubscription=new Es(this),this.beforeStateQueue=new bs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nu,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return Tt(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=pu(t)),this._initializationPromise=this.queue(Vn(jn().mark((function r(){var i,a;return jn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,os.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Vn(jn().mark((function e(){var t;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Vn(jn().mark((function e(t){var n,r,i,a,o,u,s;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return lu(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Vn(jn().mark((function e(t){var n;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Vn(jn().mark((function e(t){var n;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Gu(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Vn(jn().mark((function e(){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Vn(jn().mark((function e(t){var n;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?vr(t):null)&&lu(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Vn(jn().mark((function e(t){var n,r=this,i=arguments;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&lu(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Vn(jn().mark((function e(){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Vn(jn().mark((function e(){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Vn(jn().mark((function n(){return jn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(pu(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new rr("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Vn(jn().mark((function e(t,n){var r;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Vn(jn().mark((function e(t){var n;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return lu(n=t&&pu(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,os.create(this,[pu(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Vn(jn().mark((function e(t){var n,r;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Vn(jn().mark((function e(){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Vn(jn().mark((function e(t){var n=this;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Vn(jn().mark((function e(){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return lu(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Vn(jn().mark((function e(t){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return lu(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ks(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Vn(jn().mark((function e(){var t,n,i;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(i=e.sent)&&(n["X-Firebase-Client"]=i),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function xs(e){return vr(e)}var Es=function(){function e(t){var n=this;St(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new fr(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return Tt(e,[{key:"next",get:function(){return lu(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();var Ss=function(){function e(t,n){St(this,e),this.providerId=t,this.signInMethod=n}return Tt(e,[{key:"toJSON",value:function(){return fu("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return fu("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return fu("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return fu("not implemented")}}]),e}();function Is(e,t){return Ts.apply(this,arguments)}function Ts(){return Ts=Vn(jn().mark((function e(t,n){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Iu(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Ts.apply(this,arguments)}function _s(e,t){return Cs.apply(this,arguments)}function Cs(){return Cs=Vn(jn().mark((function e(t,n){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nu(t,"POST","/v1/accounts:signInWithPassword",Su(t,n)));case 1:case"end":return e.stop()}}),e)}))),Cs.apply(this,arguments)}function Ns(e,t){return As.apply(this,arguments)}function As(){return As=Vn(jn().mark((function e(t,n){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nu(t,"POST","/v1/accounts:signInWithEmailLink",Su(t,n)));case 1:case"end":return e.stop()}}),e)}))),As.apply(this,arguments)}function Os(e,t){return Ds.apply(this,arguments)}function Ds(){return Ds=Vn(jn().mark((function e(t,n){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nu(t,"POST","/v1/accounts:signInWithEmailLink",Su(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ds.apply(this,arguments)}var Ps=function(e){pn(n,e);var t=kn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return St(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Tt(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Vn(jn().mark((function e(t){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",_s(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Ns(t,{email:this._email,oobCode:this._password}));case 5:au(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Vn(jn().mark((function e(t,n){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Is(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Os(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:au(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Ss);function Rs(e,t){return Ls.apply(this,arguments)}function Ls(){return Ls=Vn(jn().mark((function e(t,n){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nu(t,"POST","/v1/accounts:signInWithIdp",Su(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ls.apply(this,arguments)}var Ms=function(e){pn(n,e);var t=kn(n);function n(){var e;return St(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Tt(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Rs(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Rs(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Rs(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=sr(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):au("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Jo(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Ss);function Fs(e,t){return js.apply(this,arguments)}function js(){return js=Vn(jn().mark((function e(t,n){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Iu(t,"POST","/v1/accounts:sendVerificationCode",Su(t,n)));case 1:case"end":return e.stop()}}),e)}))),js.apply(this,arguments)}function Us(){return Us=Vn(jn().mark((function e(t,n){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nu(t,"POST","/v1/accounts:signInWithPhoneNumber",Su(t,n)));case 1:case"end":return e.stop()}}),e)}))),Us.apply(this,arguments)}function Vs(){return Vs=Vn(jn().mark((function e(t,n){var r;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nu(t,"POST","/v1/accounts:signInWithPhoneNumber",Su(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Pu(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Vs.apply(this,arguments)}var zs=r({},"USER_NOT_FOUND","user-not-found");function Bs(){return Bs=Vn(jn().mark((function e(t,n){var r;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Nu(t,"POST","/v1/accounts:signInWithPhoneNumber",Su(t,r),zs));case 2:case"end":return e.stop()}}),e)}))),Bs.apply(this,arguments)}var qs=function(e){pn(n,e);var t=kn(n);function n(e){var r;return St(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Tt(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Us.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Vs.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Bs.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Ss);var Hs=function(){function e(t){var n,r,i,a,o,u;St(this,e);var s=cr(lr(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);lu(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return Tt(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=cr(lr(e)).link,n=t?cr(lr(t)).deep_link_id:null,r=cr(lr(e)).deep_link_id;return(r?cr(lr(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var Ks=function(){function e(){St(this,e),this.providerId=e.PROVIDER_ID}return Tt(e,null,[{key:"credential",value:function(e,t){return Ps._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Hs.parseLink(t);return lu(n,"argument-error"),Ps._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Ks.PROVIDER_ID="password",Ks.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ks.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Ws=function(){function e(t){St(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Tt(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Gs=function(e){pn(n,e);var t=kn(n);function n(){var e;return St(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Tt(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Et(this.scopes)}}]),n}(Ws),Qs=function(e){pn(n,e);var t=kn(n);function n(){return St(this,n),t.call(this,"facebook.com")}return Tt(n,null,[{key:"credential",value:function(e){return Ms._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Gs);Qs.FACEBOOK_SIGN_IN_METHOD="facebook.com",Qs.PROVIDER_ID="facebook.com";var $s=function(e){pn(n,e);var t=kn(n);function n(){var e;return St(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Tt(n,null,[{key:"credential",value:function(e,t){return Ms._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Gs);$s.GOOGLE_SIGN_IN_METHOD="google.com",$s.PROVIDER_ID="google.com";var Xs=function(e){pn(n,e);var t=kn(n);function n(){return St(this,n),t.call(this,"github.com")}return Tt(n,null,[{key:"credential",value:function(e){return Ms._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Gs);Xs.GITHUB_SIGN_IN_METHOD="github.com",Xs.PROVIDER_ID="github.com";var Ys=function(e){pn(n,e);var t=kn(n);function n(){return St(this,n),t.call(this,"twitter.com")}return Tt(n,null,[{key:"credential",value:function(e,t){return Ms._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Gs);Ys.TWITTER_SIGN_IN_METHOD="twitter.com",Ys.PROVIDER_ID="twitter.com";var Js=function(){function e(t){St(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Tt(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Vn(jn().mark((function t(n,r,i){var a,o,u,s,c=arguments;return jn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,ns._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Zs(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Vn(jn().mark((function t(n,r,i){var a;return jn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Zs(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Zs(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var ec=function(e){pn(n,e);var t=kn(n);function n(e,r,i,a){var o,u;return St(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(yn(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Tt(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(nr);function tc(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw ec._fromErrorAndOperation(e,n,t,r);throw n}))}function nc(e,t){return rc.apply(this,arguments)}function rc(){return rc=Vn(jn().mark((function e(t,n){var r,i,a=arguments;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Bu,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Js._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),rc.apply(this,arguments)}function ic(e,t){return ac.apply(this,arguments)}function ac(){return ac=Vn(jn().mark((function e(t,n){var r,i,a,o,u,s,c,l=arguments;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,Bu(t,tc(a,o,n,t),r);case 6:return lu((u=e.sent).idToken,a,"internal-error"),lu(s=zu(u.idToken),a,"internal-error"),c=s.sub,lu(t.uid===c,a,"user-mismatch"),e.abrupt("return",Js._forOperation(t,o,u));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&au(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),ac.apply(this,arguments)}function oc(e,t){return uc.apply(this,arguments)}function uc(){return uc=Vn(jn().mark((function e(t,n){var r,i,a,o,u=arguments;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,tc(t,i,n);case 4:return a=e.sent,e.next=7,Js._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),uc.apply(this,arguments)}function sc(e,t){return Iu(e,"POST","/v2/accounts/mfaEnrollment:start",Su(e,t))}new WeakMap;var cc="__sak",lc=function(){function e(t,n){St(this,e),this.storageRetriever=t,this.type=n}return Tt(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(cc,"1"),this.storage.removeItem(cc),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var fc=function(e){pn(n,e);var t=kn(n);function n(){var e;return St(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=$n();return cs(e)||vs(e)}()&&function(){try{return!(!window||window===window.top)}catch(UI){return!1}}(),e.fallbackToPolling=gs(),e._shouldAllowMigration=!0,e}return Tt(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);ys()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Vn(jn().mark((function e(t,r){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dn(fn(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Vn(jn().mark((function e(t){var r;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dn(fn(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Vn(jn().mark((function e(t){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dn(fn(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(lc);fc.type="LOCAL";var hc=fc,dc=function(e){pn(n,e);var t=kn(n);function n(){return St(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Tt(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(lc);dc.type="SESSION";var pc=dc;function vc(e){return Promise.all(e.map(function(){var e=Vn(jn().mark((function e(t){var n;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var mc=function(){function e(t){St(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Tt(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Vn(jn().mark((function e(t){var n,r,i,a,o,u,s,c;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Vn(jn().mark((function e(t){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,vc(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function yc(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}mc.receivers=[];var gc=function(){function e(t){St(this,e),this.target=t,this.handlers=new Set}return Tt(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Vn(jn().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=yc("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function kc(){return window}function bc(){return"undefined"!==typeof kc().WorkerGlobalScope&&"function"===typeof kc().importScripts}function wc(){return xc.apply(this,arguments)}function xc(){return(xc=Vn(jn().mark((function e(){var t;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Ec(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Sc="firebaseLocalStorageDb",Ic="firebaseLocalStorage",Tc="fbase_key",_c=function(){function e(t){St(this,e),this.request=t}return Tt(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Cc(e,t){return e.transaction([Ic],t?"readwrite":"readonly").objectStore(Ic)}function Nc(){var e=indexedDB.deleteDatabase(Sc);return new _c(e).toPromise()}function Ac(){var e=indexedDB.open(Sc,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Ic,{keyPath:Tc})}catch(UI){n(UI)}})),e.addEventListener("success",Vn(jn().mark((function n(){var r;return jn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Ic)){n.next=12;break}return r.close(),n.next=5,Nc();case 5:return n.t0=t,n.next=8,Ac();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Oc(e,t,n){return Dc.apply(this,arguments)}function Dc(){return Dc=Vn(jn().mark((function e(t,n,i){var a,o;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Cc(t,!0).put((r(a={},Tc,n),r(a,"value",i),a)),e.abrupt("return",new _c(o).toPromise());case 2:case"end":return e.stop()}}),e)}))),Dc.apply(this,arguments)}function Pc(e,t){return Rc.apply(this,arguments)}function Rc(){return Rc=Vn(jn().mark((function e(t,n){var r,i;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cc(t,!1).get(n),e.next=3,new _c(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Rc.apply(this,arguments)}function Lc(e,t){var n=Cc(e,!0).delete(t);return new _c(n).toPromise()}var Mc=function(){function e(){St(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Tt(e,[{key:"_openDb",value:function(){var e=Vn(jn().mark((function e(){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Ac();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Vn(jn().mark((function e(t){var n,r;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Vn(jn().mark((function e(){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bc()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Vn(jn().mark((function e(){var t=this;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=mc._getInstance(bc()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Vn(jn().mark((function e(n,r){var i;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Vn(jn().mark((function e(t,n){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Vn(jn().mark((function e(){var t,n,r;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wc();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new gc(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Vn(jn().mark((function e(t){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Ec()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Vn(jn().mark((function e(){var t;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Ac();case 5:return t=e.sent,e.next=8,Oc(t,cc,"1");case 8:return e.next=10,Lc(t,cc);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Vn(jn().mark((function e(t){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Vn(jn().mark((function e(t,n){var r=this;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Vn(jn().mark((function e(){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Oc(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Vn(jn().mark((function e(t){var n;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Pc(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Vn(jn().mark((function e(t){var n=this;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Vn(jn().mark((function e(){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Lc(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Vn(jn().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Cc(e,!1).getAll();return new _c(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=zn(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Vn(jn().mark((function t(){return jn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Mc.type="LOCAL";var Fc=Mc;function jc(e,t){return Iu(e,"POST","/v2/accounts/mfaSignIn:start",Su(e,t))}function Uc(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=ou("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Vc(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}Vc("rcb"),new ku(3e4,6e4);var zc="recaptcha";function Bc(e,t,n){return qc.apply(this,arguments)}function qc(){return qc=Vn(jn().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,lu("string"===typeof a,t,"argument-error"),lu(r.type===zc,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return lu("enroll"===u.type,t,"internal-error"),e.next=13,sc(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return lu("signin"===u.type,t,"internal-error"),lu(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,jc(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Fs(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),qc.apply(this,arguments)}var Hc=function(){function e(t){St(this,e),this.providerId=e.PROVIDER_ID,this.auth=xs(t)}return Tt(e,[{key:"verifyPhoneNumber",value:function(e,t){return Bc(this.auth,e,vr(t))}}],[{key:"credential",value:function(e,t){return qs._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?qs._fromTokenResponse(n,r):null}}]),e}();function Kc(e,t){return t?pu(t):(lu(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Hc.PROVIDER_ID="phone",Hc.PHONE_SIGN_IN_METHOD="phone";var Wc=function(e){pn(n,e);var t=kn(n);function n(e){var r;return St(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Tt(n,[{key:"_getIdTokenResponse",value:function(e){return Rs(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Rs(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Rs(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Ss);function Gc(e){return oc(e.auth,new Wc(e),e.bypassAuthState)}function Qc(e){var t=e.auth,n=e.user;return lu(n,t,"internal-error"),ic(n,new Wc(e),e.bypassAuthState)}function $c(e){return Xc.apply(this,arguments)}function Xc(){return Xc=Vn(jn().mark((function e(t){var n,r;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,lu(r=t.user,n,"internal-error"),e.abrupt("return",nc(r,new Wc(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Xc.apply(this,arguments)}var Yc=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];St(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Tt(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Vn(jn().mark((function t(n,r){return jn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Vn(jn().mark((function e(t){var n,r,i,a,o,u,s;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Gc;case"linkViaPopup":case"linkViaRedirect":return $c;case"reauthViaPopup":case"reauthViaRedirect":return Qc;default:au(this.auth,"internal-error")}}},{key:"resolve",value:function(e){hu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){hu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Jc=new ku(2e3,1e4);function Zc(e,t,n){return el.apply(this,arguments)}function el(){return el=Vn(jn().mark((function e(t,n,r){var i,a,o;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=xs(t),su(t,n,Ws),a=Kc(i,r),o=new tl(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),el.apply(this,arguments)}var tl=function(e){pn(n,e);var t=kn(n);function n(e,r,i,a,o){var u;return St(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=yn(u),u}return Tt(n,[{key:"executeNotNull",value:function(){var e=Vn(jn().mark((function e(){var t;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return lu(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Vn(jn().mark((function e(){var t,n=this;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hu(1===this.filter.length,"Popup operations only handle one event"),t=yc(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(ou(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(ou(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(ou(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Jc.get())}()}}]),n}(Yc);tl.currentPopupAction=null;var nl=new Map,rl=function(e){pn(n,e);var t=kn(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return St(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Tt(n,[{key:"execute",value:function(){var e=Vn(jn().mark((function e(){var t,r;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=nl.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,il(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,dn(fn(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:nl.set(this.auth._key(),t);case 21:return this.bypassAuthState||nl.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Vn(jn().mark((function e(t){var r;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",dn(fn(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",dn(fn(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Vn(jn().mark((function e(){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Yc);function il(e,t){return al.apply(this,arguments)}function al(){return al=Vn(jn().mark((function e(t,n){var r,i,a;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=sl(n),i=ul(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),al.apply(this,arguments)}function ol(e,t){nl.set(e._key(),t)}function ul(e){return pu(e._redirectPersistence)}function sl(e){return as("pendingRedirect",e.config.apiKey,e.name)}function cl(e,t){return ll.apply(this,arguments)}function ll(){return ll=Vn(jn().mark((function e(t,n){var r,i,a,o,u,s=arguments;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=xs(t),a=Kc(i,n),o=new rl(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),ll.apply(this,arguments)}var fl=function(){function e(t){St(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Tt(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dl(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!dl(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(ou(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(hl(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(hl(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function hl(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function dl(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function pl(e){return vl.apply(this,arguments)}function vl(){return vl=Vn(jn().mark((function e(t){var n,r=arguments;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Iu(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),vl.apply(this,arguments)}var ml=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yl=/^https?/;function gl(){return gl=Vn(jn().mark((function e(t){var n,r,i,a,o;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,pl(t);case 4:n=e.sent,r=n.authorizedDomains,i=zn(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!kl(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:au(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),gl.apply(this,arguments)}function kl(e){var t=mu(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!yl.test(r))return!1;if(ml.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var bl=new ku(3e4,6e4);function wl(){var e=kc().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Et(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var xl=null;function El(e){return xl=xl||function(e){return new Promise((function(t,n){var r,i,a;function o(){wl(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){wl(),n(ou(e,"network-request-failed"))},timeout:bl.get()})}if(null===(i=null===(r=kc().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=kc().gapi)||void 0===a?void 0:a.load)){var u=Vc("iframefcb");return kc()[u]=function(){gapi.load?o():n(ou(e,"network-request-failed"))},Uc("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw xl=null,e}))}(e),xl}var Sl=new ku(5e3,15e3),Il={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Tl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _l(e){var t=e.config;lu(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?bu(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:oi},i=Tl.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(sr(r).slice(1))}function Cl(e){return Nl.apply(this,arguments)}function Nl(){return Nl=Vn(jn().mark((function e(t){var n,r;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,El(t);case 2:return n=e.sent,lu(r=kc().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:_l(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Il,dontclear:!0},(function(e){return new Promise(function(){var n=Vn(jn().mark((function n(r,i){var a,o,u;return jn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){kc().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=ou(t,"network-request-failed"),o=kc().setTimeout((function(){i(a)}),Sl.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Nl.apply(this,arguments)}var Al={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ol="_blank",Dl="http://localhost",Pl=function(){function e(t){St(this,e),this.window=t,this.associatedEvent=null}return Tt(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(UI){}}}]),e}();function Rl(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},Al),{width:r.toString(),height:i.toString(),top:a,left:o}),c=$n().toLowerCase();n&&(u=ls(c)?Ol:n),ss(c)&&(t=t||Dl,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=M(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(ms(c)&&"_self"!==u)return Ll(t||"",u),new Pl(null);var f=window.open(t||"",u,l);lu(f,e,"popup-blocked");try{f.focus()}catch(UI){}return new Pl(f)}function Ll(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Ml="__/auth/handler",Fl="emulator/auth/handler";function jl(e,t,n,r,i,a){lu(e.config.authDomain,e,"auth-domain-config-required"),lu(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:oi,eventId:i};if(t instanceof Ws){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=M(s[u],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof Gs){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,v=Object.keys(d);p<v.length;p++){var m=v[p];void 0===d[m]&&delete d[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Ml);return bu(t,Fl)}(e),"?").concat(sr(d).slice(1))}var Ul="webStorageSupport",Vl=function(){function e(){St(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pc,this._completeRedirectFn=cl,this._overrideRedirectResult=ol}return Tt(e,[{key:"_openPopup",value:function(){var e=Vn(jn().mark((function e(t,n,r,i){var a,o;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hu(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=jl(t,n,r,mu(),i),e.abrupt("return",Rl(t,o,yc()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Vn(jn().mark((function e(t,n,r,i){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=jl(t,n,r,mu(),i),kc().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(hu(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Vn(jn().mark((function e(t){var n,r;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cl(t);case 2:return n=e.sent,r=new fl(t),n.register("authEvent",(function(e){return lu(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Ul,{type:Ul},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),au(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return gl.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return gs()||cs()||vs()}}]),e}(),zl=Vl,Bl=function(){function e(t){St(this,e),this.factorId=t}return Tt(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return fu("unexpected MultiFactorSessionType")}}}]),e}(),ql=function(e){pn(n,e);var t=kn(n);function n(e){var r;return St(this,n),(r=t.call(this,"phone")).credential=e,r}return Tt(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Iu(e,"POST","/v2/accounts/mfaEnrollment:finalize",Su(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Iu(e,"POST","/v2/accounts/mfaSignIn:finalize",Su(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Bl);(function(){function e(){St(this,e)}return Tt(e,null,[{key:"assertion",value:function(e){return ql._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var Hl,Kl="@firebase/auth",Wl="0.20.5",Gl=function(){function e(t){St(this,e),this.auth=t,this.internalListeners=new Map}return Tt(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Vn(jn().mark((function e(t){var n;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){lu(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();Hl="Browser",ti(new mr("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){lu(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),lu(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:Hl,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ks(Hl)},i=new ws(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(pu);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),ti(new mr("auth-internal",(function(e){return function(e){return new Gl(e)}(xs(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),si(Kl,Wl,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Hl)),si(Kl,Wl,"esm2017");var Ql,$l="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Xl={},Yl=Yl||{},Jl=$l||self;function Zl(){}function ef(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function tf(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var nf="closure_uid_"+(1e9*Math.random()>>>0),rf=0;function af(e,t,n){return e.call.apply(e.bind,arguments)}function of(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function uf(e,t,n){return(uf=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?af:of).apply(null,arguments)}function sf(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function cf(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function lf(){this.s=this.s,this.o=this.o}var ff={};lf.prototype.s=!1,lf.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,nf)&&e[nf]||(e[nf]=++rf)}(this);delete ff[e]}},lf.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var hf=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},df=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function pf(e){return Array.prototype.concat.apply([],arguments)}function vf(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function mf(e){return/^[\s\xa0]*$/.test(e)}var yf,gf=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function kf(e,t){return-1!=e.indexOf(t)}function bf(e,t){return e<t?-1:e>t?1:0}e:{var wf=Jl.navigator;if(wf){var xf=wf.userAgent;if(xf){yf=xf;break e}}yf=""}function Ef(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Sf(e){var t={};for(var n in e)t[n]=e[n];return t}var If="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Tf(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<If.length;a++)n=If[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function _f(e){return _f[" "](e),e}_f[" "]=Zl;var Cf,Nf=kf(yf,"Opera"),Af=kf(yf,"Trident")||kf(yf,"MSIE"),Of=kf(yf,"Edge"),Df=Of||Af,Pf=kf(yf,"Gecko")&&!(kf(yf.toLowerCase(),"webkit")&&!kf(yf,"Edge"))&&!(kf(yf,"Trident")||kf(yf,"MSIE"))&&!kf(yf,"Edge"),Rf=kf(yf.toLowerCase(),"webkit")&&!kf(yf,"Edge");function Lf(){var e=Jl.document;return e?e.documentMode:void 0}e:{var Mf="",Ff=function(){var e=yf;return Pf?/rv:([^\);]+)(\)|;)/.exec(e):Of?/Edge\/([\d\.]+)/.exec(e):Af?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Rf?/WebKit\/(\S+)/.exec(e):Nf?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Ff&&(Mf=Ff?Ff[1]:""),Af){var jf=Lf();if(null!=jf&&jf>parseFloat(Mf)){Cf=String(jf);break e}}Cf=Mf}var Uf,Vf={};function zf(){return function(e){var t=Vf;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=gf(String(Cf)).split("."),n=gf("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=bf(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||bf(0==a[2].length,0==o[2].length)||bf(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Jl.document&&Af){var Bf=Lf();Uf=Bf||(parseInt(Cf,10)||void 0)}else Uf=void 0;var qf=Uf,Hf=function(){if(!Jl.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Jl.addEventListener("test",Zl,t),Jl.removeEventListener("test",Zl,t)}catch(n){}return e}();function Kf(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Wf(e,t){if(Kf.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Pf){e:{try{_f(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Gf[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Wf.Z.h.call(this)}}Kf.prototype.h=function(){this.defaultPrevented=!0},cf(Wf,Kf);var Gf={2:"touch",3:"pen",4:"mouse"};Wf.prototype.h=function(){Wf.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Qf="closure_listenable_"+(1e6*Math.random()|0),$f=0;function Xf(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++$f,this.ca=this.fa=!1}function Yf(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Jf(e){this.src=e,this.g={},this.h=0}function Zf(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=hf(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Yf(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function eh(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Jf.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=eh(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Xf(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var th="closure_lm_"+(1e6*Math.random()|0),nh={};function rh(e,t,n,r,i){if(r&&r.once)return ah(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)rh(e,t[a],n,r,i);return null}return n=hh(n),e&&e[Qf]?e.N(t,n,tf(r)?!!r.capture:!!r,i):ih(e,t,n,!1,r,i)}function ih(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=tf(i)?!!i.capture:!!i,u=lh(e);if(u||(e[th]=u=new Jf(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=ch;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Hf||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(sh(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ah(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)ah(e,t[a],n,r,i);return null}return n=hh(n),e&&e[Qf]?e.O(t,n,tf(r)?!!r.capture:!!r,i):ih(e,t,n,!0,r,i)}function oh(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)oh(e,t[a],n,r,i);else r=tf(r)?!!r.capture:!!r,n=hh(n),e&&e[Qf]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=eh(a=e.g[t],n,r,i))&&(Yf(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=lh(e))&&(t=e.g[t.toString()],e=-1,t&&(e=eh(t,n,r,i)),(n=-1<e?t[e]:null)&&uh(n))}function uh(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Qf])Zf(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(sh(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=lh(t))?(Zf(n,e),0==n.h&&(n.src=null,t[th]=null)):Yf(e)}}}function sh(e){return e in nh?nh[e]:nh[e]="on"+e}function ch(e,t){if(e.ca)e=!0;else{t=new Wf(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&uh(e),e=n.call(r,t)}return e}function lh(e){return(e=e[th])instanceof Jf?e:null}var fh="__closure_events_fn_"+(1e9*Math.random()>>>0);function hh(e){return"function"===typeof e?e:(e[fh]||(e[fh]=function(t){return e.handleEvent(t)}),e[fh])}function dh(){lf.call(this),this.i=new Jf(this),this.P=this,this.I=null}function ph(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Kf(t,e);else if(t instanceof Kf)t.target=t.target||e;else{var i=t;Tf(t=new Kf(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=vh(o,r,!0,t)&&i}if(i=vh(o=t.g=e,r,!0,t)&&i,i=vh(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=vh(o=t.g=n[a],r,!1,t)&&i}function vh(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&Zf(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}cf(dh,lf),dh.prototype[Qf]=!0,dh.prototype.removeEventListener=function(e,t,n,r){oh(this,e,t,n,r)},dh.prototype.M=function(){if(dh.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Yf(n[r]);delete t.g[e],t.h--}}this.I=null},dh.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},dh.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var mh=Jl.JSON.stringify;function yh(){var e=Ih,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var gh,kh=function(){function e(){St(this,e),this.h=this.g=null}return Tt(e,[{key:"add",value:function(e,t){var n=bh.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),bh=new(function(){function e(t,n){St(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Tt(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new wh}),(function(e){return e.reset()})),wh=function(){function e(){St(this,e),this.next=this.g=this.h=null}return Tt(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function xh(e){Jl.setTimeout((function(){throw e}),0)}function Eh(e,t){gh||function(){var e=Jl.Promise.resolve(void 0);gh=function(){e.then(Th)}}(),Sh||(gh(),Sh=!0),Ih.add(e,t)}var Sh=!1,Ih=new kh;function Th(){for(var e;e=yh();){try{e.h.call(e.g)}catch(n){xh(n)}var t=bh;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Sh=!1}function _h(e,t){dh.call(this),this.h=e||1,this.g=t||Jl,this.j=uf(this.kb,this),this.l=Date.now()}function Ch(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Nh(e,t,n){if("function"===typeof e)n&&(e=uf(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=uf(e.handleEvent,e)}return 2147483647<Number(t)?-1:Jl.setTimeout(e,t||0)}function Ah(e){e.g=Nh((function(){e.g=null,e.i&&(e.i=!1,Ah(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}cf(_h,dh),(Ql=_h.prototype).da=!1,Ql.S=null,Ql.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ph(this,"tick"),this.da&&(Ch(this),this.start()))}},Ql.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ql.M=function(){_h.Z.M.call(this),Ch(this),delete this.g};var Oh=function(e){pn(n,e);var t=kn(n);function n(e,r){var i;return St(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Tt(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Ah(this)}},{key:"M",value:function(){dn(fn(n.prototype),"M",this).call(this),this.g&&(Jl.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(lf);function Dh(e){lf.call(this),this.h=e,this.g={}}cf(Dh,lf);var Ph=[];function Rh(e,t,n,r){Array.isArray(n)||(n&&(Ph[0]=n.toString()),n=Ph);for(var i=0;i<n.length;i++){var a=rh(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Lh(e){Ef(e.g,(function(e,t){this.g.hasOwnProperty(t)&&uh(e)}),e),e.g={}}function Mh(){this.g=!0}function Fh(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return mh(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Dh.prototype.M=function(){Dh.Z.M.call(this),Lh(this)},Dh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Mh.prototype.Aa=function(){this.g=!1},Mh.prototype.info=function(){};var jh={},Uh=null;function Vh(){return Uh=Uh||new dh}function zh(e){Kf.call(this,jh.Ma,e)}function Bh(e){var t=Vh();ph(t,new zh(t,e))}function qh(e,t){Kf.call(this,jh.STAT_EVENT,e),this.stat=t}function Hh(e){var t=Vh();ph(t,new qh(t,e))}function Kh(e,t){Kf.call(this,jh.Na,e),this.size=t}function Wh(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Jl.setTimeout((function(){e()}),t)}jh.Ma="serverreachability",cf(zh,Kf),jh.STAT_EVENT="statevent",cf(qh,Kf),jh.Na="timingevent",cf(Kh,Kf);var Gh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Qh={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function $h(){}function Xh(e){return e.h||(e.h=e.i())}function Yh(){}$h.prototype.h=null;var Jh,Zh={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ed(){Kf.call(this,"d")}function td(){Kf.call(this,"c")}function nd(){}function rd(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Dh(this),this.P=ad,e=Df?125:void 0,this.W=new _h(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new id}function id(){this.i=null,this.g="",this.h=!1}cf(ed,Kf),cf(td,Kf),cf(nd,$h),nd.prototype.g=function(){return new XMLHttpRequest},nd.prototype.i=function(){return{}},Jh=new nd;var ad=45e3,od={},ud={};function sd(e,t,n){e.K=1,e.v=Od(Id(t)),e.s=n,e.U=!0,cd(e,null)}function cd(e,t){e.F=Date.now(),dd(e),e.A=Id(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Hd(n.h,"t",r),e.C=0,n=e.l.H,e.h=new id,e.g=Wp(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Oh(uf(e.Ia,e,e.g),e.O)),Rh(e.V,e.g,"readystatechange",e.gb),t=e.H?Sf(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Bh(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function ld(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function fd(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=hd(e,n))==ud){4==t&&(e.o=4,Hh(14),i=!1),Fh(e.j,e.m,null,"[Incomplete Response]");break}if(r==od){e.o=4,Hh(15),Fh(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Fh(e.j,e.m,r,null),gd(e,r)}ld(e)&&r!=ud&&r!=od&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Hh(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),jp(t),t.L=!0,Hh(11))):(Fh(e.j,e.m,n,"[Invalid Chunked Response]"),yd(e),md(e))}function hd(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ud:(n=Number(t.substring(n,r)),isNaN(n)?od:(r+=1)+n>t.length?ud:(t=t.substr(r,n),e.C=r+n,t))}function dd(e){e.Y=Date.now()+e.P,pd(e,e.P)}function pd(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Wh(uf(e.eb,e),t)}function vd(e){e.B&&(Jl.clearTimeout(e.B),e.B=null)}function md(e){0==e.l.G||e.I||zp(e.l,e)}function yd(e){vd(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Ch(e.W),Lh(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function gd(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Jd(n.i,e)))if(n.I=e.N,!e.J&&Jd(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Vp(n),Np(n)}Fp(n),Hh(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Wh(uf(n.ab,n),6e3));if(1>=Yd(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else qp(n,11)}else if((e.J||n.g==e)&&Vp(n),!mf(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(kf(l,"spdy")||kf(l,"quic")||kf(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Zd(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Ad(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Kp(r,r.H?r.la:null,r.W),d.J){ep(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(vd(p),dd(p)),r.g=d}else Mp(r);0<n.l.length&&Dp(n)}else"stop"!=a[0]&&"close"!=a[0]||qp(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?qp(n,7):Cp(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Bh(4)}catch(a){}}function kd(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(ef(e)||"string"===typeof e)df(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(ef(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(ef(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function bd(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof bd)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function wd(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];xd(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)xd(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function xd(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Ql=rd.prototype).setTimeout=function(e){this.P=e},Ql.gb=function(e){e=e.target;var t=this.L;t&&3==Ep(e)?t.l():this.Ia(e)},Ql.Ia=function(e){try{if(e==this.g)e:{var t=Ep(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Df||this.g&&(this.h.h||this.g.ga()||Sp(this.g)))){this.I||4!=t||7==n||Bh(8==n||0>=r?3:2),vd(this);var i=this.g.ba();this.N=i;t:if(ld(this)){var a=Sp(this.g);e="";var o=a.length,u=4==Ep(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){yd(this),md(this);var s="";break t}this.h.i=new Jl.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!mf(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Hh(12),yd(this),md(this);break e}Fh(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,gd(this,i)}this.U?(fd(this,t,s),Df&&this.i&&3==t&&(Rh(this.V,this.W,"tick",this.fb),this.W.start())):(Fh(this.j,this.m,s,null),gd(this,s)),4==t&&yd(this),this.i&&!this.I&&(4==t?zp(this.l,this):(this.i=!1,dd(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,Hh(12)):(this.o=0,Hh(13)),yd(this),md(this)}}}catch(t){}},Ql.fb=function(){if(this.g){var e=Ep(this.g),t=this.g.ga();this.C<t.length&&(vd(this),fd(this,e,t),this.i&&4!=e&&dd(this))}},Ql.cancel=function(){this.I=!0,yd(this)},Ql.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Bh(3),Hh(17)),yd(this),this.o=2,md(this)):pd(this,this.Y-e)},(Ql=bd.prototype).R=function(){wd(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Ql.T=function(){return wd(this),this.g.concat()},Ql.get=function(e,t){return xd(this.h,e)?this.h[e]:t},Ql.set=function(e,t){xd(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Ql.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Ed=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Sd(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Sd){this.g=void 0!==t?t:e.g,Td(this,e.j),this.s=e.s,_d(this,e.i),Cd(this,e.m),this.l=e.l,t=e.h;var n=new Vd;n.i=t.i,t.g&&(n.g=new bd(t.g),n.h=t.h),Nd(this,n),this.o=e.o}else e&&(n=String(e).match(Ed))?(this.g=!!t,Td(this,n[1]||"",!0),this.s=Dd(n[2]||""),_d(this,n[3]||"",!0),Cd(this,n[4]),this.l=Dd(n[5]||"",!0),Nd(this,n[6]||"",!0),this.o=Dd(n[7]||"")):(this.g=!!t,this.h=new Vd(null,this.g))}function Id(e){return new Sd(e)}function Td(e,t,n){e.j=n?Dd(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function _d(e,t,n){e.i=n?Dd(t,!0):t}function Cd(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Nd(e,t,n){t instanceof Vd?(e.h=t,function(e,t){t&&!e.j&&(zd(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Bd(this,t),Hd(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Pd(t,jd)),e.h=new Vd(t,e.g))}function Ad(e,t,n){e.h.set(t,n)}function Od(e){return Ad(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Dd(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Pd(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Rd),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Rd(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Sd.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Pd(t,Ld,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Pd(t,Ld,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Pd(n,"/"==n.charAt(0)?Fd:Md,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Pd(n,Ud)),e.join("")};var Ld=/[#\/\?@]/g,Md=/[#\?:]/g,Fd=/[#\?]/g,jd=/[#\?@]/g,Ud=/#/g;function Vd(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function zd(e){e.g||(e.g=new bd,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Bd(e,t){zd(e),t=Kd(e,t),xd(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,xd((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&wd(e)))}function qd(e,t){return zd(e),t=Kd(e,t),xd(e.g.h,t)}function Hd(e,t,n){Bd(e,t),0<n.length&&(e.i=null,e.g.set(Kd(e,t),vf(n)),e.h+=n.length)}function Kd(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Ql=Vd.prototype).add=function(e,t){zd(this),this.i=null,e=Kd(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Ql.forEach=function(e,t){zd(this),this.g.forEach((function(n,r){df(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Ql.T=function(){zd(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Ql.R=function(e){zd(this);var t=[];if("string"===typeof e)qd(this,e)&&(t=pf(t,this.g.get(Kd(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=pf(t,e[n])}return t},Ql.set=function(e,t){return zd(this),this.i=null,qd(this,e=Kd(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Ql.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Ql.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Wd=Tt((function e(t,n){St(this,e),this.h=t,this.g=n}));function Gd(e){this.l=e||$d,Jl.PerformanceNavigationTiming?e=0<(e=Jl.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Jl.g&&Jl.g.Ea&&Jl.g.Ea()&&Jl.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Qd,$d=10;function Xd(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Yd(e){return e.h?1:e.g?e.g.size:0}function Jd(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Zd(e,t){e.g?e.g.add(t):e.h=t}function ep(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function tp(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=zn(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return vf(e.i)}function np(){}function rp(){this.g=new np}function ip(e,t,n){var r=n||"";try{kd(e,(function(e,n){var i=e;tf(e)&&(i=mh(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(UI){throw t.push(r+"type="+encodeURIComponent("_badmap")),UI}}function ap(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function op(e){this.l=e.$b||null,this.j=e.ib||!1}function up(e,t){dh.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=sp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Gd.prototype.cancel=function(){if(this.i=tp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=zn(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},np.prototype.stringify=function(e){return Jl.JSON.stringify(e,void 0)},np.prototype.parse=function(e){return Jl.JSON.parse(e,void 0)},cf(op,$h),op.prototype.g=function(){return new up(this.l,this.j)},op.prototype.i=(Qd={},function(){return Qd}),cf(up,dh);var sp=0;function cp(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function lp(e){e.readyState=4,e.l=null,e.j=null,e.A=null,fp(e)}function fp(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Ql=up.prototype).open=function(e,t){if(this.readyState!=sp)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,fp(this)},Ql.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Jl).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Ql.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,lp(this)),this.readyState=sp},Ql.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,fp(this)),this.g&&(this.readyState=3,fp(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Jl.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;cp(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Ql.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?lp(this):fp(this),3==this.readyState&&cp(this)}},Ql.Ua=function(e){this.g&&(this.response=this.responseText=e,lp(this))},Ql.Ta=function(e){this.g&&(this.response=e,lp(this))},Ql.ha=function(){this.g&&lp(this)},Ql.setRequestHeader=function(e,t){this.v.append(e,t)},Ql.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Ql.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(up.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var hp=Jl.JSON.parse;function dp(e){dh.call(this),this.headers=new bd,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=pp,this.K=this.L=!1}cf(dp,dh);var pp="",vp=/^https?$/i,mp=["POST","PUT"];function yp(e){return"content-type"==e.toLowerCase()}function gp(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,kp(e),wp(e)}function kp(e){e.D||(e.D=!0,ph(e,"complete"),ph(e,"error"))}function bp(e){if(e.h&&"undefined"!=typeof Yl&&(!e.C[1]||4!=Ep(e)||2!=e.ba()))if(e.v&&4==Ep(e))Nh(e.Fa,0,e);else if(ph(e,"readystatechange"),4==Ep(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Ed)[1]||null;if(!a&&Jl.self&&Jl.self.location){var o=Jl.self.location.protocol;a=o.substr(0,o.length-1)}i=!vp.test(a?a.toLowerCase():"")}t=i}if(t)ph(e,"complete"),ph(e,"success");else{e.m=6;try{var u=2<Ep(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",kp(e)}}finally{wp(e)}}}function wp(e,t){if(e.g){xp(e);var n=e.g,r=e.C[0]?Zl:null;e.g=null,e.C=null,t||ph(e,"ready");try{n.onreadystatechange=r}catch(UI){}}}function xp(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Jl.clearTimeout(e.A),e.A=null)}function Ep(e){return e.g?e.g.readyState:0}function Sp(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case pp:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Ip(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Ef(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Ad(e,t,n))}function Tp(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function _p(e){this.za=0,this.l=[],this.h=new Mh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Tp("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Tp("baseRetryDelayMs",5e3,e),this.$a=Tp("retryDelaySeedMs",1e4,e),this.Ya=Tp("forwardChannelMaxRetries",2,e),this.ra=Tp("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Gd(e&&e.concurrentRequestLimit),this.Ca=new rp,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Cp(e){if(Ap(e),3==e.G){var t=e.V++,n=Id(e.F);Ad(n,"SID",e.J),Ad(n,"RID",t),Ad(n,"TYPE","terminate"),Rp(e,n),(t=new rd(e,e.h,t,void 0)).K=2,t.v=Od(Id(n)),n=!1,Jl.navigator&&Jl.navigator.sendBeacon&&(n=Jl.navigator.sendBeacon(t.v.toString(),"")),!n&&Jl.Image&&((new Image).src=t.v,n=!0),n||(t.g=Wp(t.l,null),t.g.ea(t.v)),t.F=Date.now(),dd(t)}Hp(e)}function Np(e){e.g&&(jp(e),e.g.cancel(),e.g=null)}function Ap(e){Np(e),e.u&&(Jl.clearTimeout(e.u),e.u=null),Vp(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Jl.clearTimeout(e.m),e.m=null)}function Op(e,t){e.l.push(new Wd(e.Za++,t)),3==e.G&&Dp(e)}function Dp(e){Xd(e.i)||e.m||(e.m=!0,Eh(e.Ha,e),e.C=0)}function Pp(e,t){var n;n=t?t.m:e.V++;var r=Id(e.F);Ad(r,"SID",e.J),Ad(r,"RID",n),Ad(r,"AID",e.U),Rp(e,r),e.o&&e.s&&Ip(r,e.o,e.s),n=new rd(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Lp(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Zd(e.i,n),sd(n,r,t)}function Rp(e,t){e.j&&kd({},(function(e,n){Ad(t,n,e)}))}function Lp(e,t,n){n=Math.min(e.l.length,n);var r=e.j?uf(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{ip(l,o,"req"+c+"_")}catch(bv){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Mp(e){e.g||e.u||(e.Y=1,Eh(e.Ga,e),e.A=0)}function Fp(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Wh(uf(e.Ga,e),Bp(e,e.A)),e.A++,!0)}function jp(e){null!=e.B&&(Jl.clearTimeout(e.B),e.B=null)}function Up(e){e.g=new rd(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Id(e.oa);Ad(t,"RID","rpc"),Ad(t,"SID",e.J),Ad(t,"CI",e.N?"0":"1"),Ad(t,"AID",e.U),Rp(e,t),Ad(t,"TYPE","xmlhttp"),e.o&&e.s&&Ip(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Od(Id(t)),n.s=null,n.U=!0,cd(n,e)}function Vp(e){null!=e.v&&(Jl.clearTimeout(e.v),e.v=null)}function zp(e,t){var n=null;if(e.g==t){Vp(e),jp(e),e.g=null;var r=2}else{if(!Jd(e.i,t))return;n=t.D,ep(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;ph(r=Vh(),new Kh(r,n,t,i)),Dp(e)}else Mp(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Yd(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Wh(uf(e.Ha,e,t),Bp(e,e.C)),e.C++,!0))}(e,t)||2==r&&Fp(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:qp(e,5);break;case 4:qp(e,10);break;case 3:qp(e,6);break;default:qp(e,2)}}function Bp(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function qp(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=uf(e.jb,e);n||(n=new Sd("//www.google.com/images/cleardot.gif"),Jl.location&&"http"==Jl.location.protocol||Td(n,"https"),Od(n)),function(e,t){var n=new Mh;if(Jl.Image){var r=new Image;r.onload=sf(ap,n,r,"TestLoadImage: loaded",!0,t),r.onerror=sf(ap,n,r,"TestLoadImage: error",!1,t),r.onabort=sf(ap,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=sf(ap,n,r,"TestLoadImage: timeout",!1,t),Jl.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Hh(2);e.G=0,e.j&&e.j.va(t),Hp(e),Ap(e)}function Hp(e){e.G=0,e.I=-1,e.j&&(0==tp(e.i).length&&0==e.l.length||(e.i.i.length=0,vf(e.l),e.l.length=0),e.j.ua())}function Kp(e,t,n){var r=function(e){return e instanceof Sd?Id(e):new Sd(e,void 0)}(n);if(""!=r.i)t&&_d(r,t+"."+r.i),Cd(r,r.m);else{var i=Jl.location;r=function(e,t,n,r){var i=new Sd(null,void 0);return e&&Td(i,e),t&&_d(i,t),n&&Cd(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Ef(e.aa,(function(e,t){Ad(r,t,e)})),t=e.D,n=e.sa,t&&n&&Ad(r,t,n),Ad(r,"VER",e.ma),Rp(e,r),r}function Wp(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new dp(new op({ib:!0})):new dp(e.qa)).L=e.H,t}function Gp(){}function Qp(){if(Af&&!(10<=Number(qf)))throw Error("Environmental error: no available transport.")}function $p(e,t){dh.call(this),this.g=new _p(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!mf(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!mf(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Jp(this)}function Xp(e){ed.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Yp(){td.call(this),this.status=1}function Jp(e){this.g=e}(Ql=dp.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Jh.g(),this.C=this.u?Xh(this.u):Xh(Jh),this.g.onreadystatechange=uf(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void gp(this,a)}e=n||"";var i=new bd(this.headers);r&&kd(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=yp,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Jl.FormData&&e instanceof Jl.FormData,!(0<=hf(mp,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{xp(this),0<this.B&&((this.K=function(e){return Af&&zf()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=uf(this.pa,this)):this.A=Nh(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){gp(this,a)}},Ql.pa=function(){"undefined"!=typeof Yl&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ph(this,"timeout"),this.abort(8))},Ql.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ph(this,"complete"),ph(this,"abort"),wp(this))},Ql.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),wp(this,!0)),dp.Z.M.call(this)},Ql.Fa=function(){this.s||(this.F||this.v||this.l?bp(this):this.cb())},Ql.cb=function(){bp(this)},Ql.ba=function(){try{return 2<Ep(this)?this.g.status:-1}catch(Qd){return-1}},Ql.ga=function(){try{return this.g?this.g.responseText:""}catch(Qd){return""}},Ql.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),hp(t)}},Ql.Da=function(){return this.m},Ql.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Ql=_p.prototype).ma=8,Ql.G=1,Ql.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Ql.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new rd(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Tf(n=Sf(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Lp(this,t,r),Ad(i=Id(this.F),"RID",e),Ad(i,"CVER",22),this.D&&Ad(i,"X-HTTP-Session-Id",this.D),Rp(this,i),this.o&&n&&Ip(i,this.o,n),Zd(this.i,t),this.Ra&&Ad(i,"TYPE","init"),this.ja?(Ad(i,"$req",r),Ad(i,"SID","null"),t.$=!0,sd(t,i,null)):sd(t,i,r),this.G=2}}else 3==this.G&&(e?Pp(this,e):0==this.l.length||Xd(this.i)||Pp(this))},Ql.Ga=function(){if(this.u=null,Up(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Wh(uf(this.bb,this),e)}},Ql.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Hh(10),Np(this),Up(this))},Ql.ab=function(){null!=this.v&&(this.v=null,Np(this),Fp(this),Hh(19))},Ql.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Hh(2)):(this.h.info("Failed to ping google.com"),Hh(1))},(Ql=Gp.prototype).xa=function(){},Ql.wa=function(){},Ql.va=function(){},Ql.ua=function(){},Ql.Oa=function(){},Qp.prototype.g=function(e,t){return new $p(e,t)},cf($p,dh),$p.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Eh(uf(e.hb,e,t))),Hh(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Kp(e,null,e.W),Dp(e)},$p.prototype.close=function(){Cp(this.g)},$p.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Op(this.g,t)}else this.v?((t={}).__data__=mh(e),Op(this.g,t)):Op(this.g,e)},$p.prototype.M=function(){this.g.j=null,delete this.j,Cp(this.g),delete this.g,$p.Z.M.call(this)},cf(Xp,ed),cf(Yp,td),cf(Jp,Gp),Jp.prototype.xa=function(){ph(this.g,"a")},Jp.prototype.wa=function(e){ph(this.g,new Xp(e))},Jp.prototype.va=function(e){ph(this.g,new Yp(e))},Jp.prototype.ua=function(){ph(this.g,"b")},Qp.prototype.createWebChannel=Qp.prototype.g,$p.prototype.send=$p.prototype.u,$p.prototype.open=$p.prototype.m,$p.prototype.close=$p.prototype.close,Gh.NO_ERROR=0,Gh.TIMEOUT=8,Gh.HTTP_ERROR=6,Qh.COMPLETE="complete",Yh.EventType=Zh,Zh.OPEN="a",Zh.CLOSE="b",Zh.ERROR="c",Zh.MESSAGE="d",dh.prototype.listen=dh.prototype.N,dp.prototype.listenOnce=dp.prototype.O,dp.prototype.getLastError=dp.prototype.La,dp.prototype.getLastErrorCode=dp.prototype.Da,dp.prototype.getStatus=dp.prototype.ba,dp.prototype.getResponseJson=dp.prototype.Qa,dp.prototype.getResponseText=dp.prototype.ga,dp.prototype.send=dp.prototype.ea;var Zp=Xl.createWebChannelTransport=function(){return new Qp},ev=Xl.getStatEventTarget=function(){return Vh()},tv=Xl.ErrorCode=Gh,nv=Xl.EventType=Qh,rv=Xl.Event=jh,iv=Xl.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},av=Xl.FetchXmlHttpFactory=op,ov=Xl.WebChannel=Yh,uv=Xl.XhrIo=dp,sv="@firebase/firestore",cv=function(){function e(t){St(this,e),this.uid=t}return Tt(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();cv.UNAUTHENTICATED=new cv(null),cv.GOOGLE_CREDENTIALS=new cv("google-credentials-uid"),cv.FIRST_PARTY=new cv("first-party-uid"),cv.MOCK_USER=new cv("mock-user");var lv="9.9.2",fv=new _r("@firebase/firestore");function hv(){return fv.logLevel}function dv(e){if(fv.logLevel<=br.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(mv);fv.debug.apply(fv,["Firestore (".concat(lv,"): ").concat(e)].concat(Et(i)))}}function pv(e){if(fv.logLevel<=br.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(mv);fv.error.apply(fv,["Firestore (".concat(lv,"): ").concat(e)].concat(Et(i)))}}function vv(e){if(fv.logLevel<=br.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(mv);fv.warn.apply(fv,["Firestore (".concat(lv,"): ").concat(e)].concat(Et(i)))}}function mv(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function yv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(lv,") INTERNAL ASSERTION FAILED: ")+e;throw pv(t),new Error(t)}function gv(e,t){e||yv()}function kv(e,t){return e}var bv={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},wv=function(e){pn(n,e);var t=kn(n);function n(e,r){var i;return St(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Tt(n)}(nr),xv=Tt((function e(){var t=this;St(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Ev=Tt((function e(t,n){St(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Sv=function(){function e(){St(this,e)}return Tt(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(cv.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Iv=function(){function e(t){St(this,e),this.t=t,this.currentUser=cv.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Tt(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new xv;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new xv,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Vn(jn().mark((function e(){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){dv("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(dv("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new xv)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(dv("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(gv("string"==typeof n.accessToken),new Ev(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return gv(null===e||"string"==typeof e),new cv(e)}}]),e}(),Tv=Tt((function e(t,n,r){St(this,e),this.type="FirstParty",this.user=cv.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),_v=function(){function e(t,n,r){St(this,e),this.h=t,this.l=n,this.m=r}return Tt(e,[{key:"getToken",value:function(){return Promise.resolve(new Tv(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(cv.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Cv=Tt((function e(t){St(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Nv=function(){function e(t){St(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return Tt(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&dv("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,dv("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){dv("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):dv("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(gv("string"==typeof t.token),e.p=t.token,new Cv(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Av(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Ov=function(){function e(){St(this,e)}return Tt(e,null,[{key:"I",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Av(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Dv(e,t){return e<t?-1:e>t?1:0}function Pv(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var Rv=function(){function e(t,n){if(St(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new wv(bv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new wv(bv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new wv(bv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new wv(bv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Tt(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Dv(this.nanoseconds,e.nanoseconds):Dv(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Lv=function(){function e(t){St(this,e),this.timestamp=t}return Tt(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Rv(0,0))}},{key:"max",value:function(){return new e(new Rv(253402300799,999999999))}}]),e}(),Mv=function(){function e(t,n,r){St(this,e),void 0===n?n=0:n>t.length&&yv(),void 0===r?r=t.length-n:r>t.length-n&&yv(),this.segments=t,this.offset=n,this.len=r}return Tt(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Fv=function(e){pn(n,e);var t=kn(n);function n(){return St(this,n),t.apply(this,arguments)}return Tt(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new wv(bv.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,Et(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Mv),jv=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Uv=function(e){pn(n,e);var t=kn(n);function n(){return St(this,n),t.apply(this,arguments)}return Tt(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return jv.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new wv(bv.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new wv(bv.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new wv(bv.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new wv(bv.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Mv),Vv=function(){function e(t){St(this,e),this.path=t}return Tt(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Fv.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Fv.fromString(t))}},{key:"fromName",value:function(t){return new e(Fv.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Fv.emptyPath())}},{key:"comparator",value:function(e,t){return Fv.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Fv(t.slice()))}}]),e}(),zv=Tt((function e(t,n,r,i){St(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));zv.UNKNOWN_ID=-1;function Bv(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Lv.fromTimestamp(1e9===r?new Rv(n+1,0):new Rv(n,r));return new Hv(i,Vv.empty(),t)}function qv(e){return new Hv(e.readTime,e.key,-1)}var Hv=function(){function e(t,n,r){St(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Tt(e,null,[{key:"min",value:function(){return new e(Lv.min(),Vv.empty(),-1)}},{key:"max",value:function(){return new e(Lv.max(),Vv.empty(),-1)}}]),e}();function Kv(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Vv.comparator(e.documentKey,t.documentKey))?n:Dv(e.largestBatchId,t.largestBatchId)}var Wv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Gv=function(){function e(){St(this,e),this.onCommittedListeners=[]}return Tt(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Qv(e){return $v.apply(this,arguments)}function $v(){return $v=Vn(jn().mark((function e(t){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===bv.FAILED_PRECONDITION&&t.message===Wv){e.next=2;break}throw t;case 2:dv("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),$v.apply(this,arguments)}var Xv=function(){function e(t){var n=this;St(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Tt(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&yv(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=zn(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}();function Yv(e){return"IndexedDbTransactionError"===e.name}var Jv=function(){function e(t,n){var r=this;St(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.it(e)},this.rt=function(e){return n.writeSequenceNumber(e)})}return Tt(e,[{key:"it",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.rt&&this.rt(e),e}}]),e}();function Zv(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function em(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function tm(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}Jv.ot=-1;var nm=function(){function e(t,n){St(this,e),this.comparator=t,this.root=n||im.EMPTY}return Tt(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,im.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,im.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new rm(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new rm(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new rm(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new rm(this.root,e,this.comparator,!0)}}]),e}(),rm=function(){function e(t,n,r,i){St(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Tt(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),im=function(){function e(t,n,r,i,a){St(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Tt(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw yv();if(this.right.isRed())throw yv();var e=this.left.check();if(e!==this.right.check())throw yv();return e+(this.isRed()?0:1)}}]),e}();im.EMPTY=null,im.RED=!0,im.BLACK=!1,im.EMPTY=new(function(){function e(){St(this,e),this.size=0}return Tt(e,[{key:"key",get:function(){throw yv()}},{key:"value",get:function(){throw yv()}},{key:"color",get:function(){throw yv()}},{key:"left",get:function(){throw yv()}},{key:"right",get:function(){throw yv()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new im(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var am=function(){function e(t){St(this,e),this.comparator=t,this.data=new nm(this.comparator)}return Tt(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new om(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new om(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),om=function(){function e(t){St(this,e),this.iter=t}return Tt(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var um=function(){function e(t){St(this,e),this.fields=t,t.sort(Uv.comparator)}return Tt(e,[{key:"unionWith",value:function(t){var n,r=new am(Uv.comparator),i=zn(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=zn(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=zn(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Pv(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var sm=function(e){function t(e){St(this,t),this.binaryString=e}return Tt(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Dv(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();sm.EMPTY_BYTE_STRING=new sm("");var cm=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lm(e){if(gv(!!e),"string"==typeof e){var t=0,n=cm.exec(e);if(gv(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:fm(e.seconds),nanos:fm(e.nanos)}}function fm(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function hm(e){return"string"==typeof e?sm.fromBase64String(e):sm.fromUint8Array(e)}function dm(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function pm(e){var t=e.mapValue.fields.__previous_value__;return dm(t)?pm(t):t}function vm(e){var t=lm(e.mapValue.fields.__local_write_time__.timestampValue);return new Rv(t.seconds,t.nanos)}var mm=Tt((function e(t,n,r,i,a,o,u,s){St(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),ym=function(){function e(t,n){St(this,e),this.projectId=t,this.database=n||"(default)"}return Tt(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function gm(e){return null==e}function km(e){return 0===e&&1/e==-1/0}function bm(e){return"number"==typeof e&&Number.isInteger(e)&&!km(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var wm={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function xm(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?dm(e)?4:Mm(e)?9007199254740991:10:yv()}function Em(e,t){if(e===t)return!0;var n=xm(e);if(n!==xm(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return vm(e).isEqual(vm(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=lm(e.timestampValue),r=lm(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return hm(e.bytesValue).isEqual(hm(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return fm(e.geoPointValue.latitude)===fm(t.geoPointValue.latitude)&&fm(e.geoPointValue.longitude)===fm(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return fm(e.integerValue)===fm(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=fm(e.doubleValue),r=fm(t.doubleValue);return n===r?km(n)===km(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Pv(e.arrayValue.values||[],t.arrayValue.values||[],Em);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Zv(n)!==Zv(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Em(n[i],r[i])))return!1;return!0}(e,t);default:return yv()}}function Sm(e,t){return void 0!==(e.values||[]).find((function(e){return Em(e,t)}))}function Im(e,t){if(e===t)return 0;var n=xm(e),r=xm(t);if(n!==r)return Dv(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Dv(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=fm(e.integerValue||e.doubleValue),r=fm(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Tm(e.timestampValue,t.timestampValue);case 4:return Tm(vm(e),vm(t));case 5:return Dv(e.stringValue,t.stringValue);case 6:return function(e,t){var n=hm(e),r=hm(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Dv(n[i],r[i]);if(0!==a)return a}return Dv(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Dv(fm(e.latitude),fm(t.latitude));return 0!==n?n:Dv(fm(e.longitude),fm(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Im(n[i],r[i]);if(a)return a}return Dv(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===wm.mapValue&&t===wm.mapValue)return 0;if(e===wm.mapValue)return 1;if(t===wm.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Dv(r[o],a[o]);if(0!==u)return u;var s=Im(n[r[o]],i[a[o]]);if(0!==s)return s}return Dv(r.length,a.length)}(e.mapValue,t.mapValue);default:throw yv()}}function Tm(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Dv(e,t);var n=lm(e),r=lm(t),i=Dv(n.seconds,r.seconds);return 0!==i?i:Dv(n.nanos,r.nanos)}function _m(e){return Cm(e)}function Cm(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=lm(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?hm(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Vv.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=zn(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Cm(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=zn(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Cm(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):yv();var t,n}function Nm(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Am(e){return!!e&&"integerValue"in e}function Om(e){return!!e&&"arrayValue"in e}function Dm(e){return!!e&&"nullValue"in e}function Pm(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Rm(e){return!!e&&"mapValue"in e}function Lm(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return em(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Lm(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Lm(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Mm(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var Fm=function(){function e(t){St(this,e),this.value=t}return Tt(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Rm(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lm(t)}},{key:"setAll",value:function(e){var t=this,n=Uv.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Lm(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Rm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Em(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Rm(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){em(t,(function(t,n){return e[t]=n}));var r,i=zn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Lm(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function jm(e){var t=[];return em(e.fields,(function(e,n){var r=new Uv([e]);if(Rm(n)){var i=jm(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=zn(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new um(t)}var Um=function(){function e(t,n,r,i,a,o){St(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return Tt(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Fm.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Fm.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Lv.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Lv.min(),Lv.min(),Fm.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Lv.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Lv.min(),Fm.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Lv.min(),Fm.empty(),2)}}]),e}(),Vm=Tt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;St(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ut=null}));function zm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Vm(e,t,n,r,i,a,o)}function Bm(e){var t=kv(e);if(null===t.ut){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+_m(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),gm(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return _m(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return _m(e)})).join(",")),t.ut=n}return t.ut}function qm(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!ny(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Em(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!iy(e.startAt,t.startAt)&&iy(e.endAt,t.endAt)}function Hm(e){return Vv.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Km=function(e){pn(n,e);var t=kn(n);function n(e,r,i){var a;return St(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Tt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(Im(t,this.value)):null!==t&&xm(this.value)===xm(t)&&this.at(Im(t,this.value))}},{key:"at",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return yv()}}},{key:"ht",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new Wm(e,t,r):"array-contains"===t?new Xm(e,r):"in"===t?new Ym(e,r):"not-in"===t?new Jm(e,r):"array-contains-any"===t?new Zm(e,r):new n(e,t,r)}},{key:"ct",value:function(e,t,n){return"in"===t?new Gm(e,n):new Qm(e,n)}}]),n}(function(){return Tt((function e(){St(this,e)}))}()),Wm=function(e){pn(n,e);var t=kn(n);function n(e,r,i){var a;return St(this,n),(a=t.call(this,e,r,i)).key=Vv.fromName(i.referenceValue),a}return Tt(n,[{key:"matches",value:function(e){var t=Vv.comparator(e.key,this.key);return this.at(t)}}]),n}(Km),Gm=function(e){pn(n,e);var t=kn(n);function n(e,r){var i;return St(this,n),(i=t.call(this,e,"in",r)).keys=$m("in",r),i}return Tt(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Km),Qm=function(e){pn(n,e);var t=kn(n);function n(e,r){var i;return St(this,n),(i=t.call(this,e,"not-in",r)).keys=$m("not-in",r),i}return Tt(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Km);function $m(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Vv.fromName(e.referenceValue)}))}var Xm=function(e){pn(n,e);var t=kn(n);function n(e,r){return St(this,n),t.call(this,e,"array-contains",r)}return Tt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Om(t)&&Sm(t.arrayValue,this.value)}}]),n}(Km),Ym=function(e){pn(n,e);var t=kn(n);function n(e,r){return St(this,n),t.call(this,e,"in",r)}return Tt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Sm(this.value.arrayValue,t)}}]),n}(Km),Jm=function(e){pn(n,e);var t=kn(n);function n(e,r){return St(this,n),t.call(this,e,"not-in",r)}return Tt(n,[{key:"matches",value:function(e){if(Sm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Sm(this.value.arrayValue,t)}}]),n}(Km),Zm=function(e){pn(n,e);var t=kn(n);function n(e,r){return St(this,n),t.call(this,e,"array-contains-any",r)}return Tt(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Om(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Sm(t.value.arrayValue,e)}))}}]),n}(Km),ey=Tt((function e(t,n){St(this,e),this.position=t,this.inclusive=n})),ty=Tt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";St(this,e),this.field=t,this.dir=n}));function ny(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function ry(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Vv.comparator(Vv.fromName(o.referenceValue),n.key):Im(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function iy(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Em(e.position[n],t.position[n]))return!1;return!0}var ay=Tt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;St(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.lt=null,this.ft=null,this.startAt,this.endAt}));function oy(e,t,n,r,i,a,o,u){return new ay(e,t,n,r,i,a,o,u)}function uy(e){return new ay(e)}function sy(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function cy(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function ly(e){var t,n=zn(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.ht())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function fy(e){return null!==e.collectionGroup}function hy(e){var t=kv(e);if(null===t.lt){t.lt=[];var n=ly(t),r=cy(t);if(null!==n&&null===r)n.isKeyField()||t.lt.push(new ty(n)),t.lt.push(new ty(Uv.keyField(),"asc"));else{var i,a=!1,o=zn(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.lt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new ty(Uv.keyField(),s))}}}return t.lt}function dy(e){var t=kv(e);if(!t.ft)if("F"===t.limitType)t.ft=zm(t.path,t.collectionGroup,hy(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=zn(hy(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new ty(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new ey(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new ey(t.startAt.position,t.startAt.inclusive):null;t.ft=zm(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.ft}function py(e,t,n){return new ay(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function vy(e,t){return qm(dy(e),dy(t))&&e.limitType===t.limitType}function my(e){return"".concat(Bm(dy(e)),"|lt:").concat(e.limitType)}function yy(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(_m(t.value));var t})).join(", "),"]")),gm(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return _m(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return _m(e)})).join(",")),"Target(".concat(t,")")}(dy(e)),"; limitType=").concat(e.limitType,")")}function gy(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Vv.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=zn(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=zn(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=ry(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,hy(e),t))&&!(e.endAt&&!function(e,t,n){var r=ry(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,hy(e),t))}(e,t)}function ky(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function by(e){return function(t,n){var r,i=!1,a=zn(hy(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=wy(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function wy(e,t,n){var r=e.field.isKeyField()?Vv.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Im(r,i):yv()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return yv()}}function xy(e,t){if(e.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:km(t)?"-0":t}}function Ey(e){return{integerValue:""+e}}function Sy(e,t){return bm(t)?Ey(t):xy(e,t)}var Iy=Tt((function e(){St(this,e),this._=void 0}));function Ty(e,t,n){return e instanceof Ny?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Ay?Oy(e,t):e instanceof Dy?Py(e,t):function(e,t){var n=Cy(e,t),r=Ly(n)+Ly(e._t);return Am(n)&&Am(e._t)?Ey(r):xy(e.wt,r)}(e,t)}function _y(e,t,n){return e instanceof Ay?Oy(e,t):e instanceof Dy?Py(e,t):n}function Cy(e,t){return e instanceof Ry?Am(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Ny=function(e){pn(n,e);var t=kn(n);function n(){return St(this,n),t.apply(this,arguments)}return Tt(n)}(Iy),Ay=function(e){pn(n,e);var t=kn(n);function n(e){var r;return St(this,n),(r=t.call(this)).elements=e,r}return Tt(n)}(Iy);function Oy(e,t){var n,r=My(t),i=zn(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Em(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Dy=function(e){pn(n,e);var t=kn(n);function n(e){var r;return St(this,n),(r=t.call(this)).elements=e,r}return Tt(n)}(Iy);function Py(e,t){var n,r=My(t),i=zn(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Em(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Ry=function(e){pn(n,e);var t=kn(n);function n(e,r){var i;return St(this,n),(i=t.call(this)).wt=e,i._t=r,i}return Tt(n)}(Iy);function Ly(e){return fm(e.integerValue||e.doubleValue)}function My(e){return Om(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Fy=Tt((function e(t,n){St(this,e),this.version=t,this.transformResults=n})),jy=function(){function e(t,n){St(this,e),this.updateTime=t,this.exists=n}return Tt(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Uy(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Vy=Tt((function e(){St(this,e)}));function zy(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Zy(e.key,jy.none()):new Wy(e.key,e.data,jy.none());var n,r=e.data,i=Fm.empty(),a=new am(Uv.comparator),o=zn(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new Gy(e.key,i,new um(a.toArray()),jy.none())}function By(e,t,n){e instanceof Wy?function(e,t,n){var r=e.value.clone(),i=$y(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Gy?function(e,t,n){if(Uy(e.precondition,t)){var r=$y(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Qy(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function qy(e,t,n,r){return e instanceof Wy?function(e,t,n,r){if(!Uy(e.precondition,t))return n;var i=e.value.clone(),a=Xy(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Gy?function(e,t,n,r){if(!Uy(e.precondition,t))return n;var i=Xy(e.fieldTransforms,r,t),a=t.data;return a.setAll(Qy(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Uy(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Hy(e,t){var n,r=null,i=zn(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Cy(a.transform,o||null);null!=u&&(null===r&&(r=Fm.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Ky(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Pv(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ay&&t instanceof Ay||e instanceof Dy&&t instanceof Dy?Pv(e.elements,t.elements,Em):e instanceof Ry&&t instanceof Ry?Em(e._t,t._t):e instanceof Ny&&t instanceof Ny}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Wy=function(e){pn(n,e);var t=kn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return St(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Tt(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Vy),Gy=function(e){pn(n,e);var t=kn(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return St(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return Tt(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Vy);function Qy(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function $y(e,t,n){var r=new Map;gv(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,_y(o,u,n[i]))}return r}function Xy(e,t,n){var r,i=new Map,a=zn(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Ty(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Yy,Jy,Zy=function(e){pn(n,e);var t=kn(n);function n(e,r){var i;return St(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Tt(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Vy),eg=function(e){pn(n,e);var t=kn(n);function n(e,r){var i;return St(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Tt(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Vy),tg=Tt((function e(t){St(this,e),this.count=t}));function ng(e){switch(e){default:return yv();case bv.CANCELLED:case bv.UNKNOWN:case bv.DEADLINE_EXCEEDED:case bv.RESOURCE_EXHAUSTED:case bv.INTERNAL:case bv.UNAVAILABLE:case bv.UNAUTHENTICATED:return!1;case bv.INVALID_ARGUMENT:case bv.NOT_FOUND:case bv.ALREADY_EXISTS:case bv.PERMISSION_DENIED:case bv.FAILED_PRECONDITION:case bv.ABORTED:case bv.OUT_OF_RANGE:case bv.UNIMPLEMENTED:case bv.DATA_LOSS:return!0}}function rg(e){if(void 0===e)return pv("GRPC error has no .code"),bv.UNKNOWN;switch(e){case Yy.OK:return bv.OK;case Yy.CANCELLED:return bv.CANCELLED;case Yy.UNKNOWN:return bv.UNKNOWN;case Yy.DEADLINE_EXCEEDED:return bv.DEADLINE_EXCEEDED;case Yy.RESOURCE_EXHAUSTED:return bv.RESOURCE_EXHAUSTED;case Yy.INTERNAL:return bv.INTERNAL;case Yy.UNAVAILABLE:return bv.UNAVAILABLE;case Yy.UNAUTHENTICATED:return bv.UNAUTHENTICATED;case Yy.INVALID_ARGUMENT:return bv.INVALID_ARGUMENT;case Yy.NOT_FOUND:return bv.NOT_FOUND;case Yy.ALREADY_EXISTS:return bv.ALREADY_EXISTS;case Yy.PERMISSION_DENIED:return bv.PERMISSION_DENIED;case Yy.FAILED_PRECONDITION:return bv.FAILED_PRECONDITION;case Yy.ABORTED:return bv.ABORTED;case Yy.OUT_OF_RANGE:return bv.OUT_OF_RANGE;case Yy.UNIMPLEMENTED:return bv.UNIMPLEMENTED;case Yy.DATA_LOSS:return bv.DATA_LOSS;default:return yv()}}(Jy=Yy||(Yy={}))[Jy.OK=0]="OK",Jy[Jy.CANCELLED=1]="CANCELLED",Jy[Jy.UNKNOWN=2]="UNKNOWN",Jy[Jy.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Jy[Jy.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Jy[Jy.NOT_FOUND=5]="NOT_FOUND",Jy[Jy.ALREADY_EXISTS=6]="ALREADY_EXISTS",Jy[Jy.PERMISSION_DENIED=7]="PERMISSION_DENIED",Jy[Jy.UNAUTHENTICATED=16]="UNAUTHENTICATED",Jy[Jy.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Jy[Jy.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Jy[Jy.ABORTED=10]="ABORTED",Jy[Jy.OUT_OF_RANGE=11]="OUT_OF_RANGE",Jy[Jy.UNIMPLEMENTED=12]="UNIMPLEMENTED",Jy[Jy.INTERNAL=13]="INTERNAL",Jy[Jy.UNAVAILABLE=14]="UNAVAILABLE",Jy[Jy.DATA_LOSS=15]="DATA_LOSS";var ig=function(){function e(t,n){St(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Tt(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=zn(n);try{for(i.s();!(r=i.n()).done;){var a=M(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){em(this.inner,(function(t,n){var r,i=zn(n);try{for(i.s();!(r=i.n()).done;){var a=M(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return tm(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),ag=new nm(Vv.comparator);function og(){return ag}var ug=new nm(Vv.comparator);function sg(){for(var e=ug,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function cg(e){var t=ug;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function lg(){return hg()}function fg(){return hg()}function hg(){return new ig((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var dg=new nm(Vv.comparator),pg=new am(Vv.comparator);function vg(){for(var e=pg,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var mg=new am(Dv);function yg(){return mg}var gg=function(){function e(t,n,r,i,a){St(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Tt(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,kg.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Lv.min(),r,yg(),og(),vg())}}]),e}(),kg=function(){function e(t,n,r,i,a){St(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Tt(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(sm.EMPTY_BYTE_STRING,n,vg(),vg(),vg())}}]),e}(),bg=Tt((function e(t,n,r,i){St(this,e),this.gt=t,this.removedTargetIds=n,this.key=r,this.yt=i})),wg=Tt((function e(t,n){St(this,e),this.targetId=t,this.It=n})),xg=Tt((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sm.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;St(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Eg=function(){function e(){St(this,e),this.Tt=0,this.Et=Tg(),this.At=sm.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}return Tt(e,[{key:"current",get:function(){return this.Rt}},{key:"resumeToken",get:function(){return this.At}},{key:"Pt",get:function(){return 0!==this.Tt}},{key:"vt",get:function(){return this.bt}},{key:"Vt",value:function(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}},{key:"St",value:function(){var e=vg(),t=vg(),n=vg();return this.Et.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:yv()}})),new kg(this.At,this.Rt,e,t,n)}},{key:"Dt",value:function(){this.bt=!1,this.Et=Tg()}},{key:"Ct",value:function(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}},{key:"xt",value:function(e){this.bt=!0,this.Et=this.Et.remove(e)}},{key:"Nt",value:function(){this.Tt+=1}},{key:"kt",value:function(){this.Tt-=1}},{key:"Mt",value:function(){this.bt=!0,this.Rt=!0}}]),e}(),Sg=function(){function e(t){St(this,e),this.Ot=t,this.Ft=new Map,this.$t=og(),this.Bt=Ig(),this.Lt=new am(Dv)}return Tt(e,[{key:"Ut",value:function(e){var t,n=zn(e.gt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.yt&&e.yt.isFoundDocument()?this.qt(r,e.yt):this.Kt(r,e.key,e.yt)}}catch(u){n.e(u)}finally{n.f()}var i,a=zn(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Kt(o,e.key,e.yt)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Gt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Qt(n);switch(e.state){case 0:t.jt(n)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||t.removeTarget(n);break;case 3:t.jt(n)&&(r.Mt(),r.Vt(e.resumeToken));break;case 4:t.jt(n)&&(t.Wt(n),r.Vt(e.resumeToken));break;default:yv()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((function(e,r){n.jt(r)&&t(r)}))}},{key:"zt",value:function(e){var t=e.targetId,n=e.It.count,r=this.Ht(t);if(r){var i=r.target;if(Hm(i))if(0===n){var a=new Vv(i.path);this.Kt(t,a,Um.newNoDocument(a,Lv.min()))}else gv(1===n);else this.Jt(t)!==n&&(this.Wt(t),this.Lt=this.Lt.add(t))}}},{key:"Yt",value:function(e){var t=this,n=new Map;this.Ft.forEach((function(r,i){var a=t.Ht(i);if(a){if(r.current&&Hm(a.target)){var o=new Vv(a.target.path);null!==t.$t.get(o)||t.Xt(i,o)||t.Kt(i,o,Um.newNoDocument(o,e))}r.vt&&(n.set(i,r.St()),r.Dt())}}));var r=vg();this.Bt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Ht(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.$t.forEach((function(t,n){return n.setReadTime(e)}));var i=new gg(e,n,this.Lt,this.$t,r);return this.$t=og(),this.Bt=Ig(),this.Lt=new am(Dv),i}},{key:"qt",value:function(e,t){if(this.jt(e)){var n=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,n),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}}},{key:"Kt",value:function(e,t,n){if(this.jt(e)){var r=this.Qt(e);this.Xt(e,t)?r.Ct(t,1):r.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),n&&(this.$t=this.$t.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Ft.delete(e)}},{key:"Jt",value:function(e){var t=this.Qt(e).St();return this.Ot.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Nt",value:function(e){this.Qt(e).Nt()}},{key:"Qt",value:function(e){var t=this.Ft.get(e);return t||(t=new Eg,this.Ft.set(e,t)),t}},{key:"Zt",value:function(e){var t=this.Bt.get(e);return t||(t=new am(Dv),this.Bt=this.Bt.insert(e,t)),t}},{key:"jt",value:function(e){var t=null!==this.Ht(e);return t||dv("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Ht",value:function(e){var t=this.Ft.get(e);return t&&t.Pt?null:this.Ot.te(e)}},{key:"Wt",value:function(e){var t=this;this.Ft.set(e,new Eg),this.Ot.getRemoteKeysForTarget(e).forEach((function(n){t.Kt(e,n,null)}))}},{key:"Xt",value:function(e,t){return this.Ot.getRemoteKeysForTarget(e).has(t)}}]),e}();function Ig(){return new nm(Vv.comparator)}function Tg(){return new nm(Vv.comparator)}var _g={asc:"ASCENDING",desc:"DESCENDING"},Cg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ng=Tt((function e(t,n){St(this,e),this.databaseId=t,this.dt=n}));function Ag(e,t){return e.dt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Og(e,t){return e.dt?t.toBase64():t.toUint8Array()}function Dg(e,t){return Ag(e,t.toTimestamp())}function Pg(e){return gv(!!e),Lv.fromTimestamp(function(e){var t=lm(e);return new Rv(t.seconds,t.nanos)}(e))}function Rg(e,t){return function(e){return new Fv(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Lg(e){var t=Fv.fromString(e);return gv(tk(t)),t}function Mg(e,t){return Rg(e.databaseId,t.path)}function Fg(e,t){var n=Lg(t);if(n.get(1)!==e.databaseId.projectId)throw new wv(bv.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new wv(bv.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Vv(zg(n))}function jg(e,t){return Rg(e.databaseId,t)}function Ug(e){var t=Lg(e);return 4===t.length?Fv.emptyPath():zg(t)}function Vg(e){return new Fv(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function zg(e){return gv(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Bg(e,t,n){return{name:Mg(e,t),fields:n.value.mapValue.fields}}function qg(e,t){var n;if(t instanceof Wy)n={update:Bg(e,t.key,t.value)};else if(t instanceof Zy)n={delete:Mg(e,t.key)};else if(t instanceof Gy)n={update:Bg(e,t.key,t.data),updateMask:ek(t.fieldMask)};else{if(!(t instanceof eg))return yv();n={verify:Mg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Ny)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ay)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Dy)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ry)return{fieldPath:t.field.canonicalString(),increment:n._t};throw yv()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Dg(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:yv()}(e,t.precondition)),n}function Hg(e,t){return{documents:[jg(e,t.path)]}}function Kg(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=jg(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=jg(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Pm(e.value))return{unaryFilter:{field:Xg(e.field),op:"IS_NAN"}};if(Dm(e.value))return{unaryFilter:{field:Xg(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Pm(e.value))return{unaryFilter:{field:Xg(e.field),op:"IS_NOT_NAN"}};if(Dm(e.value))return{unaryFilter:{field:Xg(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xg(e.field),op:$g(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Xg(e.field),direction:Qg(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.dt||gm(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Wg(e){var t=Ug(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){gv(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Gg(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new ty(Yg(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return gm(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new ey(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new ey(n,t)}(n.endAt)),oy(t,i,u,o,s,"F",c,l)}function Gg(e){return e?void 0!==e.unaryFilter?[Zg(e)]:void 0!==e.fieldFilter?[Jg(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Gg(e)})).reduce((function(e,t){return e.concat(t)})):yv():[]}function Qg(e){return _g[e]}function $g(e){return Cg[e]}function Xg(e){return{fieldPath:e.canonicalString()}}function Yg(e){return Uv.fromServerFormat(e.fieldPath)}function Jg(e){return Km.create(Yg(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return yv()}}(e.fieldFilter.op),e.fieldFilter.value)}function Zg(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Yg(e.unaryFilter.field);return Km.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Yg(e.unaryFilter.field);return Km.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Yg(e.unaryFilter.field);return Km.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Yg(e.unaryFilter.field);return Km.create(i,"!=",{nullValue:"NULL_VALUE"});default:return yv()}}function ek(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function tk(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var nk=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),rk=([].concat(Et(nk),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),ik=rk;[].concat(ik,["indexConfiguration","indexState","indexEntries"]);var ak=function(){function e(t,n,r,i){St(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Tt(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&By(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=zn(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=qy(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=zn(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=qy(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=fg();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=zy(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Lv.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),vg())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Pv(this.mutations,e.mutations,(function(e,t){return Ky(e,t)}))&&Pv(this.baseMutations,e.baseMutations,(function(e,t){return Ky(e,t)}))}}]),e}(),ok=function(){function e(t,n,r,i){St(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Tt(e,null,[{key:"from",value:function(t,n,r){gv(t.mutations.length===r.length);for(var i=dg,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),uk=function(){function e(t,n){St(this,e),this.largestBatchId=t,this.mutation=n}return Tt(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),sk=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Lv.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Lv.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:sm.EMPTY_BYTE_STRING;St(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Tt(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),ck=Tt((function e(t){St(this,e),this.ne=t}));function lk(e){var t=Wg({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?py(t,t.limit,"L"):t}var fk=function(){function e(){St(this,e)}return Tt(e,[{key:"re",value:function(e,t){this.oe(e,t),t.ue()}},{key:"oe",value:function(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(fm(e.integerValue));else if("doubleValue"in e){var n=fm(e.doubleValue);isNaN(n)?this.ce(t,13):(this.ce(t,15),km(n)?t.ae(0):t.ae(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he("".concat(r.seconds||"")),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(hm(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ce(t,45),t.ae(i.latitude||0),t.ae(i.longitude||0)}else"mapValue"in e?Mm(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):yv()}},{key:"le",value:function(e,t){this.ce(t,25),this.ge(e,t)}},{key:"ge",value:function(e,t){t.he(e)}},{key:"we",value:function(e,t){var n=e.fields||{};this.ce(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.le(a,t),this.oe(n[a],t)}}},{key:"me",value:function(e,t){var n=e.values||[];this.ce(t,50);var r,i=zn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.oe(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"_e",value:function(e,t){var n=this;this.ce(t,37),Vv.fromName(e).path.forEach((function(e){n.ce(t,60),n.ge(e,t)}))}},{key:"ce",value:function(e,t){e.ae(t)}},{key:"fe",value:function(e){e.ae(2)}}]),e}();fk.ye=new fk;var hk=function(){function e(){St(this,e),this.ze=new dk}return Tt(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.ze.add(t),Xv.resolve()}},{key:"getCollectionParents",value:function(e,t){return Xv.resolve(this.ze.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Xv.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Xv.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Xv.resolve(null)}},{key:"getIndexType",value:function(e,t){return Xv.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Xv.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Xv.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Xv.resolve(Hv.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Xv.resolve(Hv.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Xv.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Xv.resolve()}}]),e}(),dk=function(){function e(){St(this,e),this.index={}}return Tt(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new am(Fv.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new am(Fv.comparator)).toArray()}}]),e}();new Uint8Array(0);var pk=function(){function e(t,n,r){St(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Tt(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();pk.DEFAULT_COLLECTION_PERCENTILE=10,pk.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pk.DEFAULT=new pk(41943040,pk.DEFAULT_COLLECTION_PERCENTILE,pk.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pk.DISABLED=new pk(-1,0,0);var vk=function(){function e(t){St(this,e),this.En=t}return Tt(e,[{key:"next",value:function(){return this.En+=2,this.En}}],[{key:"An",value:function(){return new e(0)}},{key:"Rn",value:function(){return new e(-1)}}]),e}();var mk=function(){function e(){St(this,e),this.changes=new ig((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Tt(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Um.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Xv.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var yk=Tt((function e(t,n){St(this,e),this.overlayedDocument=t,this.mutatedFields=n})),gk=function(){function e(t,n,r,i){St(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return Tt(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&qy(r.mutation,e,um.empty(),Rv.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,vg()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vg(),i=lg();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=sg();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=lg();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,vg())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=og(),a=hg(),o=hg();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Gy)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),qy(o.mutation,t,o.mutation.getFieldMask(),Rv.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new yk(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=hg(),i=new nm((function(e,t){return e-t})),a=vg();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=zn(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||um.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||vg()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=fg();c.forEach((function(e){if(!a.has(e)){var n=zy(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return Xv.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Vv.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):fy(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Xv.resolve(lg()),u=-1,s=a;return o.next((function(t){return Xv.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?Xv.resolve():i.getBaseDocument(e,t,n).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,vg())})).next((function(e){return{batchId:u,changes:cg(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Vv(t)).next((function(e){var t=sg();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=sg();return this.indexManager.getCollectionParents(e,i).next((function(o){return Xv.forEach(o,(function(o){var u=function(e,t){return new ay(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,Um.newInvalidDocument(n)))}));var n=sg();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&qy(a.mutation,i,um.empty(),Rv.now()),gy(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):Xv.resolve(Um.newInvalidDocument(t))}}]),e}(),kk=function(){function e(t){St(this,e),this.wt=t,this.Jn=new Map,this.Yn=new Map}return Tt(e,[{key:"getBundleMetadata",value:function(e,t){return Xv.resolve(this.Jn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Jn.set(t.id,{id:(n=t).id,version:n.version,createTime:Pg(n.createTime)}),Xv.resolve()}},{key:"getNamedQuery",value:function(e,t){return Xv.resolve(this.Yn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Yn.set(t.name,function(e){return{name:e.name,query:lk(e.bundledQuery),readTime:Pg(e.readTime)}}(t)),Xv.resolve()}}]),e}(),bk=function(){function e(){St(this,e),this.overlays=new nm(Vv.comparator),this.Xn=new Map}return Tt(e,[{key:"getOverlay",value:function(e,t){return Xv.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=lg();return Xv.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ie(e,t,i)})),Xv.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Xn.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Xn.delete(n)),Xv.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=lg(),i=t.length+1,a=new Vv(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Xv.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new nm((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=lg(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=lg(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return Xv.resolve(s)}},{key:"ie",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Xn.get(r.largestBatchId).delete(n.key);this.Xn.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new uk(t,n));var a=this.Xn.get(t);void 0===a&&(a=vg(),this.Xn.set(t,a)),this.Xn.set(t,a.add(n.key))}}]),e}(),wk=function(){function e(){St(this,e),this.Zn=new am(xk.ts),this.es=new am(xk.ns)}return Tt(e,[{key:"isEmpty",value:function(){return this.Zn.isEmpty()}},{key:"addReference",value:function(e,t){var n=new xk(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}},{key:"ss",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.rs(new xk(e,t))}},{key:"os",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new Vv(new Fv([])),r=new xk(n,e),i=new xk(n,e+1),a=[];return this.es.forEachInRange([r,i],(function(e){t.rs(e),a.push(e.key)})),a}},{key:"cs",value:function(){var e=this;this.Zn.forEach((function(t){return e.rs(t)}))}},{key:"rs",value:function(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}},{key:"hs",value:function(e){var t=new Vv(new Fv([])),n=new xk(t,e),r=new xk(t,e+1),i=vg();return this.es.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new xk(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),xk=function(){function e(t,n){St(this,e),this.key=t,this.ls=n}return Tt(e,null,[{key:"ts",value:function(e,t){return Vv.comparator(e.key,t.key)||Dv(e.ls,t.ls)}},{key:"ns",value:function(e,t){return Dv(e.ls,t.ls)||Vv.comparator(e.key,t.key)}}]),e}(),Ek=function(){function e(t,n){St(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new am(xk.ts)}return Tt(e,[{key:"checkEmpty",value:function(e){return Xv.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new ak(i,t,n,r);this.mutationQueue.push(a);var o,u=zn(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.ds=this.ds.add(new xk(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return Xv.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Xv.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ws(n),i=r<0?0:r;return Xv.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Xv.resolve(0===this.mutationQueue.length?-1:this.fs-1)}},{key:"getAllMutationBatches",value:function(e){return Xv.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new xk(t,0),i=new xk(t,Number.POSITIVE_INFINITY),a=[];return this.ds.forEachInRange([r,i],(function(e){var t=n._s(e.ls);a.push(t)})),Xv.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new am(Dv);return t.forEach((function(e){var t=new xk(e,0),i=new xk(e,Number.POSITIVE_INFINITY);n.ds.forEachInRange([t,i],(function(e){r=r.add(e.ls)}))})),Xv.resolve(this.gs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Vv.isDocumentKey(i)||(i=i.child(""));var a=new xk(new Vv(i),0),o=new am(Dv);return this.ds.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)}),a),Xv.resolve(this.gs(o))}},{key:"gs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;gv(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();var r=this.ds;return Xv.forEach(t.mutations,(function(i){var a=new xk(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ds=r}))}},{key:"In",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new xk(t,0),r=this.ds.firstAfterOrEqual(n);return Xv.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Xv.resolve()}},{key:"ys",value:function(e,t){return this.ws(e)}},{key:"ws",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"_s",value:function(e){var t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Sk=function(){function e(t){St(this,e),this.ps=t,this.docs=new nm(Vv.comparator),this.size=0}return Tt(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ps(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Xv.resolve(n?n.document.mutableCopy():Um.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=og();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Um.newInvalidDocument(e))})),Xv.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=og(),i=new Vv(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||Kv(qv(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return Xv.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){yv()}},{key:"Is",value:function(e,t){return Xv.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Ik(this)}},{key:"getSize",value:function(e){return Xv.resolve(this.size)}}]),e}(),Ik=function(e){pn(n,e);var t=kn(n);function n(e){var r;return St(this,n),(r=t.call(this)).zn=e,r}return Tt(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.zn.addEntry(e,i)):t.zn.removeEntry(r)})),Xv.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.zn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.zn.getEntries(e,t)}}]),n}(mk),Tk=function(){function e(t){St(this,e),this.persistence=t,this.Ts=new ig((function(e){return Bm(e)}),qm),this.lastRemoteSnapshotVersion=Lv.min(),this.highestTargetId=0,this.Es=0,this.As=new wk,this.targetCount=0,this.Rs=vk.An()}return Tt(e,[{key:"forEachTarget",value:function(e,t){return this.Ts.forEach((function(e,n){return t(n)})),Xv.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Xv.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Xv.resolve(this.Es)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Rs.next(),Xv.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Es&&(this.Es=t),Xv.resolve()}},{key:"vn",value:function(e){this.Ts.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Rs=new vk(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.vn(t),this.targetCount+=1,Xv.resolve()}},{key:"updateTargetData",value:function(e,t){return this.vn(t),Xv.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,Xv.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Ts.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Ts.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Xv.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Xv.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Ts.get(t)||null;return Xv.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.As.ss(t,n),Xv.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.As.os(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Xv.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.As.us(t),Xv.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.As.hs(t);return Xv.resolve(n)}},{key:"containsKey",value:function(e,t){return Xv.resolve(this.As.containsKey(t))}}]),e}(),_k=function(){function e(t,n){var r=this;St(this,e),this.bs={},this.overlays={},this.Ps=new Jv(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new Tk(this),this.indexManager=new hk,this.remoteDocumentCache=new Sk((function(e){return r.referenceDelegate.Ss(e)})),this.wt=new ck(n),this.Ds=new kk(this.wt)}return Tt(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.vs=!1,Promise.resolve()}},{key:"started",get:function(){return this.vs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new bk,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.bs[e.toKey()];return n||(n=new Ek(t,this.referenceDelegate),this.bs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;dv("MemoryPersistence","Starting transaction:",e);var i=new Ck(this.Ps.next());return this.referenceDelegate.Cs(),n(i).next((function(e){return r.referenceDelegate.xs(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ns",value:function(e,t){return Xv.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Ck=function(e){pn(n,e);var t=kn(n);function n(e){var r;return St(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Tt(n)}(Gv),Nk=function(){function e(t){St(this,e),this.persistence=t,this.ks=new wk,this.Ms=null}return Tt(e,[{key:"Fs",get:function(){if(this.Ms)return this.Ms;throw yv()}},{key:"addReference",value:function(e,t,n){return this.ks.addReference(n,t),this.Fs.delete(n.toString()),Xv.resolve()}},{key:"removeReference",value:function(e,t,n){return this.ks.removeReference(n,t),this.Fs.add(n.toString()),Xv.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Fs.add(t.toString()),Xv.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.ks.us(t.targetId).forEach((function(e){return n.Fs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Fs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Cs",value:function(){this.Ms=new Set}},{key:"xs",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Xv.forEach(this.Fs,(function(r){var i=Vv.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i,Lv.min())}))})).next((function(){return t.Ms=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.Fs.delete(t.toString()):n.Fs.add(t.toString())}))}},{key:"Ss",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return Xv.or([function(){return Xv.resolve(n.ks.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ns(e,t)}])}}],[{key:"Os",value:function(t){return new e(t)}}]),e}();var Ak=function(){function e(t,n,r,i){St(this,e),this.targetId=t,this.fromCache=n,this.Pi=r,this.vi=i}return Tt(e,null,[{key:"Vi",value:function(t,n){var r,i=vg(),a=vg(),o=zn(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Ok=function(){function e(){St(this,e),this.Si=!1}return Tt(e,[{key:"initialize",value:function(e,t){this.Di=e,this.indexManager=t,this.Si=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ci(e,t).next((function(a){return a||i.xi(e,t,r,n)})).next((function(n){return n||i.Ni(e,t)}))}},{key:"Ci",value:function(e,t){var n=this;if(sy(t))return Xv.resolve(null);var r=dy(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=py(t,null,"F"),r=dy(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=vg.apply(void 0,Et(i));return n.Di.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.ki(t,i);return n.Mi(t,o,a,r.readTime)?n.Ci(e,py(t,null,"F")):n.Oi(e,o,t,r)}))}))})))}))}},{key:"xi",value:function(e,t,n,r){var i=this;return sy(t)||r.isEqual(Lv.min())?this.Ni(e,t):this.Di.getDocuments(e,n).next((function(a){var o=i.ki(t,a);return i.Mi(t,o,n,r)?i.Ni(e,t):(hv()<=br.DEBUG&&dv("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),yy(t)),i.Oi(e,o,t,Bv(r,-1)))}))}},{key:"ki",value:function(e,t){var n=new am(by(e));return t.forEach((function(t,r){gy(e,r)&&(n=n.add(r))})),n}},{key:"Mi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ni",value:function(e,t){return hv()<=br.DEBUG&&dv("QueryEngine","Using full collection scan to execute query:",yy(t)),this.Di.getDocumentsMatchingQuery(e,t,Hv.min())}},{key:"Oi",value:function(e,t,n,r){return this.Di.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Dk=function(){function e(t,n,r,i){St(this,e),this.persistence=t,this.Fi=n,this.wt=i,this.$i=new nm(Dv),this.Bi=new ig((function(e){return Bm(e)}),qm),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(r)}return Tt(e,[{key:"qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gk(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.$i)}))}}]),e}();function Pk(e,t,n,r){return new Dk(e,t,n,r)}function Rk(e,t){return Lk.apply(this,arguments)}function Lk(){return Lk=Vn(jn().mark((function e(t,n){var r;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=kv(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=vg(),s=zn(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=zn(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=zn(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=zn(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{Ki:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Lk.apply(this,arguments)}function Mk(e,t){var n=kv(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Xv.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);gv(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=vg(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Fk(e){var t=kv(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Vs.getLastRemoteSnapshotVersion(e)}))}function jk(e,t){var n=kv(e),r=t.snapshotVersion,i=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Ui.newChangeBuffer({trackRemovals:!0});i=n.$i;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Vs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Vs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(sm.EMPTY_BYTE_STRING,Lv.min()).withLastLimboFreeSnapshotVersion(Lv.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Vs.updateTargetData(e,c))}}));var u=og(),s=vg();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Uk(e,a,t.documentUpdates).next((function(e){u=e.Gi,s=e.Qi}))),!r.isEqual(Lv.min())){var c=n.Vs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Vs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Xv.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.$i=i,e}))}function Uk(e,t,n){var r=vg(),i=vg();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=og();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Lv.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):dv("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Gi:r,Qi:i}}))}function Vk(e,t){var n=kv(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function zk(e,t){var n=kv(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Vs.getTargetData(e,t).next((function(i){return i?(r=i,Xv.resolve(r)):n.Vs.allocateTargetId(e).next((function(i){return r=new sk(t,i,0,e.currentSequenceNumber),n.Vs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.$i.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.$i=n.$i.insert(e.targetId,e),n.Bi.set(t,e.targetId)),e}))}function Bk(e,t,n){return qk.apply(this,arguments)}function qk(){return qk=Vn(jn().mark((function e(t,n,r){var i,a,o;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=kv(t),a=i.$i.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Yv(e.t1)){e.next=12;break}throw e.t1;case 12:dv("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.$i=i.$i.remove(n),i.Bi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),qk.apply(this,arguments)}function Hk(e,t,n){var r=kv(e),i=Lv.min(),a=vg();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=kv(e),i=r.Bi.get(n);return void 0!==i?Xv.resolve(r.$i.get(i)):r.Vs.getTargetData(t,n)}(r,e,dy(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Fi.getDocumentsMatchingQuery(e,t,n?i:Lv.min(),n?a:vg())})).next((function(e){return Kk(r,ky(t),e),{documents:e,ji:a}}))}))}function Kk(e,t,n){var r=Lv.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Li.set(t,r)}var Wk=function(){function e(){St(this,e),this.activeTargetIds=yg()}return Tt(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Gk=function(){function e(){St(this,e),this.Fr=new Wk,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Tt(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Fr.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Fr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Fr=new Wk,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Qk=function(){function e(){St(this,e)}return Tt(e,[{key:"Br",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),$k=function(){function e(){var t=this;St(this,e),this.Lr=function(){return t.Ur()},this.qr=function(){return t.Kr()},this.Gr=[],this.Qr()}return Tt(e,[{key:"Br",value:function(e){this.Gr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}},{key:"Qr",value:function(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}},{key:"Ur",value:function(){dv("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=zn(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Kr",value:function(){dv("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=zn(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"V",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Xk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Yk=function(){function e(t){St(this,e),this.jr=t.jr,this.Wr=t.Wr}return Tt(e,[{key:"zr",value:function(e){this.Hr=e}},{key:"Jr",value:function(e){this.Yr=e}},{key:"onMessage",value:function(e){this.Xr=e}},{key:"close",value:function(){this.Wr()}},{key:"send",value:function(e){this.jr(e)}},{key:"Zr",value:function(){this.Hr()}},{key:"eo",value:function(e){this.Yr(e)}},{key:"no",value:function(e){this.Xr(e)}}]),e}(),Jk=function(e){pn(n,e);var t=kn(n);function n(e){var r;return St(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Tt(n,[{key:"co",value:function(e,t,n,r){return new Promise((function(i,a){var o=new uv;o.listenOnce(nv.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case tv.NO_ERROR:var t=o.getResponseJson();dv("Connection","XHR received:",JSON.stringify(t)),i(t);break;case tv.TIMEOUT:dv("Connection",'RPC "'+e+'" timed out'),a(new wv(bv.DEADLINE_EXCEEDED,"Request time out"));break;case tv.HTTP_ERROR:var n=o.getStatus();if(dv("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(bv).indexOf(t)>=0?t:bv.UNKNOWN}(r.status);a(new wv(u,r.message))}else a(new wv(bv.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new wv(bv.UNAVAILABLE,"Connection failed."));break;default:yv()}}finally{dv("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"ho",value:function(e,t,n){var r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Zp(),a=ev(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new av({})),this.uo(o.initMessageHeaders,t,n),Xn()||Jn()||$n().indexOf("Electron/")>=0||Zn()||$n().indexOf("MSAppHost/")>=0||Yn()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");dv("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new Yk({jr:function(e){l?dv("Connection","Not sending because WebChannel is closed:",e):(c||(dv("Connection","Opening WebChannel transport."),s.open(),c=!0),dv("Connection","WebChannel sending:",e),s.send(e))},Wr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,ov.EventType.OPEN,(function(){l||dv("Connection","WebChannel transport opened.")})),h(s,ov.EventType.CLOSE,(function(){l||(l=!0,dv("Connection","WebChannel transport closed"),f.eo())})),h(s,ov.EventType.ERROR,(function(e){l||(l=!0,vv("Connection","WebChannel transport errored:",e),f.eo(new wv(bv.UNAVAILABLE,"The operation could not be completed")))})),h(s,ov.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];gv(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){dv("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Yy[e];if(void 0!==t)return rg(t)}(a),u=i.message;void 0===o&&(o=bv.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.eo(new wv(o,u)),s.close()}else dv("Connection","WebChannel received:",n),f.no(n)}})),h(a,rv.STAT_EVENT,(function(e){e.stat===iv.PROXY?dv("Connection","Detected buffering proxy"):e.stat===iv.NOPROXY&&dv("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Zr()}),0),f}}]),n}(function(){function e(t){St(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.so=n+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Tt(e,[{key:"ro",value:function(e,t,n,r,i){var a=this.oo(e,t);dv("RestConnection","Sending: ",a,n);var o={};return this.uo(o,r,i),this.co(e,a,o,n).then((function(e){return dv("RestConnection","Received: ",e),e}),(function(t){throw vv("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ao",value:function(e,t,n,r,i,a){return this.ro(e,t,n,r,i)}},{key:"uo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+lv,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"oo",value:function(e,t){var n=Xk[e];return"".concat(this.so,"/v1/").concat(t,":").concat(n)}}]),e}());function Zk(){return"undefined"!=typeof document?document:null}function eb(e){return new Ng(e,!0)}var tb=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;St(this,e),this.js=t,this.timerId=n,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}return Tt(e,[{key:"reset",value:function(){this.wo=0}},{key:"po",value:function(){this.wo=this._o}},{key:"Io",value:function(e){var t=this;this.cancel();var n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&dv("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.wo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.mo=this.js.enqueueAfterDelay(this.timerId,i,(function(){return t.yo=Date.now(),e()})),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}},{key:"Eo",value:function(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}},{key:"cancel",value:function(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}},{key:"To",value:function(){return(Math.random()-.5)*this.wo}}]),e}(),nb=function(){function e(t,n,r,i,a,o,u,s){St(this,e),this.js=t,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new tb(t,n)}return Tt(e,[{key:"Do",value:function(){return 1===this.state||5===this.state||this.Co()}},{key:"Co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.xo()}},{key:"stop",value:function(){var e=Vn(jn().mark((function e(){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Do(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"No",value:function(){this.state=0,this.So.reset()}},{key:"ko",value:function(){var e=this;this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,(function(){return e.Mo()})))}},{key:"Oo",value:function(e){this.Fo(),this.stream.send(e)}},{key:"Mo",value:function(){var e=Vn(jn().mark((function e(){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"$o",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"close",value:function(){var e=Vn(jn().mark((function e(t,n){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==t?this.So.reset():n&&n.code===bv.RESOURCE_EXHAUSTED?(pv(n.toString()),pv("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===bv.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Jr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=M(t,2),i=r[0],a=r[1];e.Po===n&&e.Uo(i,a)}),(function(n){t((function(){var t=new wv(bv.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Uo",value:function(e,t){var n=this,r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr((function(){r((function(){return n.state=2,n.Vo=n.js.enqueueAfterDelay(n.Ro,1e4,(function(){return n.Co()&&(n.state=3),Promise.resolve()})),n.listener.zr()}))})),this.stream.Jr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"xo",value:function(){var e=this;this.state=5,this.So.Io(Vn(jn().mark((function t(){return jn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return dv("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Lo",value:function(e){var t=this;return function(n){t.js.enqueueAndForget((function(){return t.Po===e?n():(dv("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),rb=function(e){pn(n,e);var t=kn(n);function n(e,r,i,a,o,u){var s;return St(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).wt=o,s}return Tt(n,[{key:"Ko",value:function(e,t){return this.bo.ho("Listen",e,t)}},{key:"onMessage",value:function(e){this.So.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:yv()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.dt?(gv(void 0===t||"string"==typeof t),sm.fromBase64String(t||"")):(gv(void 0===t||t instanceof Uint8Array),sm.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?bv.UNKNOWN:rg(e.code);return new wv(t,e.message||"")}(o);n=new xg(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Fg(e,s.document.name),l=Pg(s.document.updateTime),f=new Fm({mapValue:{fields:s.document.fields}}),h=Um.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new bg(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=Fg(e,v.document),y=v.readTime?Pg(v.readTime):Lv.min(),g=Um.newNoDocument(m,y),k=v.removedTargetIds||[];n=new bg([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=Fg(e,b.document),x=b.removedTargetIds||[];n=new bg([],x,w,null)}else{if(!("filter"in t))return yv();t.filter;var E=t.filter;E.targetId;var S=E.count||0,I=new tg(S),T=E.targetId;n=new wg(T,I)}return n}(this.wt,e),n=function(e){if(!("targetChange"in e))return Lv.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Lv.min():t.readTime?Pg(t.readTime):Lv.min()}(e);return this.listener.Go(t,n)}},{key:"Qo",value:function(e){var t={};t.database=Vg(this.wt),t.addTarget=function(e,t){var n,r=t.target;return(n=Hm(r)?{documents:Hg(e,r)}:{query:Kg(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Og(e,t.resumeToken):t.snapshotVersion.compareTo(Lv.min())>0&&(n.readTime=Ag(e,t.snapshotVersion.toTimestamp())),n}(this.wt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return yv()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.wt,e);n&&(t.labels=n),this.Oo(t)}},{key:"jo",value:function(e){var t={};t.database=Vg(this.wt),t.removeTarget=e,this.Oo(t)}}]),n}(nb),ib=function(e){pn(n,e);var t=kn(n);function n(e,r,i,a,o,u){var s;return St(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).wt=o,s.Wo=!1,s}return Tt(n,[{key:"zo",get:function(){return this.Wo}},{key:"start",value:function(){this.Wo=!1,this.lastStreamToken=void 0,dn(fn(n.prototype),"start",this).call(this)}},{key:"Bo",value:function(){this.Wo&&this.Ho([])}},{key:"Ko",value:function(e,t){return this.bo.ho("Write",e,t)}},{key:"onMessage",value:function(e){if(gv(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();var t=function(e,t){return e&&e.length>0?(gv(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Pg(e.updateTime):Pg(t);return n.isEqual(Lv.min())&&(n=Pg(t)),new Fy(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Pg(e.commitTime);return this.listener.Jo(n,t)}return gv(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}},{key:"Xo",value:function(){var e={};e.database=Vg(this.wt),this.Oo(e)}},{key:"Ho",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return qg(t.wt,e)}))};this.Oo(n)}}]),n}(nb),ab=function(e){pn(n,e);var t=kn(n);function n(e,r,i,a){var o;return St(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.wt=a,o.Zo=!1,o}return Tt(n,[{key:"tu",value:function(){if(this.Zo)throw new wv(bv.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ro",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=M(i,2),o=a[0],u=a[1];return r.bo.ro(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===bv.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new wv(bv.UNKNOWN,e.toString())}))}},{key:"ao",value:function(e,t,n,r){var i=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=M(a,2),u=o[0],s=o[1];return i.bo.ao(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===bv.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new wv(bv.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Zo=!0}}]),n}(function(){return Tt((function e(){St(this,e)}))}()),ob=function(){function e(t,n){St(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}return Tt(e,[{key:"iu",value:function(){var e=this;0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.nu=null,e.ou("Backend didn't respond within 10 seconds."),e.ru("Offline"),Promise.resolve()})))}},{key:"uu",value:function(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ru("Offline")))}},{key:"set",value:function(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}},{key:"ru",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ou",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.su?(pv(t),this.su=!1):dv("OnlineStateTracker",t)}},{key:"cu",value:function(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}]),e}(),ub=Tt((function e(t,n,r,i,a){var o=this;St(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br((function(e){r.enqueueAndForget(Vn(jn().mark((function e(){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=gb(o),!e.t0){e.next=5;break}return dv("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Vn(jn().mark((function e(t){var n;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=kv(t)).lu.add(4),e.next=4,lb(n);case 4:return n._u.set("Unknown"),n.lu.delete(4),e.next=8,sb(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this._u=new ob(r,i)}));function sb(e){return cb.apply(this,arguments)}function cb(){return cb=Vn(jn().mark((function e(t){var n,r,i;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!gb(t)){e.next=18;break}n=zn(t.fu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),cb.apply(this,arguments)}function lb(e){return fb.apply(this,arguments)}function fb(){return fb=Vn(jn().mark((function e(t){var n,r,i;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=zn(t.fu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),fb.apply(this,arguments)}function hb(e,t){var n=kv(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),yb(n)?mb(n):Gb(n).Co()&&pb(n,t))}function db(e,t){var n=kv(e),r=Gb(n);n.hu.delete(t),r.Co()&&vb(n,t),0===n.hu.size&&(r.Co()?r.ko():gb(n)&&n._u.set("Unknown"))}function pb(e,t){e.wu.Nt(t.targetId),Gb(e).Qo(t)}function vb(e,t){e.wu.Nt(t),Gb(e).jo(t)}function mb(e){e.wu=new Sg({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},te:function(t){return e.hu.get(t)||null}}),Gb(e).start(),e._u.iu()}function yb(e){return gb(e)&&!Gb(e).Do()&&e.hu.size>0}function gb(e){return 0===kv(e).lu.size}function kb(e){e.wu=void 0}function bb(e){return wb.apply(this,arguments)}function wb(){return wb=Vn(jn().mark((function e(t){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.hu.forEach((function(e,n){pb(t,e)}));case 1:case"end":return e.stop()}}),e)}))),wb.apply(this,arguments)}function xb(e,t){return Eb.apply(this,arguments)}function Eb(){return Eb=Vn(jn().mark((function e(t,n){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:kb(t),yb(t)?(t._u.uu(n),mb(t)):t._u.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Eb.apply(this,arguments)}function Sb(e,t,n){return Ib.apply(this,arguments)}function Ib(){return Ib=Vn(jn().mark((function e(t,n,r){var i;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._u.set("Online"),!(n instanceof xg&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Vn(jn().mark((function e(t,n){var r,i,a,o;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=zn(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.hu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.hu.delete(o),t.wu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),dv("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Tb(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof bg?t.wu.Ut(n):n instanceof wg?t.wu.zt(n):t.wu.Gt(n),r.isEqual(Lv.min())){e.next=29;break}return e.prev=14,e.next=17,Fk(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.wu.Yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.hu.get(t);if(n){e.hu.set(t,n.withResumeToken(sm.EMPTY_BYTE_STRING,n.snapshotVersion)),vb(e,t);var r=new sk(n.target,t,1,n.sequenceNumber);pb(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),dv("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Tb(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Ib.apply(this,arguments)}function Tb(e,t,n){return _b.apply(this,arguments)}function _b(){return _b=Vn(jn().mark((function e(t,n,r){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Yv(n)){e.next=2;break}throw n;case 2:return t.lu.add(1),e.next=5,lb(t);case 5:t._u.set("Offline"),r||(r=function(){return Fk(t.localStore)}),t.asyncQueue.enqueueRetryable(Vn(jn().mark((function e(){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return dv("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.lu.delete(1),e.next=6,sb(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),_b.apply(this,arguments)}function Cb(e,t){return t().catch((function(n){return Tb(e,n,t)}))}function Nb(e){return Ab.apply(this,arguments)}function Ab(){return Ab=Vn(jn().mark((function e(t){var n,r,i,a;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=kv(t),r=Qb(n),i=n.au.length>0?n.au[n.au.length-1].batchId:-1;case 2:if(!Ob(n)){e.next=19;break}return e.prev=3,e.next=6,Vk(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.au.length&&r.ko(),e.abrupt("break",19);case 10:i=a.batchId,Db(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Tb(n,e.t0);case 17:e.next=2;break;case 19:Pb(n)&&Rb(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Ab.apply(this,arguments)}function Ob(e){return gb(e)&&e.au.length<10}function Db(e,t){e.au.push(t);var n=Qb(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function Pb(e){return gb(e)&&!Qb(e).Do()&&e.au.length>0}function Rb(e){Qb(e).start()}function Lb(e){return Mb.apply(this,arguments)}function Mb(){return Mb=Vn(jn().mark((function e(t){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Qb(t).Xo();case 1:case"end":return e.stop()}}),e)}))),Mb.apply(this,arguments)}function Fb(e){return jb.apply(this,arguments)}function jb(){return jb=Vn(jn().mark((function e(t){var n,r,i,a;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Qb(t),r=zn(t.au);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Ho(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),jb.apply(this,arguments)}function Ub(e,t,n){return Vb.apply(this,arguments)}function Vb(){return Vb=Vn(jn().mark((function e(t,n,r){var i,a;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.au.shift(),a=ok.from(i,n,r),e.next=3,Cb(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Nb(t);case 5:case"end":return e.stop()}}),e)}))),Vb.apply(this,arguments)}function zb(e,t){return Bb.apply(this,arguments)}function Bb(){return Bb=Vn(jn().mark((function e(t,n){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Qb(t).zo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Vn(jn().mark((function e(t,n){var r,i;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ng(i=n.code)||i===bv.ABORTED){e.next=7;break}return r=t.au.shift(),Qb(t).No(),e.next=5,Cb(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Nb(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Pb(t)&&Rb(t);case 5:case"end":return e.stop()}}),e)}))),Bb.apply(this,arguments)}function qb(e,t){return Hb.apply(this,arguments)}function Hb(){return Hb=Vn(jn().mark((function e(t,n){var r,i;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=kv(t)).asyncQueue.verifyOperationInProgress(),dv("RemoteStore","RemoteStore received new credentials"),i=gb(r),r.lu.add(3),e.next=6,lb(r);case 6:return i&&r._u.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.lu.delete(3),e.next=12,sb(r);case 12:case"end":return e.stop()}}),e)}))),Hb.apply(this,arguments)}function Kb(e,t){return Wb.apply(this,arguments)}function Wb(){return Wb=Vn(jn().mark((function e(t,n){var r;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=kv(t),!n){e.next=7;break}return r.lu.delete(2),e.next=5,sb(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.lu.add(2),e.next=12,lb(r);case 12:r._u.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Wb.apply(this,arguments)}function Gb(e){return e.mu||(e.mu=function(e,t,n){var r=kv(e);return r.tu(),new rb(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:bb.bind(null,e),Jr:xb.bind(null,e),Go:Sb.bind(null,e)}),e.fu.push(function(){var t=Vn(jn().mark((function t(n){return jn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.mu.No(),yb(e)?mb(e):e._u.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.mu.stop();case 6:kb(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.mu}function Qb(e){return e.gu||(e.gu=function(e,t,n){var r=kv(e);return r.tu(),new ib(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:Lb.bind(null,e),Jr:zb.bind(null,e),Yo:Fb.bind(null,e),Jo:Ub.bind(null,e)}),e.fu.push(function(){var t=Vn(jn().mark((function t(n){return jn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.gu.No(),t.next=4,Nb(e);case 4:t.next=9;break;case 6:return t.next=8,e.gu.stop();case 8:e.au.length>0&&(dv("RemoteStore","Stopping write stream with ".concat(e.au.length," pending writes")),e.au=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}var $b=function(){function e(t,n,r,i,a){St(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new xv,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Tt(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new wv(bv.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Xb(e,t){if(pv("AsyncQueue","".concat(t,": ").concat(e)),Yv(e))return new wv(bv.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Yb=function(){function e(t){St(this,e),this.comparator=t?function(e,n){return t(e,n)||Vv.comparator(e.key,n.key)}:function(e,t){return Vv.comparator(e.key,t.key)},this.keyedMap=sg(),this.sortedSet=new nm(this.comparator)}return Tt(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Jb=function(){function e(){St(this,e),this.yu=new nm(Vv.comparator)}return Tt(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):yv():this.yu=this.yu.insert(t,e)}},{key:"pu",value:function(){var e=[];return this.yu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Zb=function(){function e(t,n,r,i,a,o,u,s){St(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return Tt(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,Yb.emptySet(n),a,r,i,!0,!1)}}]),e}(),ew=Tt((function e(){St(this,e),this.Iu=void 0,this.listeners=[]})),tw=Tt((function e(){St(this,e),this.queries=new ig((function(e){return my(e)}),vy),this.onlineState="Unknown",this.Tu=new Set}));function nw(e,t){return rw.apply(this,arguments)}function rw(){return rw=Vn(jn().mark((function e(t,n){var r,i,a,o,u;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=kv(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new ew),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Iu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=Xb(e.t0,"Initialization of query '".concat(yy(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Eu(r.onlineState),o.Iu&&n.Au(o.Iu)&&sw(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),rw.apply(this,arguments)}function iw(e,t){return aw.apply(this,arguments)}function aw(){return aw=Vn(jn().mark((function e(t,n){var r,i,a,o,u;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=kv(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),aw.apply(this,arguments)}function ow(e,t){var n,r=kv(e),i=!1,a=zn(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=zn(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Au(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Iu=o}}}catch(f){a.e(f)}finally{a.f()}i&&sw(r)}function uw(e,t,n){var r=kv(e),i=r.queries.get(t);if(i){var a,o=zn(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function sw(e){e.Tu.forEach((function(e){e.next()}))}var cw=function(){function e(t,n,r){St(this,e),this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}return Tt(e,[{key:"Au",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=zn(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Zb(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),a=!0):this.Vu(e,this.onlineState)&&(this.Su(e),a=!0),this.Pu=e,a}},{key:"onError",value:function(e){this.Ru.error(e)}},{key:"Eu",value:function(e){this.onlineState=e;var t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}},{key:"Vu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Du||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Su",value:function(e){e=Zb.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}]),e}();var lw=Tt((function e(t){St(this,e),this.key=t})),fw=Tt((function e(t){St(this,e),this.key=t})),hw=function(){function e(t,n){St(this,e),this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=vg(),this.mutatedKeys=vg(),this.Lu=by(t),this.Uu=new Yb(this.Lu)}return Tt(e,[{key:"qu",get:function(){return this.Fu}},{key:"Ku",value:function(e,t){var n=this,r=t?t.Gu:new Jb,i=t?t.Uu:this.Uu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=gy(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Qu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Lu(f,s)>0||c&&n.Lu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Uu:o,Gu:r,Mi:u,mutatedKeys:a}}},{key:"Qu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;var a=e.Gu.pu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yv()}};return n(e)-n(t)}(e.type,t.type)||r.Lu(e.doc,t.doc)})),this.ju(n);var o=t?this.Wu():[],u=0===this.Bu.size&&this.current?1:0,s=u!==this.$u;return this.$u=u,0!==a.length||s?{snapshot:new Zb(this.query,e.Uu,i,a,e.mutatedKeys,0===u,s,!1),zu:o}:{zu:o}}},{key:"Eu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new Jb,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{zu:[]}}},{key:"Hu",value:function(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}},{key:"ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Fu=t.Fu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Fu=t.Fu.delete(e)})),this.current=e.current)}},{key:"Wu",value:function(){var e=this;if(!this.current)return[];var t=this.Bu;this.Bu=vg(),this.Uu.forEach((function(t){e.Hu(t.key)&&(e.Bu=e.Bu.add(t.key))}));var n=[];return t.forEach((function(t){e.Bu.has(t)||n.push(new fw(t))})),this.Bu.forEach((function(e){t.has(e)||n.push(new lw(e))})),n}},{key:"Ju",value:function(e){this.Fu=e.ji,this.Bu=vg();var t=this.Ku(e.documents);return this.applyChanges(t,!0)}},{key:"Yu",value:function(){return Zb.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}]),e}(),dw=Tt((function e(t,n,r){St(this,e),this.query=t,this.targetId=n,this.view=r})),pw=Tt((function e(t){St(this,e),this.key=t,this.Xu=!1})),vw=function(){function e(t,n,r,i,a,o){St(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new ig((function(e){return my(e)}),vy),this.ec=new Map,this.nc=new Set,this.sc=new nm(Vv.comparator),this.ic=new Map,this.rc=new wk,this.oc={},this.uc=new Map,this.cc=vk.Rn(),this.onlineState="Unknown",this.ac=void 0}return Tt(e,[{key:"isPrimaryClient",get:function(){return!0===this.ac}}]),e}();function mw(e,t){return yw.apply(this,arguments)}function yw(){return yw=Vn(jn().mark((function e(t,n){var r,i,a,o,u,s;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Kw(t),!(o=r.tc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Yu(),e.next=15;break;case 6:return e.next=8,zk(r.localStore,dy(n));case 8:return u=e.sent,r.isPrimaryClient&&hb(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,gw(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),yw.apply(this,arguments)}function gw(e,t,n,r){return kw.apply(this,arguments)}function kw(){return kw=Vn(jn().mark((function e(t,n,r,i){var a,o,u,s,c,l;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.hc=function(e,n,r){return function(){var e=Vn(jn().mark((function e(t,n,r,i){var a,o,u;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Ku(r),e.t0=a.Mi,!e.t0){e.next=6;break}return e.next=5,Hk(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Ku(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Fw(t,n.targetId,u.zu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Hk(t.localStore,n,!0);case 3:return a=e.sent,o=new hw(n,a.ji),u=o.Ku(a.documents),s=kg.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),Fw(t,r,c.zu),l=new dw(n,r,o),e.abrupt("return",(t.tc.set(n,l),t.ec.has(r)?t.ec.get(r).push(n):t.ec.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),kw.apply(this,arguments)}function bw(e,t){return ww.apply(this,arguments)}function ww(){return ww=Vn(jn().mark((function e(t,n){var r,i,a;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=kv(t),i=r.tc.get(n),!((a=r.ec.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ec.set(i.targetId,a.filter((function(e){return!vy(e,n)}))),void r.tc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Bk(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),db(r.remoteStore,i.targetId),Lw(r,i.targetId)})).catch(Qv);case 9:e.next=14;break;case 11:return Lw(r,i.targetId),e.next=14,Bk(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),ww.apply(this,arguments)}function xw(e,t,n){return Ew.apply(this,arguments)}function Ew(){return Ew=Vn(jn().mark((function e(t,n,r){var i,a,o;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ww(t),e.prev=1,e.next=4,function(e,t){var n,r,i=kv(e),a=Rv.now(),o=t.reduce((function(e,t){return e.add(t.key)}),vg());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=og(),s=vg();return i.Ui.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=zn(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Hy(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new Gy(c.key,l,jm(l.value.mapValue),jy.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:cg(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.oc[e.currentUser.toKey()];r||(r=new nm(Dv)),r=r.insert(t,n),e.oc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Vw(i,a.changes);case 9:return e.next=11,Nb(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Xb(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Ew.apply(this,arguments)}function Sw(e,t){return Iw.apply(this,arguments)}function Iw(){return Iw=Vn(jn().mark((function e(t,n){var r,i;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=kv(t),e.prev=1,e.next=4,jk(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ic.get(t);n&&(gv(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Xu=!0:e.modifiedDocuments.size>0?gv(n.Xu):e.removedDocuments.size>0&&(gv(n.Xu),n.Xu=!1))})),e.next=8,Vw(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Qv(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Iw.apply(this,arguments)}function Tw(e,t,n){var r=kv(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.tc.forEach((function(e,n){var r=n.view.Eu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=kv(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=zn(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Eu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&sw(n)}(r.eventManager,t),i.length&&r.Zu.Go(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function _w(e,t,n){return Cw.apply(this,arguments)}function Cw(){return Cw=Vn(jn().mark((function e(t,n,r){var i,a,o,u,s,c;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=kv(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ic.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new nm(Vv.comparator)).insert(o,Um.newNoDocument(o,Lv.min())),s=vg().add(o),c=new gg(Lv.min(),new Map,new am(Dv),u,s),e.next=9,Sw(i,c);case 9:i.sc=i.sc.remove(o),i.ic.delete(n),Uw(i),e.next=16;break;case 14:return e.next=16,Bk(i.localStore,n,!1).then((function(){return Lw(i,n,r)})).catch(Qv);case 16:case"end":return e.stop()}}),e)}))),Cw.apply(this,arguments)}function Nw(e,t){return Aw.apply(this,arguments)}function Aw(){return Aw=Vn(jn().mark((function e(t,n){var r,i,a;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=kv(t),i=n.batch.batchId,e.prev=1,e.next=4,Mk(r.localStore,n);case 4:return a=e.sent,Rw(r,i,null),Pw(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Vw(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Qv(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Aw.apply(this,arguments)}function Ow(e,t,n){return Dw.apply(this,arguments)}function Dw(){return Dw=Vn(jn().mark((function e(t,n,r){var i,a;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=kv(t),e.prev=1,e.next=4,function(e,t){var n=kv(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return gv(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Rw(i,n,r),Pw(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Vw(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Qv(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Dw.apply(this,arguments)}function Pw(e,t){(e.uc.get(t)||[]).forEach((function(e){e.resolve()})),e.uc.delete(t)}function Rw(e,t,n){var r=kv(e),i=r.oc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.oc[r.currentUser.toKey()]=i}}function Lw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=zn(e.ec.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.tc.delete(a),n&&e.Zu.lc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ec.delete(t),e.isPrimaryClient&&e.rc.us(t).forEach((function(t){e.rc.containsKey(t)||Mw(e,t)}))}function Mw(e,t){e.nc.delete(t.path.canonicalString());var n=e.sc.get(t);null!==n&&(db(e.remoteStore,n),e.sc=e.sc.remove(t),e.ic.delete(n),Uw(e))}function Fw(e,t,n){var r,i=zn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof lw?(e.rc.addReference(a.key,t),jw(e,a)):a instanceof fw?(dv("SyncEngine","Document no longer in limbo: "+a.key),e.rc.removeReference(a.key,t),e.rc.containsKey(a.key)||Mw(e,a.key)):yv()}}catch(o){i.e(o)}finally{i.f()}}function jw(e,t){var n=t.key,r=n.path.canonicalString();e.sc.get(n)||e.nc.has(r)||(dv("SyncEngine","New document in limbo: "+n),e.nc.add(r),Uw(e))}function Uw(e){for(;e.nc.size>0&&e.sc.size<e.maxConcurrentLimboResolutions;){var t=e.nc.values().next().value;e.nc.delete(t);var n=new Vv(Fv.fromString(t)),r=e.cc.next();e.ic.set(r,new pw(n)),e.sc=e.sc.insert(n,r),hb(e.remoteStore,new sk(dy(uy(n.path)),r,2,Jv.ot))}}function Vw(e,t,n){return zw.apply(this,arguments)}function zw(){return zw=Vn(jn().mark((function e(t,n,r){var i,a,o,u;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=kv(t),a=[],o=[],u=[],e.t0=i.tc.isEmpty(),e.t0){e.next=9;break}return i.tc.forEach((function(e,t){u.push(i.hc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Ak.Vi(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Zu.Go(a),e.next=9,function(){var e=Vn(jn().mark((function e(t,n){var r,i,a,o,u,s,c,l;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=kv(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Xv.forEach(n,(function(t){return Xv.forEach(t.Pi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Xv.forEach(t.vi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Yv(e.t0)){e.next=10;break}throw e.t0;case 10:dv("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=zn(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.$i.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.$i=r.$i.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),zw.apply(this,arguments)}function Bw(e,t){return qw.apply(this,arguments)}function qw(){return qw=Vn(jn().mark((function e(t,n){var r,i;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=kv(t)).currentUser.isEqual(n)){e.next=11;break}return dv("SyncEngine","User change. New user:",n.toKey()),e.next=5,Rk(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.uc.forEach((function(e){e.forEach((function(e){e.reject(new wv(bv.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.uc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Vw(r,i.Ki);case 11:case"end":return e.stop()}}),e)}))),qw.apply(this,arguments)}function Hw(e,t){var n=kv(e),r=n.ic.get(t);if(r&&r.Xu)return vg().add(r.key);var i=vg(),a=n.ec.get(t);if(!a)return i;var o,u=zn(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.tc.get(s);i=i.unionWith(c.view.qu)}}catch(l){u.e(l)}finally{u.f()}return i}function Kw(e){var t=kv(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Sw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Hw.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=_w.bind(null,t),t.Zu.Go=ow.bind(null,t.eventManager),t.Zu.lc=uw.bind(null,t.eventManager),t}function Ww(e){var t=kv(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Nw.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ow.bind(null,t),t}var Gw=function(){function e(){St(this,e),this.synchronizeTabs=!1}return Tt(e,[{key:"initialize",value:function(){var e=Vn(jn().mark((function e(t){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.wt=eb(t.databaseInfo.databaseId),this.sharedClientState=this.dc(t),this.persistence=this._c(t),e.next=5,this.persistence.start();case 5:this.localStore=this.wc(t),this.gcScheduler=this.mc(t,this.localStore),this.indexBackfillerScheduler=this.gc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mc",value:function(e,t){return null}},{key:"gc",value:function(e,t){return null}},{key:"wc",value:function(e){return Pk(this.persistence,new Ok,e.initialUser,this.wt)}},{key:"_c",value:function(e){return new _k(Nk.Os,this.wt)}},{key:"dc",value:function(e){return new Gk}},{key:"terminate",value:function(){var e=Vn(jn().mark((function e(){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Qw=function(){function e(){St(this,e)}return Tt(e,[{key:"initialize",value:function(){var e=Vn(jn().mark((function e(t,n){var r=this;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Tw(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Bw.bind(null,this.syncEngine),e.next=12,Kb(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new tw}},{key:"createDatastore",value:function(e){var t,n=eb(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Jk(t));return function(e,t,n,r){return new ab(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Tw(o.syncEngine,e,0)},a=$k.V()?new $k:new Qk,new ub(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new vw(e,t,n,r,i,a);return o&&(u.ac=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Vn(jn().mark((function e(t){var n;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=kv(t),dv("RemoteStore","RemoteStore shutting down."),n.lu.add(5),e.next=5,lb(n);case 5:n.du.shutdown(),n._u.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();var $w=function(){function e(t){St(this,e),this.observer=t,this.muted=!1}return Tt(e,[{key:"next",value:function(e){this.observer.next&&this.Ic(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ic(this.observer.error,e):pv("Uncaught Error in snapshot listener:",e)}},{key:"Tc",value:function(){this.muted=!0}},{key:"Ic",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Xw=function(){function e(t,n,r,i){var a=this;St(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=cv.UNAUTHENTICATED,this.clientId=Ov.I(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Vn(jn().mark((function e(t){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return dv("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return dv("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Tt(e,[{key:"getConfiguration",value:function(){var e=Vn(jn().mark((function e(){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new wv(bv.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new xv;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Vn(jn().mark((function n(){var r;return jn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Xb(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Yw(e,t){return Jw.apply(this,arguments)}function Jw(){return Jw=Vn(jn().mark((function e(t,n){var r,i;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),dv("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Vn(jn().mark((function e(t){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Rk(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Jw.apply(this,arguments)}function Zw(e,t){return ex.apply(this,arguments)}function ex(){return ex=Vn(jn().mark((function e(t,n){var r,i;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,tx(t);case 3:return r=e.sent,dv("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return qb(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return qb(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),ex.apply(this,arguments)}function tx(e){return nx.apply(this,arguments)}function nx(){return nx=Vn(jn().mark((function e(t){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return dv("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,Yw(t,new Gw);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),nx.apply(this,arguments)}function rx(e){return ix.apply(this,arguments)}function ix(){return ix=Vn(jn().mark((function e(t){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return dv("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,Zw(t,new Qw);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),ix.apply(this,arguments)}function ax(e){return rx(e).then((function(e){return e.syncEngine}))}function ox(e){return ux.apply(this,arguments)}function ux(){return ux=Vn(jn().mark((function e(t){var n,r;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rx(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=mw.bind(null,n.syncEngine),r.onUnlisten=bw.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),ux.apply(this,arguments)}function sx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new xv;return e.asyncQueue.enqueueAndForget(Vn(jn().mark((function i(){return jn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new $w({next:function(a){t.enqueueAndForget((function(){return iw(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new wv(bv.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new wv(bv.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new cw(uy(n.path),a,{includeMetadataChanges:!0,Du:!0});return nw(e,o)},i.next=3,ox(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function cx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new xv;return e.asyncQueue.enqueueAndForget(Vn(jn().mark((function i(){return jn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new $w({next:function(n){t.enqueueAndForget((function(){return iw(e,o)})),n.fromCache&&"server"===r.source?i.reject(new wv(bv.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new cw(n,a,{includeMetadataChanges:!0,Du:!0});return nw(e,o)},i.next=3,ox(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var lx=new Map;function fx(e,t,n){if(!n)throw new wv(bv.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function hx(e){if(!Vv.isDocumentKey(e))throw new wv(bv.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function dx(e){if(Vv.isDocumentKey(e))throw new wv(bv.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function px(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":yv()}function vx(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new wv(bv.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=px(e);throw new wv(bv.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var mx=function(){function e(t){var n;if(St(this,e),void 0===t.host){if(void 0!==t.ssl)throw new wv(bv.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new wv(bv.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new wv(bv.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Tt(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),yx=function(){function e(t,n,r){St(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mx({}),this._settingsFrozen=!1,t instanceof ym?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new wv(bv.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ym(e.options.projectId)}(t))}return Tt(e,[{key:"app",get:function(){if(!this._app)throw new wv(bv.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new wv(bv.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mx(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Sv;switch(e.type){case"gapi":var t=e.client;return gv(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new _v(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new wv(bv.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=lx.get(e);t&&(dv("ComponentProvider","Removing Datastore"),lx.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();var gx=function(){function e(t,n,r){St(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Tt(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new bx(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),kx=function(){function e(t,n,r){St(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Tt(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),bx=function(e){pn(n,e);var t=kn(n);function n(e,r,i){var a;return St(this,n),(a=t.call(this,e,r,uy(i)))._path=i,a.type="collection",a}return Tt(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new gx(this.firestore,null,new Vv(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(kx);function wx(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=vr(e),fx("collection","path",t),e instanceof yx){var a=Fv.fromString.apply(Fv,[t].concat(r));return dx(a),new bx(e,null,a)}if(!(e instanceof gx||e instanceof bx))throw new wv(bv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Fv.fromString.apply(Fv,[t].concat(r)));return dx(o),new bx(e.firestore,null,o)}function xx(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=vr(e),1===arguments.length&&(t=Ov.I()),fx("doc","path",t),e instanceof yx){var a=Fv.fromString.apply(Fv,[t].concat(r));return hx(a),new gx(e,null,new Vv(a))}if(!(e instanceof gx||e instanceof bx))throw new wv(bv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Fv.fromString.apply(Fv,[t].concat(r)));return hx(o),new gx(e.firestore,e instanceof bx?e.converter:null,new Vv(o))}var Ex=function(){function e(){var t=this;St(this,e),this.Mc=Promise.resolve(),this.Oc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new tb(this,"async_queue_retry"),this.Kc=function(){var e=Zk();e&&dv("AsyncQueue","Visibility state changed to "+e.visibilityState),t.So.Eo()};var n=Zk();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Kc)}return Tt(e,[{key:"isShuttingDown",get:function(){return this.Fc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Gc(),this.Qc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;var t=Zk();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Gc(),this.Fc)return new Promise((function(){}));var n=new xv;return this.Qc((function(){return t.Fc&&t.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Oc.push(e),t.jc()}))}},{key:"jc",value:function(){var e=Vn(jn().mark((function e(){var t=this;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Oc.length){e.next=14;break}return e.prev=1,e.next=4,this.Oc[0]();case 4:this.Oc.shift(),this.So.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Yv(e.t0)){e.next=12;break}throw e.t0;case 12:dv("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Oc.length>0&&this.So.Io((function(){return t.jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Qc",value:function(e){var t=this,n=this.Mc.then((function(){return t.Lc=!0,e().catch((function(e){t.Bc=e,t.Lc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw pv("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Lc=!1,e}))}));return this.Mc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Gc(),this.qc.indexOf(e)>-1&&(t=0);var i=$b.createAndSchedule(this,e,t,n,(function(e){return r.Wc(e)}));return this.$c.push(i),i}},{key:"Gc",value:function(){this.Bc&&yv()}},{key:"verifyOperationInProgress",value:function(){}},{key:"zc",value:function(){var e=Vn(jn().mark((function e(){var t;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Mc,e.next=3,t;case 3:if(t!==this.Mc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t,n=zn(this.$c);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Jc",value:function(e){var t=this;return this.zc().then((function(){t.$c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=zn(t.$c);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.zc()}))}},{key:"Yc",value:function(e){this.qc.push(e)}},{key:"Wc",value:function(e){var t=this.$c.indexOf(e);this.$c.splice(t,1)}}]),e}();var Sx=function(e){pn(n,e);var t=kn(n);function n(e,r,i){var a;return St(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new Ex,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return Tt(n,[{key:"_terminate",value:function(){return this._firestoreClient||Tx(this),this._firestoreClient.terminate()}}]),n}(yx);function Ix(e){return e._firestoreClient||Tx(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Tx(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new mm(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Xw(e._authCredentials,e._appCheckCredentials,e._queue,r)}var _x=function(){function e(){St(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new wv(bv.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Uv(n)}return Tt(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var Cx=function(){function e(t){St(this,e),this._byteString=t}return Tt(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(sm.fromBase64String(t))}catch(t){throw new wv(bv.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(sm.fromUint8Array(t))}}]),e}(),Nx=Tt((function e(t){St(this,e),this._methodName=t})),Ax=function(){function e(t,n){if(St(this,e),!isFinite(t)||t<-90||t>90)throw new wv(bv.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new wv(bv.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Tt(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Dv(this._lat,e._lat)||Dv(this._long,e._long)}}]),e}(),Ox=/^__.*__$/,Dx=function(){function e(t,n,r){St(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Tt(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Gy(e,this.data,this.fieldMask,t,this.fieldTransforms):new Wy(e,this.data,t,this.fieldTransforms)}}]),e}();function Px(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yv()}}var Rx=function(){function e(t,n,r,i,a,o){St(this,e),this.settings=t,this.databaseId=n,this.wt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Xc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Tt(e,[{key:"path",get:function(){return this.settings.path}},{key:"Zc",get:function(){return this.settings.Zc}},{key:"ta",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ea",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.sa(e),r}},{key:"ia",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.Xc(),r}},{key:"ra",value:function(e){return this.ta({path:void 0,na:!0})}},{key:"oa",value:function(e){return Wx(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.sa(this.path.get(e))}},{key:"sa",value:function(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(Px(this.Zc)&&Ox.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}]),e}(),Lx=function(){function e(t,n,r){St(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.wt=r||eb(t)}return Tt(e,[{key:"aa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Rx({Zc:e,methodName:t,ca:n,path:Uv.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}]),e}();function Mx(e){var t=e._freezeSettings(),n=eb(e._databaseId);return new Lx(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Fx(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.aa(a.merge||a.mergeFields?2:0,t,n,i);Bx("Data must be an object, but it was:",o,r);var u,s,c=Vx(r,o);if(a.merge)u=new um(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=zn(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=qx(t,d,n);if(!o.contains(p))throw new wv(bv.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));Gx(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new um(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new Dx(new Fm(c),u,s)}function jx(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Ux(n,e.aa(r?4:3,t))}function Ux(e,t){if(zx(e=vr(e)))return Bx("Unsupported field value:",t,e),Vx(e,t);if(e instanceof Nx)return function(e,t){if(!Px(t.Zc))throw t.oa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.oa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=zn(e);try{for(a.s();!(n=a.n()).done;){var o=Ux(n.value,t.ra(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=vr(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Sy(t.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Rv.fromDate(e);return{timestampValue:Ag(t.wt,n)}}if(e instanceof Rv){var r=new Rv(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ag(t.wt,r)}}if(e instanceof Ax)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Cx)return{bytesValue:Og(t.wt,e._byteString)};if(e instanceof gx){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.oa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Rg(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.oa("Unsupported field value: ".concat(px(e)))}(e,t)}function Vx(e,t){var n={};return tm(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):em(e,(function(e,r){var i=Ux(r,t.ea(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function zx(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Rv||e instanceof Ax||e instanceof Cx||e instanceof gx||e instanceof Nx)}function Bx(e,t,n){if(!zx(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=px(n);throw"an object"===r?t.oa(e+" a custom object"):t.oa(e+" "+r)}}function qx(e,t,n){if((t=vr(t))instanceof _x)return t._internalPath;if("string"==typeof t)return Kx(e,t);throw Wx("Field path arguments must be of type string or ",e,!1,void 0,n)}var Hx=new RegExp("[~\\*/\\[\\]]");function Kx(e,t,n){if(t.search(Hx)>=0)throw Wx("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Bn(_x,Et(t.split(".")))._internalPath}catch(r){throw Wx("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Wx(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new wv(bv.INVALID_ARGUMENT,u+e+s)}function Gx(e,t){return e.some((function(e){return e.isEqual(t)}))}var Qx=function(){function e(t,n,r,i,a){St(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Tt(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new gx(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new $x(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Xx("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),$x=function(e){pn(n,e);var t=kn(n);function n(){return St(this,n),t.apply(this,arguments)}return Tt(n,[{key:"data",value:function(){return dn(fn(n.prototype),"data",this).call(this)}}]),n}(Qx);function Xx(e,t){return"string"==typeof t?Kx(e,t):t instanceof _x?t._internalPath:t._delegate._internalPath}var Yx=function(){function e(t,n){St(this,e),this.hasPendingWrites=t,this.fromCache=n}return Tt(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Jx=function(e){pn(n,e);var t=kn(n);function n(e,r,i,a,o,u){var s;return St(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Tt(n,[{key:"exists",value:function(){return dn(fn(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Zx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Xx("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Qx),Zx=function(e){pn(n,e);var t=kn(n);function n(){return St(this,n),t.apply(this,arguments)}return Tt(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return dn(fn(n.prototype),"data",this).call(this,e)}}]),n}(Jx),eE=function(){function e(t,n,r,i){St(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Yx(i.hasPendingWrites,i.fromCache),this.query=r}return Tt(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Zx(n._firestore,n._userDataWriter,r.key,r,new Yx(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new wv(bv.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new Zx(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Yx(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Zx(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Yx(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:tE(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function tE(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yv()}}function nE(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new wv(bv.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var rE=Tt((function e(){St(this,e)}));function iE(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var aE=function(e){pn(n,e);var t=kn(n);function n(e,r,i){var a;return St(this,n),(a=t.call(this)).fa=e,a.da=r,a._a=i,a.type="where",a}return Tt(n,[{key:"_apply",value:function(e){var t=Mx(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new wv(bv.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){sE(o,a);var s,c=[],l=zn(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(uE(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=uE(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||sE(o,a),u=jx(n,"where",o,"in"===a||"not-in"===a);var h=Km.create(i,a,u);return function(e,t){if(t.ht()){var n=ly(e);if(null!==n&&!n.isEqual(t.field))throw new wv(bv.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=cy(e);null!==r&&cE(e,t.field,r)}var i=function(e,t){var n,r=zn(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new wv(bv.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new wv(bv.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new kx(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new ay(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(rE);function oE(e,t,n){var r=t,i=Xx("where",e);return new aE(i,r,n)}function uE(e,t,n){if("string"==typeof(n=vr(n))){if(""===n)throw new wv(bv.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fy(t)&&-1!==n.indexOf("/"))throw new wv(bv.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Fv.fromString(n));if(!Vv.isDocumentKey(r))throw new wv(bv.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Nm(e,new Vv(r))}if(n instanceof gx)return Nm(e,n._key);throw new wv(bv.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(px(n),"."))}function sE(e,t){if(!Array.isArray(e)||0===e.length)throw new wv(bv.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new wv(bv.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function cE(e,t,n){if(!n.isEqual(t))throw new wv(bv.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var lE=function(){function e(){St(this,e)}return Tt(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(xm(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fm(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(hm(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw yv()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return em(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new Ax(fm(e.latitude),fm(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=pm(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(vm(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=lm(e);return new Rv(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Fv.fromString(e);gv(tk(n));var r=new ym(n.get(1),n.get(3)),i=new Vv(n.popFirst(5));return r.isEqual(t)||pv("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function fE(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}function hE(e){e=vx(e,gx);var t=vx(e.firestore,Sx);return sx(Ix(t),e._key).then((function(n){return gE(t,e,n)}))}var dE=function(e){pn(n,e);var t=kn(n);function n(e){var r;return St(this,n),(r=t.call(this)).firestore=e,r}return Tt(n,[{key:"convertBytes",value:function(e){return new Cx(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new gx(this.firestore,null,t)}}]),n}(lE);function pE(e){e=vx(e,kx);var t=vx(e.firestore,Sx),n=Ix(t),r=new dE(t);return nE(e._query),cx(n,e._query).then((function(n){return new eE(t,r,e,n)}))}function vE(e,t,n){e=vx(e,gx);var r=vx(e.firestore,Sx),i=fE(e.converter,t,n);return yE(r,[Fx(Mx(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,jy.none())])}function mE(e,t){var n=vx(e.firestore,Sx),r=xx(e),i=fE(e.converter,t);return yE(n,[Fx(Mx(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,jy.exists(!1))]).then((function(){return r}))}function yE(e,t){return function(e,t){var n=new xv;return e.asyncQueue.enqueueAndForget(Vn(jn().mark((function r(){return jn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=xw,r.next=3,ax(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Ix(e),t)}function gE(e,t,n){var r=n.docs.get(t._key),i=new dE(e);return new Jx(e,i,t._key,r,new Yx(n.hasPendingWrites,n.fromCache),t.converter)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];lv="9.9.3",ti(new mr("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new Sx(i,new Iv(e.getProvider("auth-internal")),new Nv(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),si(sv,"3.4.14",e),si(sv,"3.4.14","esm2017")}();var kE=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Xr,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw ii.create("bad-app-name",{appName:String(i)});var a=Jr.get(i);if(a){if(or(e,a.options)&&or(r,a.config))return a;throw ii.create("duplicate-app",{appName:i})}var o,u=new wr(i),s=zn(Zr.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new ai(e,r,u);return Jr.set(i,l),l}({apiKey:"AIzaSyAqVEtEypSJfyHb1b_roNx7ogkzXfL8dR8",authDomain:"tooksocial.firebaseapp.com",projectId:"tooksocial",storageBucket:"tooksocial.appspot.com",messagingSenderId:"844798984566",appId:"1:844798984566:web:56a748613ff44a2777fa57",measurementId:"G-E3R56PVYMS"}),bE=(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ui(),t=ni(e=vr(e),to);t.isInitialized()?t.getImmediate():Qo(e)}(kE),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ui(),t=ni(e,"auth");return t.isInitialized()?t.getImmediate():vu(e,{popupRedirectResolver:zl,persistence:[Fc,hc,pc]})}(kE)),wE=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ui();return ni(e,"firestore").getImmediate()}(kE),xE=(wx(wE,"users"),new $s);function EE(){return(EE=Vn(jn().mark((function e(){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Zc(bE,xE).then((function(e){console.log(e);var t=e.user;hE(xx(wE,"users",t.uid)).then((function(e){e.exists()||SE(t)})),console.log("User not found. Adding user to users collection")})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function SE(e){vE(xx(wE,"users",e.uid),{uid:e.uid,displayName:e.displayName,email:e.email,photoURL:e.photoURL,createdAt:new Date,follows:[]})}function IE(){return TE.apply(this,arguments)}function TE(){return(TE=Vn(jn().mark((function e(){var t,n,r,i,o;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hE(xx(wE,"users",bE.currentUser.uid));case 2:return t=e.sent,n=t.data().follows,r=iE(wx(wE,"posts"),oE("posted_by","in",n)),e.next=7,pE(r);case 7:return i=e.sent,o=i.docs.map((function(e){return a(a({},e.data()),{},{uid:e.id})})),e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _E(e){return CE.apply(this,arguments)}function CE(){return(CE=Vn(jn().mark((function e(t){var n;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hE(xx(wE,"posts",t));case 2:return n=e.sent,e.abrupt("return",n.data());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function NE(e){return AE.apply(this,arguments)}function AE(){return(AE=Vn(jn().mark((function e(t){var n,r,i,o,u;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hE(xx(wE,"posts",t));case 2:n=e.sent,r=n.data(),i=r.likes,o=bE.currentUser.uid,i.includes(o)?(u=i.indexOf(o),i.splice(u,1)):i.push(o),vE(xx(wE,"posts",t),a(a({},r),{},{likes:i}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function OE(e){return DE.apply(this,arguments)}function DE(){return(DE=Vn(jn().mark((function e(t){var n,r;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=bE.currentUser.uid,r={text:t,posted_by:n,createdAt:new Date,likes:[]},mE(wx(wE,"posts"),r),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function PE(){return(PE=Vn(jn().mark((function e(t){var n;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hE(xx(wE,"users",t));case 2:return n=e.sent,e.abrupt("return",n.data().displayName);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function RE(){return(RE=Vn(jn().mark((function e(){var t,n,r;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=iE(wx(wE,"users"),oE("follows","array-contains",bE.currentUser.uid)),e.next=3,pE(t);case 3:return n=e.sent,r=n.docs.map((function(e){return e.id})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var LE,ME=function(e){return(0,l.jsx)(Fn,{bg:"warning",expand:"lg",children:(0,l.jsxs)(m,{children:[(0,l.jsx)(Fn.Brand,{href:"#home",children:"Took Social"}),(0,l.jsx)(Fn.Toggle,{"aria-controls":"basic-navbar-nav"}),(0,l.jsx)(Fn.Collapse,{id:"basic-navbar-nav",children:(0,l.jsxs)(ye,{className:"me-auto",children:[(0,l.jsx)(ye.Link,{href:"https://github.com/RiccardoZuninoJ",children:"View this on GitHub"}),(0,l.jsx)(ye.Link,{onClick:function(){return bE.signOut()},children:"Logout"})]})})]})})};!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(LE||(LE={}));var FE=function(e){return e};var jE="beforeunload",UE="popstate";function VE(e){e.preventDefault(),e.returnValue=""}function zE(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function BE(){return Math.random().toString(36).substr(2,8)}function qE(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function HE(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var KE=(0,e.createContext)(null);var WE=(0,e.createContext)(null);var GE=(0,e.createContext)({outlet:null,matches:[]});function QE(e,t){if(!e)throw new Error(t)}function $E(e,t,n){void 0===n&&(n="/");var r=nS(("string"===typeof t?HE(t):t).pathname||"/",n);if(null==r)return null;var i=XE(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=eS(i[o],r);return a}function XE(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||QE(!1),a.relativePath=a.relativePath.slice(r.length));var o=rS([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&QE(!1),XE(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:ZE(o,e.index),routesMeta:u})})),t}var YE=/^:\w+$/,JE=function(e){return"*"===e};function ZE(e,t){var n=e.split("/"),r=n.length;return n.some(JE)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!JE(e)})).reduce((function(e,t){return e+(YE.test(t)?3:""===t?1:10)}),r)}function eS(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=tS({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:rS([i,l.pathname]),pathnameBase:iS(rS([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=rS([i,l.pathnameBase]))}return a}function tS(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=M(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(c[n]||""),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function nS(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var rS=function(e){return e.join("/").replace(/\/\/+/g,"/")},iS=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")};function aS(){return null!=(0,e.useContext)(WE)}function oS(){return aS()||QE(!1),(0,e.useContext)(WE).location}function uS(t,n){return void 0===n&&(n=[]),null==t?null:t.reduceRight((function(r,i,a){return(0,e.createElement)(GE.Provider,{children:void 0!==i.route.element?i.route.element:r,value:{outlet:r,matches:n.concat(t.slice(0,a+1))}})}),null)}function sS(e){QE(!1)}function cS(t){var n=t.basename,r=void 0===n?"/":n,i=t.children,a=void 0===i?null:i,o=t.location,u=t.navigationType,s=void 0===u?LE.Pop:u,c=t.navigator,l=t.static,f=void 0!==l&&l;aS()&&QE(!1);var h=iS(r),d=(0,e.useMemo)((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof o&&(o=HE(o));var p=o,v=p.pathname,m=void 0===v?"/":v,y=p.search,g=void 0===y?"":y,k=p.hash,b=void 0===k?"":k,w=p.state,x=void 0===w?null:w,E=p.key,S=void 0===E?"default":E,I=(0,e.useMemo)((function(){var e=nS(m,h);return null==e?null:{pathname:e,search:g,hash:b,state:x,key:S}}),[h,m,g,b,x,S]);return null==I?null:(0,e.createElement)(KE.Provider,{value:d},(0,e.createElement)(WE.Provider,{children:a,value:{location:I,navigationType:s}}))}function lS(t){var n=t.children,r=t.location;return function(t,n){aS()||QE(!1);var r,i=(0,e.useContext)(GE).matches,a=i[i.length-1],o=a?a.params:{},u=(a&&a.pathname,a?a.pathnameBase:"/"),s=(a&&a.route,oS());if(n){var c,l="string"===typeof n?HE(n):n;"/"===u||(null==(c=l.pathname)?void 0:c.startsWith(u))||QE(!1),r=l}else r=s;var f=r.pathname||"/",h=$E(t,{pathname:"/"===u?f:f.slice(u.length)||"/"});return uS(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:rS([u,e.pathname]),pathnameBase:"/"===e.pathnameBase?u:rS([u,e.pathnameBase])})})),i)}(fS(n),r)}function fS(t){var n=[];return e.Children.forEach(t,(function(t){if((0,e.isValidElement)(t))if(t.type!==e.Fragment){t.type!==sS&&QE(!1);var r={caseSensitive:t.props.caseSensitive,element:t.props.element,index:t.props.index,path:t.props.path};t.props.children&&(r.children=fS(t.props.children)),n.push(r)}else n.push.apply(n,fS(t.props.children))})),n}function hS(t){var n=t.basename,r=t.children,i=t.window,a=(0,e.useRef)();null==a.current&&(a.current=function(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,r=n.history;function i(){var e=n.location,t=e.pathname,i=e.search,a=e.hash,o=r.state||{};return[o.idx,FE({pathname:t,search:i,hash:a,state:o.usr||null,key:o.key||"default"})]}var a=null;n.addEventListener(UE,(function(){if(a)f.call(a),a=null;else{var e=LE.Pop,t=i(),n=t[0],r=t[1];if(f.length){if(null!=n){var o=s-n;o&&(a={action:e,location:r,retry:function(){g(-1*o)}},g(o))}}else m(e)}}));var o=LE.Pop,u=i(),s=u[0],c=u[1],l=zE(),f=zE();function h(e){return"string"===typeof e?e:qE(e)}function d(e,t){return void 0===t&&(t=null),FE(y({pathname:c.pathname,hash:"",search:""},"string"===typeof e?HE(e):e,{state:t,key:BE()}))}function p(e,t){return[{usr:e.state,key:e.key,idx:t},h(e)]}function v(e,t,n){return!f.length||(f.call({action:e,location:t,retry:n}),!1)}function m(e){o=e;var t=i();s=t[0],c=t[1],l.call({action:o,location:c})}function g(e){r.go(e)}null==s&&(s=0,r.replaceState(y({},r.state,{idx:s}),""));var k={get action(){return o},get location(){return c},createHref:h,push:function e(t,i){var a=LE.Push,o=d(t,i);if(v(a,o,(function(){e(t,i)}))){var u=p(o,s+1),c=u[0],l=u[1];try{r.pushState(c,"",l)}catch(f){n.location.assign(l)}m(a)}},replace:function e(t,n){var i=LE.Replace,a=d(t,n);if(v(i,a,(function(){e(t,n)}))){var o=p(a,s),u=o[0],c=o[1];r.replaceState(u,"",c),m(i)}},go:g,back:function(){g(-1)},forward:function(){g(1)},listen:function(e){return l.push(e)},block:function(e){var t=f.push(e);return 1===f.length&&n.addEventListener(jE,VE),function(){t(),f.length||n.removeEventListener(jE,VE)}}};return k}({window:i}));var o=a.current,u=M((0,e.useState)({action:o.action,location:o.location}),2),s=u[0],c=u[1];return(0,e.useLayoutEffect)((function(){return o.listen(c)}),[o]),(0,e.createElement)(cS,{basename:n,children:r,location:s.location,navigationType:s.action,navigator:o})}var dS=["bsPrefix","className","variant","as"],pS=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.variant,o=e.as,s=void 0===o?"img":o,f=u(e,dS),h=d(n,"card-img");return(0,l.jsx)(s,a({ref:t,className:c()(i?"".concat(h,"-").concat(i):h,r)},f))}));pS.displayName="CardImg";var vS=pS,mS=["bsPrefix","className","as"],yS=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,o=t.as,s=void 0===o?"div":o,f=u(t,mS),h=d(r,"card-header"),p=(0,e.useMemo)((function(){return{cardHeaderBsPrefix:h}}),[h]);return(0,l.jsx)(te.Provider,{value:p,children:(0,l.jsx)(s,a(a({ref:n},f),{},{className:c()(i,h)}))})}));yS.displayName="CardHeader";var gS=yS,kS=["bsPrefix","className","bg","text","border","body","children","as"],bS=cn("h5"),wS=cn("h6"),xS=ae("card-body"),ES=ae("card-title",{Component:bS}),SS=ae("card-subtitle",{Component:wS}),IS=ae("card-link",{Component:"a"}),TS=ae("card-text",{Component:"p"}),_S=ae("card-footer"),CS=ae("card-img-overlay"),NS=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.bg,o=e.text,s=e.border,f=e.body,h=e.children,p=e.as,v=void 0===p?"div":p,m=u(e,kS),y=d(n,"card");return(0,l.jsx)(v,a(a({ref:t},m),{},{className:c()(r,y,i&&"bg-".concat(i),o&&"text-".concat(o),s&&"border-".concat(s)),children:f?(0,l.jsx)(xS,{children:h}):h}))}));NS.displayName="Card",NS.defaultProps={body:!1};var AS=Object.assign(NS,{Img:vS,Title:ES,Subtitle:SS,Body:xS,Link:IS,Text:TS,Header:gS,Footer:_S,ImgOverlay:CS}),OS=["as","bsPrefix","variant","size","active","className"],DS=e.forwardRef((function(e,t){var n=e.as,r=e.bsPrefix,i=e.variant,o=e.size,s=e.active,f=e.className,h=u(e,OS),p=d(r,"btn"),v=M(V(a({tagName:n},h)),2),m=v[0],y=v[1].tagName;return(0,l.jsx)(y,a(a(a({},m),h),{},{ref:t,className:c()(f,p,s&&"active",i&&"".concat(p,"-").concat(i),o&&"".concat(p,"-").concat(o),h.href&&h.disabled&&"disabled")}))}));DS.displayName="Button",DS.defaultProps={variant:"primary",active:!1,disabled:!1};var PS=DS;function RS(){return bE.onAuthStateChanged((function(e){e?(console.log(e),window.location.href="/home"):console.log("User not logged in")})),(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(AS,{className:"mx-auto col-sm-5 mt-4",children:(0,l.jsxs)(AS.Body,{children:[(0,l.jsx)(AS.Title,{children:"Log in"}),(0,l.jsxs)(AS.Text,{children:[(0,l.jsx)("p",{children:"TookSocial is a simple Social Network made with Firebase and React."}),(0,l.jsx)(PS,{onClick:function(){!function(){EE.apply(this,arguments)}()},className:"mb-4",children:"Log in using Google"}),(0,l.jsx)("br",{}),(0,l.jsx)("p",{children:"View this on GitHub"})]})]})})})}function LS(t){var n=M((0,e.useState)(t.post.likes.length),2),r=n[0],i=n[1],a=M((0,e.useState)(""),2),o=a[0],u=a[1],s=M((0,e.useState)(),2),c=s[0],f=s[1];function h(){return(h=Vn(jn().mark((function e(){var n;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,NE(t.post.uid);case 2:return e.next=4,_E(t.post.uid);case 4:n=e.sent,console.log(n.likes.length),i(n.likes.length);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,e.useEffect)((function(){(function(e){return PE.apply(this,arguments)})(t.post.posted_by).then((function(e){u(e)})).catch((function(e){console.log(e)})).finally((function(){console.log("Finally")}))}),[]),(0,e.useEffect)((function(){(function(){return RE.apply(this,arguments)})(t.post.posted_by).then((function(e){f(e.length)})).catch((function(e){console.log(e)})).finally((function(){console.log("Finally")}))}),[]),(0,l.jsx)(AS,{children:(0,l.jsxs)(AS.Body,{children:[(0,l.jsxs)(AS.Text,{children:["Post ID ",t.post.uid]}),(0,l.jsx)(AS.Title,{children:o}),(0,l.jsxs)(AS.Text,{children:[c," followers"]}),(0,l.jsx)(AS.Text,{children:t.post.text}),(0,l.jsxs)(PS,{variant:"danger",onClick:function(){return function(){return h.apply(this,arguments)}()},children:[r," Like"]}),(0,l.jsxs)("p",{className:"text-small",children:["(Liked ",t.post.likes.map((function(e){return(0,l.jsx)("span",{children:e},e)}))," )"]})]})})}function MS(){var t=M((0,e.useState)([]),2),n=t[0],r=t[1];function i(){return(i=Vn(jn().mark((function e(){var t;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,IE();case 2:t=e.sent,console.log(t),r(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,e.useEffect)((function(){bE.onAuthStateChanged((function(e){e?(console.log(e),function(){i.apply(this,arguments)}()):(console.log("User not logged in"),window.location.href="/")}))}),[]),(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(AS,{className:"mx-auto col-md-10 mt-4",children:(0,l.jsxs)(AS.Body,{children:[(0,l.jsx)(AS.Title,{children:"Home"}),(0,l.jsxs)(AS.Text,{children:[(0,l.jsx)(PS,{onClick:function(){return window.location.href="/post"},className:"mb-4",children:"Add Post"}),(0,l.jsx)("br",{})]}),(0,l.jsx)(AS.Title,{children:"Posts from people you follow"}),(0,l.jsx)(AS.Text,{children:n?n.map((function(e){return(0,l.jsx)(LS,{post:e},e.uid)})):(0,l.jsx)("p",{children:"No posts"})})]})})})}var FS=["as","className","type","tooltip"],jS={type:Yt().string,tooltip:Yt().bool,as:Yt().elementType},US=e.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,i=e.className,o=e.type,s=void 0===o?"valid":o,f=e.tooltip,h=void 0!==f&&f,d=u(e,FS);return(0,l.jsx)(r,a(a({},d),{},{ref:t,className:c()(i,"".concat(s,"-").concat(h?"tooltip":"feedback"))}))}));US.displayName="Feedback",US.propTypes=jS;var VS=US,zS=e.createContext({}),BS=["id","bsPrefix","className","type","isValid","isInvalid","as"],qS=e.forwardRef((function(t,n){var r=t.id,i=t.bsPrefix,o=t.className,s=t.type,f=void 0===s?"checkbox":s,h=t.isValid,p=void 0!==h&&h,v=t.isInvalid,m=void 0!==v&&v,y=t.as,g=void 0===y?"input":y,k=u(t,BS),b=(0,e.useContext)(zS).controlId;return i=d(i,"form-check-input"),(0,l.jsx)(g,a(a({},k),{},{ref:n,type:f,id:r||b,className:c()(o,i,p&&"is-valid",m&&"is-invalid")}))}));qS.displayName="FormCheckInput";var HS=qS,KS=["bsPrefix","className","htmlFor"],WS=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,o=t.htmlFor,s=u(t,KS),f=(0,e.useContext)(zS).controlId;return r=d(r,"form-check-label"),(0,l.jsx)("label",a(a({},s),{},{ref:n,htmlFor:o||f,className:c()(i,r)}))}));WS.displayName="FormCheckLabel";var GS=WS;var QS=["id","bsPrefix","bsSwitchPrefix","inline","reverse","disabled","isValid","isInvalid","feedbackTooltip","feedback","feedbackType","className","style","title","type","label","children","as"],$S=e.forwardRef((function(t,n){var r=t.id,i=t.bsPrefix,o=t.bsSwitchPrefix,s=t.inline,f=void 0!==s&&s,h=t.reverse,p=void 0!==h&&h,v=t.disabled,m=void 0!==v&&v,y=t.isValid,g=void 0!==y&&y,k=t.isInvalid,b=void 0!==k&&k,w=t.feedbackTooltip,x=void 0!==w&&w,E=t.feedback,S=t.feedbackType,I=t.className,T=t.style,_=t.title,C=void 0===_?"":_,N=t.type,A=void 0===N?"checkbox":N,O=t.label,D=t.children,P=t.as,R=void 0===P?"input":P,L=u(t,QS);i=d(i,"form-check"),o=d(o,"form-switch");var M=(0,e.useContext)(zS).controlId,F=(0,e.useMemo)((function(){return{controlId:r||M}}),[M,r]),j=!D&&null!=O&&!1!==O||function(t,n){return e.Children.toArray(t).some((function(t){return e.isValidElement(t)&&t.type===n}))}(D,GS),U=(0,l.jsx)(HS,a(a({},L),{},{type:"switch"===A?"checkbox":A,ref:n,isValid:g,isInvalid:b,disabled:m,as:R}));return(0,l.jsx)(zS.Provider,{value:F,children:(0,l.jsx)("div",{style:T,className:c()(I,j&&i,f&&"".concat(i,"-inline"),p&&"".concat(i,"-reverse"),"switch"===A&&o),children:D||(0,l.jsxs)(l.Fragment,{children:[U,j&&(0,l.jsx)(GS,{title:C,children:O}),E&&(0,l.jsx)(VS,{type:S,tooltip:x,children:E})]})})})}));$S.displayName="FormCheck";var XS=Object.assign($S,{Input:HS,Label:GS}),YS=(n(391),["bsPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","as"]),JS=e.forwardRef((function(t,n){var i,o,s=t.bsPrefix,f=t.type,h=t.size,p=t.htmlSize,v=t.id,m=t.className,y=t.isValid,g=void 0!==y&&y,k=t.isInvalid,b=void 0!==k&&k,w=t.plaintext,x=t.readOnly,E=t.as,S=void 0===E?"input":E,I=u(t,YS),T=(0,e.useContext)(zS).controlId;(s=d(s,"form-control"),w)?i=r({},"".concat(s,"-plaintext"),!0):(r(o={},s,!0),r(o,"".concat(s,"-").concat(h),h),i=o);return(0,l.jsx)(S,a(a({},I),{},{type:f,size:p,ref:n,readOnly:x,id:v||T,className:c()(m,i,g&&"is-valid",b&&"is-invalid","color"===f&&"".concat(s,"-color"))}))}));JS.displayName="FormControl";var ZS=Object.assign(JS,{Feedback:VS}),eI=ae("form-floating"),tI=["controlId","as"],nI=e.forwardRef((function(t,n){var r=t.controlId,i=t.as,o=void 0===i?"div":i,s=u(t,tI),c=(0,e.useMemo)((function(){return{controlId:r}}),[r]);return(0,l.jsx)(zS.Provider,{value:c,children:(0,l.jsx)(o,a(a({},s),{},{ref:n}))})}));nI.displayName="FormGroup";var rI=nI,iI=["as","bsPrefix","className"],aI=["className"];function oI(t){var n=t.as,r=t.bsPrefix,i=t.className,o=u(t,iI);r=d(r,"col");var s=(0,e.useContext)(h).breakpoints,l=(0,e.useContext)(h).minBreakpoint,f=[],p=[];return s.forEach((function(e){var t,n,i,a=o[e];delete o[e],"object"===typeof a&&null!=a?(t=a.span,n=a.offset,i=a.order):t=a;var u=e!==l?"-".concat(e):"";t&&f.push(!0===t?"".concat(r).concat(u):"".concat(r).concat(u,"-").concat(t)),null!=i&&p.push("order".concat(u,"-").concat(i)),null!=n&&p.push("offset".concat(u,"-").concat(n))})),[a(a({},o),{},{className:c().apply(void 0,[i].concat(f,p))}),{as:n,bsPrefix:r,spans:f}]}var uI=e.forwardRef((function(e,t){var n=M(oI(e),2),r=n[0],i=r.className,o=u(r,aI),s=n[1],f=s.as,h=void 0===f?"div":f,d=s.bsPrefix,p=s.spans;return(0,l.jsx)(h,a(a({},o),{},{ref:t,className:c()(i,!p.length&&d)}))}));uI.displayName="Col";var sI=uI,cI=["as","bsPrefix","column","visuallyHidden","className","htmlFor"],lI=e.forwardRef((function(t,n){var r=t.as,i=void 0===r?"label":r,o=t.bsPrefix,s=t.column,f=t.visuallyHidden,h=t.className,p=t.htmlFor,v=u(t,cI),m=(0,e.useContext)(zS).controlId;o=d(o,"form-label");var y="col-form-label";"string"===typeof s&&(y="".concat(y," ").concat(y,"-").concat(s));var g=c()(h,o,f&&"visually-hidden",s&&y);return p=p||m,s?(0,l.jsx)(sI,a({ref:n,as:"label",className:g,htmlFor:p},v)):(0,l.jsx)(i,a({ref:n,className:g,htmlFor:p},v))}));lI.displayName="FormLabel",lI.defaultProps={column:!1,visuallyHidden:!1};var fI=lI,hI=["bsPrefix","className","id"],dI=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,o=t.id,s=u(t,hI),f=(0,e.useContext)(zS).controlId;return r=d(r,"form-range"),(0,l.jsx)("input",a(a({},s),{},{type:"range",ref:n,className:c()(i,r),id:o||f}))}));dI.displayName="FormRange";var pI=dI,vI=["bsPrefix","size","htmlSize","className","isValid","isInvalid","id"],mI=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.size,o=t.htmlSize,s=t.className,f=t.isValid,h=void 0!==f&&f,p=t.isInvalid,v=void 0!==p&&p,m=t.id,y=u(t,vI),g=(0,e.useContext)(zS).controlId;return r=d(r,"form-select"),(0,l.jsx)("select",a(a({},y),{},{size:o,ref:n,className:c()(s,r,i&&"".concat(r,"-").concat(i),h&&"is-valid",v&&"is-invalid"),id:m||g}))}));mI.displayName="FormSelect";var yI=mI,gI=["bsPrefix","className","as","muted"],kI=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,o=void 0===i?"small":i,s=e.muted,f=u(e,gI);return n=d(n,"form-text"),(0,l.jsx)(o,a(a({},f),{},{ref:t,className:c()(r,n,s&&"text-muted")}))}));kI.displayName="FormText";var bI=kI,wI=e.forwardRef((function(e,t){return(0,l.jsx)(XS,a(a({},e),{},{ref:t,type:"switch"}))}));wI.displayName="Switch";var xI=Object.assign(wI,{Input:XS.Input,Label:XS.Label}),EI=["bsPrefix","className","children","controlId","label"],SI=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.children,o=e.controlId,s=e.label,f=u(e,EI);return n=d(n,"form-floating"),(0,l.jsxs)(rI,a(a({ref:t,className:c()(r,n),controlId:o},f),{},{children:[i,(0,l.jsx)("label",{htmlFor:o,children:s})]}))}));SI.displayName="FloatingLabel";var II=SI,TI=["className","validated","as"],_I={_ref:Yt().any,validated:Yt().bool,as:Yt().elementType},CI=e.forwardRef((function(e,t){var n=e.className,r=e.validated,i=e.as,o=void 0===i?"form":i,s=u(e,TI);return(0,l.jsx)(o,a(a({},s),{},{ref:t,className:c()(n,r&&"was-validated")}))}));CI.displayName="Form",CI.propTypes=_I;var NI=Object.assign(CI,{Group:rI,Control:ZS,Floating:eI,Check:XS,Switch:xI,Label:fI,Text:bI,Range:pI,Select:yI,FloatingLabel:II}),AI=e.createContext(null);AI.displayName="InputGroupContext";var OI=AI,DI=["bsPrefix","size","hasValidation","className","as"],PI=ae("input-group-text",{Component:"span"}),RI=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.size,o=t.hasValidation,s=t.className,f=t.as,h=void 0===f?"div":f,p=u(t,DI);r=d(r,"input-group");var v=(0,e.useMemo)((function(){return{}}),[]);return(0,l.jsx)(OI.Provider,{value:v,children:(0,l.jsx)(h,a(a({ref:n},p),{},{className:c()(s,r,i&&"".concat(r,"-").concat(i),o&&"has-validation")}))})}));RI.displayName="InputGroup";var LI=Object.assign(RI,{Text:PI,Radio:function(e){return(0,l.jsx)(PI,{children:(0,l.jsx)(HS,a({type:"radio"},e))})},Checkbox:function(e){return(0,l.jsx)(PI,{children:(0,l.jsx)(HS,a({type:"checkbox"},e))})}});function MI(){var t=(0,e.useRef)(),n=M((0,e.useState)(!1),2),r=n[0],i=n[1];function a(){return(a=Vn(jn().mark((function e(n){return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),console.log(t.current.value),e.next=4,OE(t.current.value);case 4:if(!e.sent){e.next=6;break}i(!0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(AS,{className:"mx-auto col-md-10 mt-4",children:(0,l.jsxs)(AS.Body,{children:[r?(0,l.jsx)("p",{className:"text-success fw-bold",children:"Post added"}):(0,l.jsx)(l.Fragment,{}),(0,l.jsx)(AS.Title,{children:"Add a new Post"}),(0,l.jsxs)(AS.Text,{children:[(0,l.jsx)(PS,{onClick:function(){return window.location.href="/home"},className:"mb-4",children:"Go back"}),(0,l.jsx)("br",{}),(0,l.jsxs)(NI,{onSubmit:function(e){return a.apply(this,arguments)},children:[(0,l.jsx)(LI,{className:"mb-3",children:(0,l.jsx)(NI.Control,{placeholder:"Post text",ref:t})}),(0,l.jsx)(PS,{variant:"success",type:"submit",children:"Submit"})]})]})]})})})}var FI=function(){return(0,l.jsxs)(hS,{children:[(0,l.jsx)(ME,{}),(0,l.jsxs)(lS,{basename:"/",children:[(0,l.jsx)(sS,{path:"/",element:(0,l.jsx)(RS,{})}),(0,l.jsx)(sS,{path:"home",element:(0,l.jsx)(MS,{})}),(0,l.jsx)(sS,{path:"post",element:(0,l.jsx)(MI,{})})]})]})},jI=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};t.createRoot(document.getElementById("root")).render((0,l.jsx)(e.StrictMode,{children:(0,l.jsx)(FI,{})})),jI()}()}();
//# sourceMappingURL=main.b452c263.js.map